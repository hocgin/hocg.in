<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>hocgin (à¹‘`ç¬Â´à¹‘)</title>
  <icon>https://www.gravatar.com/avatar/8d915a0589a1283f161f25c8ebf45a61</icon>
  <subtitle>Great minds have purpose, others have wishes.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://hocg.in/"/>
  <updated>2018-02-20T05:10:25.342Z</updated>
  <id>https://hocg.in/</id>
  
  <author>
    <name>hocgin</name>
    <email>admin@hocg.in</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ—¥å¿—ç³»ç»Ÿ ELK åœ¨ Spring Boot ä¸Šçš„åˆæ­¥é›†æˆ</title>
    <link href="https://hocg.in/2018/01/22/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%20ELK%20%E5%9C%A8%20Spring%20Boot%20%E4%B8%8A%E7%9A%84%E5%88%9D%E6%AD%A5%E9%9B%86%E6%88%90/"/>
    <id>https://hocg.in/2018/01/22/æ—¥å¿—ç³»ç»Ÿ ELK åœ¨ Spring Boot ä¸Šçš„åˆæ­¥é›†æˆ/</id>
    <published>2018-01-22T08:53:00.000Z</published>
    <updated>2018-02-20T05:10:25.342Z</updated>
    
    <content type="html"><![CDATA[<p>æ—¥å¿—ç³»ç»Ÿ ELK åœ¨ Spring Boot ä¸Šçš„åˆæ­¥é›†æˆ ğŸ˜‹<br><a id="more"></a></p><h2 id="ELK"><a href="#ELK" class="headerlink" title="ELK"></a>ELK</h2><blockquote><p>Elasticsearch + Logstash + Kibana</p><h3 id="Logstash"><a href="#Logstash" class="headerlink" title="Logstash"></a>Logstash</h3><p>æ—¥å¿—æ¬è¿, å¯ä»¥æŒ‡å®šä» Redis/Log4j..å¤„è·å–æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œè¿‡æ»¤ï¼Œå†æäº¤ç»™ <code>Elasticsearch</code> è¿›è¡Œåˆ†æã€‚<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install logstash</span><br><span class="line"><span class="meta">#</span><span class="bash"> brew services restart logstash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./bin/logstash -f config/logstash.conf</span></span><br></pre></td></tr></table></figure></p></blockquote><h3 id="Elasticsearch"><a href="#Elasticsearch" class="headerlink" title="Elasticsearch"></a>Elasticsearch</h3><blockquote><p>æ—¥å¿—å­˜å‚¨ / æŸ¥è¯¢ / åˆ†æ<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install elasticsearch</span><br><span class="line">brew services restart elasticsearch</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="UI-æ“ä½œç•Œé¢"><a href="#UI-æ“ä½œç•Œé¢" class="headerlink" title="UI æ“ä½œç•Œé¢"></a>UI æ“ä½œç•Œé¢</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone git://github.com/mobz/elasticsearch-head.git</span><br><span class="line">cd elasticsearch-head</span><br><span class="line">npm install</span><br><span class="line">npm run start</span><br></pre></td></tr></table></figure><p>å¦‚æœ Elasticsearch å®‰è£…äº† X-Path é‚£ä¹ˆéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­(<code>elasticsearch.yml</code>), åŠ å…¥:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">http.cors.enabled:</span> <span class="literal">true</span> </span><br><span class="line"><span class="string">http.cors.allow-origin:</span> <span class="string">'*'</span> </span><br><span class="line"><span class="string">http.cors.allow-headers:</span> <span class="string">"Authorization"</span></span><br></pre></td></tr></table></figure></p><p><a href="https://chrome.google.com/webstore/detail/elasticsearch-head/ffmkiejjmecolpfloofpjologoblkegm/related" target="_blank" rel="external">elasticsearch-head Chrome Plug-in</a></p><h3 id="Kibana"><a href="#Kibana" class="headerlink" title="Kibana"></a>Kibana</h3><blockquote><p>UI ç•Œé¢</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.elastic.co/downloads/kibana</span><br><span class="line">tar -xvf kibana.tar.gz</span><br><span class="line">./kibana/bin/kibana</span><br><span class="line">open http://localhost:5601/</span><br></pre></td></tr></table></figure><h3 id="Spring-Boot-é›†æˆ"><a href="#Spring-Boot-é›†æˆ" class="headerlink" title="Spring Boot é›†æˆ"></a>Spring Boot é›†æˆ</h3><ol><li><p><code>pom.xml</code> å¼•å…¥ <code>logback</code> æ”¯æŒã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.logstash.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logstash-logback-encoder<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ <code>resources/</code> æ–‡ä»¶å¤¹å†…åˆ›å»º <code>logback-spring.xml</code> æ–‡ä»¶ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"LOGSTASH"</span> <span class="attr">class</span>=<span class="string">"net.logstash.logback.appender.LogstashTcpSocketAppender"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">destination</span>&gt;</span>dev.local:4560<span class="tag">&lt;/<span class="name">destination</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> <span class="attr">class</span>=<span class="string">"net.logstash.logback.encoder.LogstashEncoder"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">resource</span>=<span class="string">"org/springframework/boot/logging/logback/base.xml"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"INFO"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"LOGSTASH"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"CONSOLE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é…ç½® logstash, åˆ›å»º <code>logstash.conf</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">    tcp &#123;</span><br><span class="line">        port =&gt; 4560</span><br><span class="line">        codec =&gt; json_lines</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">output &#123;</span><br><span class="line">    elasticsearch &#123;</span><br><span class="line">        action =&gt; &quot;index&quot;</span><br><span class="line">        hosts =&gt; [&quot;127.0.0.1:9200&quot;]</span><br><span class="line">        index =&gt; &quot;applog&quot;</span><br><span class="line">    ;    user =&gt; &quot;elastic&quot;</span><br><span class="line">    ;    password =&gt; &quot;changeme&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>å¯åŠ¨logstash <code>./bin/logstash -f logstash.conf</code></p><ol><li>ä½¿ç”¨ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestControllerTest</span> </span>&#123;</span><br><span class="line">    Random random = <span class="keyword">new</span> Random();</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testList</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            log.info(<span class="string">"Hello world form hocgin"</span>);</span><br><span class="line">            <span class="keyword">if</span> (random.nextBoolean()) &#123;</span><br><span class="line">                log.info(<span class="string">"sksdjkf "</span> + random.nextInt(<span class="number">1000</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="å…³äº-Kibana-å®‰å…¨é…ç½®"><a href="#å…³äº-Kibana-å®‰å…¨é…ç½®" class="headerlink" title="å…³äº Kibana å®‰å…¨é…ç½®"></a>å…³äº Kibana å®‰å…¨é…ç½®</h2><ul><li><a href="https://www.elastic.co/guide/en/kibana/current/using-kibana-with-security.html" target="_blank" rel="external">Configuring Security in Kibana</a></li></ul><ol><li><p>å®‰è£… x-pack.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">logstash-plugin install x-pack</span><br><span class="line"></span><br><span class="line">elasticsearch-plugin install x-pack</span><br><span class="line"></span><br><span class="line">kibana-plugin install x-pack</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹ <code>config/kibana.yml</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">elasticsearch.username: &quot;elastic&quot; </span><br><span class="line">elasticsearch.password: &quot;changeme&quot;</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹ <code>logstash.conf</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">    tcp &#123;</span><br><span class="line">        port =&gt; 4560</span><br><span class="line">        codec =&gt; json_lines</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">output &#123;</span><br><span class="line">    elasticsearch &#123;</span><br><span class="line">        action =&gt; &quot;index&quot;</span><br><span class="line">        hosts =&gt; [&quot;127.0.0.1:9200&quot;]</span><br><span class="line">        index =&gt; &quot;applog&quot;</span><br><span class="line">        user =&gt; &quot;elastic&quot;</span><br><span class="line">        password =&gt; &quot;changeme&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="å¦‚æœå¿˜è®°-ElasticSearch-å¯†ç "><a href="#å¦‚æœå¿˜è®°-ElasticSearch-å¯†ç " class="headerlink" title="å¦‚æœå¿˜è®° ElasticSearch å¯†ç "></a>å¦‚æœå¿˜è®° ElasticSearch å¯†ç </h3><ol><li>åœæ­¢ <code>ElasticSearch</code> æœåŠ¡</li><li><p>åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x-pack/users useradd my_admin -p my_password -r superuser</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨ <code>ElasticSearch</code> æœåŠ¡</p></li><li>ä½¿ç”¨ API ä¿®æ”¹å¯†ç <br><code>`shellcurl -u my_admin -XPUT &#39;http://localhost:9200/_xpack/security/user/elastic/_password?pretty&#39; -H &#39;Content-Type: application/json&#39; -d&#39;{&quot;password&quot; : &quot;new_password&quot;}&#39;</code></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ—¥å¿—ç³»ç»Ÿ ELK åœ¨ Spring Boot ä¸Šçš„åˆæ­¥é›†æˆ ğŸ˜‹&lt;br&gt;
    
    </summary>
    
      <category term="Server" scheme="https://hocg.in/categories/Server/"/>
    
    
      <category term="ELK" scheme="https://hocg.in/tags/ELK/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot å¯åŠ¨è¿‡ç¨‹ + Bean çš„åˆ›å»ºè¿‡ç¨‹</title>
    <link href="https://hocg.in/2018/01/15/Spring%20Boot%20%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%E5%92%8C%20Bean%20%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B/"/>
    <id>https://hocg.in/2018/01/15/Spring Boot å¯åŠ¨è¿‡ç¨‹å’Œ Bean çš„åˆ›å»ºè¿‡ç¨‹/</id>
    <published>2018-01-15T09:10:20.000Z</published>
    <updated>2018-01-15T09:21:03.785Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™å‡ å¤©åˆ†æäº†ä¸€ä¸‹ Spring Boot å¯åŠ¨è¿‡ç¨‹å’Œ Bean çš„åˆ›å»ºè¿‡ç¨‹ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¥ã€‚<br>å¦‚æœæœ‰ä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿æå‡ºğŸ™ã€‚<br><a id="more"></a></p><h2 id="å¯åŠ¨è¿‡ç¨‹"><a href="#å¯åŠ¨è¿‡ç¨‹" class="headerlink" title="å¯åŠ¨è¿‡ç¨‹"></a>å¯åŠ¨è¿‡ç¨‹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å°† new SpringApplicationBuilder(sources...) åŠ å…¥ sources åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="comment">// ---------------æ¨æ–­æ˜¯å¦æ˜¯Webç¯å¢ƒ------------</span></span><br><span class="line"><span class="comment">// SpringApplication.deduceMainApplicationClass#248</span></span><br><span class="line"><span class="comment">// ä¸»è¦æ˜¯å¦åŒ…å« javax.servlet.Servlet ..</span></span><br><span class="line"><span class="comment">// ---------------Initializer------------</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ ClassLoader</span></span><br><span class="line"><span class="comment">// åˆ†æå¼•å…¥æ‰€æœ‰åŒ…çš„: META-INF/spring.factories æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// - spring-boot-actuator-1.5.8.RELEASE.jar</span></span><br><span class="line"><span class="comment">// - spring-data-redis-1.8.8.RELEASE.jar</span></span><br><span class="line"><span class="comment">// - ..</span></span><br><span class="line"><span class="comment">// è·å¾— Key ä¸º`org.springframework.context.ApplicationContextInitializer`çš„æ‰€æœ‰èŠ‚ç‚¹(Class), å®ä¾‹åŒ–å¹¶é€šè¿‡ @Order è¿›è¡Œæ’åºã€‚</span></span><br><span class="line"><span class="comment">// ---------------Listener------------</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ ClassLoader</span></span><br><span class="line"><span class="comment">// åˆ†æå¼•å…¥æ‰€æœ‰åŒ…çš„: META-INF/spring.factories æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// - spring-boot-actuator-1.5.8.RELEASE.jar</span></span><br><span class="line"><span class="comment">// - spring-data-redis-1.8.8.RELEASE.jar</span></span><br><span class="line"><span class="comment">// - ..</span></span><br><span class="line"><span class="comment">// è·å¾— Key ä¸º`org.springframework.context.ApplicationListener`çš„æ‰€æœ‰èŠ‚ç‚¹(Class), å®ä¾‹åŒ–å¹¶é€šè¿‡ @Order è¿›è¡Œæ’åºã€‚</span></span><br><span class="line"><span class="comment">// ---------------æ¨æ–­Mainç±»------------</span></span><br><span class="line"><span class="comment">// SpringApplication.deduceMainApplicationClass#252</span></span><br><span class="line"><span class="comment">// æ¨æ–­å½“å‰åº”ç”¨çš„å…¥å£å‡½æ•°(æ–¹æ³•åä¸ºmain)ã€‚</span></span><br><span class="line">    <span class="keyword">new</span> SpringApplicationBuilder()</span><br><span class="line">        .sources(Application.class)</span><br><span class="line">        <span class="comment">// -------åˆ¤æ–­æ˜¯å¦çƒ­éƒ¨ç½²çŠ¶æ€---------</span></span><br><span class="line">        <span class="comment">// ---å¦‚æœè®¾ç½®äº† parent() è¿›è¡Œé…ç½®-----</span></span><br><span class="line">        <span class="comment">// configureAsChildIfNecessary(args);å¦‚æœé…ç½®äº†ä¼šåŠ å…¥ä¸€ä¸ª ParentContextApplicationContextInitializer</span></span><br><span class="line">        <span class="comment">// ---------åˆå§‹åŒ–å½“å‰åº”ç”¨----------</span></span><br><span class="line">        <span class="comment">// SpringApplication.run(args)</span></span><br><span class="line">        .run(args);</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ-SpringApplication-run-args"><a href="#åˆ†æ-SpringApplication-run-args" class="headerlink" title="åˆ†æ SpringApplication.run(args)"></a>åˆ†æ SpringApplication.run(args)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¡æ—¶å™¨, ç”¨äºè®°å½•å¯åŠ¨æ—¶é—´</span></span><br><span class="line">StopWatch stopWatch = <span class="keyword">new</span> StopWatch();</span><br><span class="line">stopWatch.start();</span><br><span class="line">ConfigurableApplicationContext context = <span class="keyword">null</span>;</span><br><span class="line">FailureAnalyzers analyzers = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">// è®¾ç½®ä¸ºæ— è¾“å…¥/è¾“å‡ºè®¾å¤‡æ¨¡å¼</span></span><br><span class="line">configureHeadlessProperty();</span><br><span class="line"><span class="comment">// ä½¿ç”¨ ClassLoader</span></span><br><span class="line"><span class="comment">// åˆ†æå¼•å…¥æ‰€æœ‰åŒ…çš„: META-INF/spring.factories æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// è·å¾— Key ä¸º`org.springframework.boot.SpringApplicationRunListener`çš„æ‰€æœ‰èŠ‚ç‚¹(Class), å®ä¾‹åŒ–å¹¶é€šè¿‡ @Order è¿›è¡Œæ’åºã€‚</span></span><br><span class="line"><span class="comment">// å¹¶å°è£…è¿›å…¥ SpringApplicationRunListeners ç±»ã€‚</span></span><br><span class="line">SpringApplicationRunListeners listeners = getRunListeners(args);</span><br><span class="line"><span class="comment">// ç”± SpringApplicationRunListeners æ§åˆ¶ç±»çš„å¯åŠ¨ã€‚</span></span><br><span class="line">listeners.starting();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// å°è£…æˆ‘ä»¬æä¾›çš„ args å‚æ•°</span></span><br><span class="line">    ApplicationArguments applicationArguments = <span class="keyword">new</span> DefaultApplicationArguments(args);</span><br><span class="line">    <span class="comment">// æ ¹æ®æ˜¯å¦ Web ç¯å¢ƒ(webEnvironment) è·å¾—ç¯å¢ƒ(StandardServletEnvironment/StandardEnvironment)</span></span><br><span class="line">    <span class="comment">// - åŠ è½½é»˜è®¤çš„å‚æ•°æº(StandardServletEnvironment.customizePropertySources)</span></span><br><span class="line">    <span class="comment">// - åŠ è½½æˆ‘ä»¬æä¾›çš„å¯åŠ¨å‚æ•°(args)ä½œä¸ºå‚æ•°æºã€‚å½“ç„¶ï¼Œå‰ææ˜¯ addCommandLineProperties ä¸º trueã€‚</span></span><br><span class="line">    <span class="comment">// é€šè¿‡ SpringApplicationRunListeners.environmentPrepared(..) å¤„ç†ä¸Šé¢æä¾›çš„åº”ç”¨ç¯å¢ƒå‚æ•°ã€‚</span></span><br><span class="line">    ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments);</span><br><span class="line">    <span class="comment">// æ‰“å° bannerã€‚æœ¬èº«æ˜¯ç”± Banner ç±»å®ç°çš„</span></span><br><span class="line">    Banner printedBanner = printBanner(environment);</span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ªåº”ç”¨çš„å½“å‰ç¯å¢ƒ, Spring Boot æä¾›äº†2ç§ç¯å¢ƒæ ¹æ®æ˜¯å¦æ˜¯webç¯å¢ƒè¿›è¡ŒåŠ¨æ€å®ä¾‹åŒ–(webEnvironment), åˆ†åˆ«æ˜¯(AnnotationConfigEmbeddedWebApplicationContext/ConfigurableWebApplicationContext)</span></span><br><span class="line">    <span class="comment">// è¿™æ˜¯ä¼šåˆ›å»ºä¸¤ä¸ªç”¨äºæ‰«ææ³¨è§£çš„é‡è¦å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// - AnnotatedBeanDefinitionReader  è¯»å–å™¨, è®¾ç½®ç¯å¢ƒå‚æ•°ï¼Œåˆ›å»ºæ—¶æ³¨å†Œäº†ä¸€ç³»åˆ—çš„ç”¨äº Bean çš„è§£æå™¨(AnnotatedBeanDefinitionReader#65)</span></span><br><span class="line">    <span class="comment">// - ClassPathBeanDefinitionScanner æ‰«æå™¨, è®¾ç½®è·¯å¾„ &amp; ç¯å¢ƒ &amp; æ‹¦æˆªå™¨(Component.class)</span></span><br><span class="line">    context = createApplicationContext();</span><br><span class="line">    <span class="comment">// ----------åˆ›å»ºå¤±è´¥è§£æå™¨------------</span></span><br><span class="line">    <span class="comment">// å½“åˆå§‹åŒ–å‡ºç°é”™è¯¯æ—¶è¿›è¡Œé”™è¯¯åˆ†æå™¨</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ ClassLoader</span></span><br><span class="line">    <span class="comment">// åˆ†æå¼•å…¥æ‰€æœ‰åŒ…çš„: META-INF/spring.factories æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">// - spring-boot-actuator-1.5.8.RELEASE.jar</span></span><br><span class="line">    <span class="comment">// - spring-data-redis-1.8.8.RELEASE.jar</span></span><br><span class="line">    <span class="comment">// - ..</span></span><br><span class="line">    <span class="comment">// è·å¾— Key ä¸º`org.springframework.boot.diagnostics.FailureAnalyzer`çš„æ‰€æœ‰èŠ‚ç‚¹(Class), å®ä¾‹åŒ–å¹¶é€šè¿‡ @Order è¿›è¡Œæ’åºã€‚</span></span><br><span class="line">    <span class="comment">// å¹¶åŠ å…¥ FailureAnalyzers ç®¡ç†ã€‚</span></span><br><span class="line">    analyzers = <span class="keyword">new</span> FailureAnalyzers(context);</span><br><span class="line">    <span class="comment">// è¯¦æƒ…è§ä¸‹æ–¹ã€SpringApplication.prepareContext(..)ã€‘</span></span><br><span class="line">    prepareContext(context, environment, listeners, applicationArguments, printedBanner);</span><br><span class="line">    <span class="comment">// è¯¦æƒ…è§ä¸‹æ–¹ã€åˆ†æ AbstractApplicationContext.refreshContext(context);ã€‘</span></span><br><span class="line">    refreshContext(context);</span><br><span class="line">    <span class="comment">// ApplicationRunner &amp; CommandLineRunner.run æŒ‰ç±»å‹ä» Bean å®¹å™¨ä¸­å–å‡ºï¼Œå¹¶è°ƒç”¨ run(..)</span></span><br><span class="line">    afterRefresh(context, applicationArguments);</span><br><span class="line">    <span class="comment">// å¹¿æ’­é€šçŸ¥ SpringApplicationRunListener.finished</span></span><br><span class="line">    listeners.finished(context, <span class="keyword">null</span>);</span><br><span class="line">    <span class="comment">// å…³é—­è®¡æ—¶å™¨ï¼Œè®°å½•å¯åŠ¨æ—¶é—´</span></span><br><span class="line">    stopWatch.stop();</span><br><span class="line">    <span class="comment">// æ˜¯å¦å¯åŠ¨æ—¥å¿—</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.logStartupInfo) &#123;</span><br><span class="line">        <span class="keyword">new</span> StartupInfoLogger(<span class="keyword">this</span>.mainApplicationClass)</span><br><span class="line">                .logStarted(getApplicationLog(), stopWatch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> context;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†é€€å‡ºå¼‚å¸¸, å­˜å‚¨ ExitCodeEvent</span></span><br><span class="line">    <span class="comment">// å¹¿æ’­é€šçŸ¥ listener(listener.finished(context, exception);)</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ analyzers è¿›è¡Œå¤±è´¥åˆ†æ</span></span><br><span class="line">    handleRunFailure(context, listeners, analyzers, ex);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(ex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ†æ-SpringApplication-prepareContext"><a href="#åˆ†æ-SpringApplication-prepareContext" class="headerlink" title="åˆ†æ SpringApplication.prepareContext(..)"></a>åˆ†æ SpringApplication.prepareContext(..)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">prepareContext</span><span class="params">(ConfigurableApplicationContext context,</span></span></span><br><span class="line"><span class="function"><span class="params">            ConfigurableEnvironment environment, SpringApplicationRunListeners listeners,</span></span></span><br><span class="line"><span class="function"><span class="params">            ApplicationArguments applicationArguments, Banner printedBanner)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®ç¯å¢ƒå‚æ•°</span></span><br><span class="line">    context.setEnvironment(environment);</span><br><span class="line">        <span class="comment">// </span></span><br><span class="line">        <span class="comment">// - æ³¨å†Œè‡ªå®šä¹‰ beanNameGeneratorï¼Œå¦‚æœæœ‰çš„è¯ã€‚</span></span><br><span class="line">        <span class="comment">// - æ³¨å†Œè‡ªå®šä¹‰ resourceLoaderï¼Œå¦‚æœæœ‰çš„è¯ã€‚</span></span><br><span class="line">        <span class="comment">// å…¶ä¸­, resourceLoader åˆ†ä¸ºä¸¤ç§ç±»å‹</span></span><br><span class="line">        <span class="comment">//     - GenericApplicationContext(ResourceLoader)</span></span><br><span class="line">        <span class="comment">//     - DefaultResourceLoader(ClassLoader)</span></span><br><span class="line">    postProcessApplicationContext(context);</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æ‰€æœ‰ä¹‹å‰åŠ è½½çš„ ApplicationContextInitializer èŠ‚ç‚¹</span></span><br><span class="line">    applyInitializers(context);</span><br><span class="line">        <span class="comment">// æ‰€æœ‰ç›‘å¬å™¨é€šçŸ¥è¿›å…¥ contextPrepared é˜¶æ®µ</span></span><br><span class="line">    listeners.contextPrepared(context);</span><br><span class="line">        <span class="comment">// æ˜¯å¦å¯åŠ¨æ—¥å¿—</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.logStartupInfo) &#123;</span><br><span class="line">        <span class="comment">// äº¤ç”±é¡¶çº§æ‰“å°æ—¥å¿—ä¿¡æ¯</span></span><br><span class="line">        logStartupInfo(context.getParent() == <span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">// æ‰“å°é…ç½®æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">        logStartupProfileInfo(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add boot specific singleton beans</span></span><br><span class="line">    context.getBeanFactory().registerSingleton(<span class="string">"springApplicationArguments"</span>,</span><br><span class="line">        applicationArguments);</span><br><span class="line">    <span class="keyword">if</span> (printedBanner != <span class="keyword">null</span>) &#123;</span><br><span class="line">        context.getBeanFactory().registerSingleton(<span class="string">"springBootBanner"</span>, printedBanner);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Load the sources</span></span><br><span class="line">    Set&lt;Object&gt; sources = getSources();</span><br><span class="line">    Assert.notEmpty(sources, <span class="string">"Sources must not be empty"</span>);</span><br><span class="line">        <span class="comment">// åˆ›å»º Bean çš„åŠ è½½å™¨, BeanDefinitionLoader</span></span><br><span class="line">        <span class="comment">// ---------------è§£æå™¨---------------</span></span><br><span class="line">        <span class="comment">// - æ³¨è§£ AnnotatedBeanDefinitionReader</span></span><br><span class="line">        <span class="comment">// - xml XmlBeanDefinitionReader</span></span><br><span class="line">        <span class="comment">// - goovy GroovyBeanDefinitionReader</span></span><br><span class="line">        <span class="comment">// - ç±»è·¯å¾„ ClassPathBeanDefinitionScanner</span></span><br><span class="line">        <span class="comment">// ---------------è‡ªå®šä¹‰-----------------</span></span><br><span class="line">        <span class="comment">// - åŠ è½½è‡ªå®šä¹‰ beanNameGeneratorï¼Œå¦‚æœæœ‰çš„è¯ã€‚</span></span><br><span class="line">        <span class="comment">// - åŠ è½½è‡ªå®šä¹‰ resourceLoaderï¼Œå¦‚æœæœ‰çš„è¯ã€‚</span></span><br><span class="line">        <span class="comment">// - åŠ è½½è‡ªå®šä¹‰ environmentï¼Œå¦‚æœæœ‰çš„è¯ã€‚</span></span><br><span class="line">    load(context, sources.toArray(<span class="keyword">new</span> Object[sources.size()]));</span><br><span class="line">        <span class="comment">// é€šçŸ¥ç¯å¢ƒåŠ è½½ç»“æŸ</span></span><br><span class="line">    listeners.contextLoaded(context);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ†æ-AbstractApplicationContext-refreshContext-context"><a href="#åˆ†æ-AbstractApplicationContext-refreshContext-context" class="headerlink" title="åˆ†æ AbstractApplicationContext.refreshContext(context);"></a>åˆ†æ AbstractApplicationContext.refreshContext(context);</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">refresh</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="keyword">this</span>.startupShutdownMonitor) &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®ä¸ºå¯åŠ¨çŠ¶æ€</span></span><br><span class="line">        <span class="comment">// æ ¡éªŒå¿…é¡»å­—æ®µ, ä½¿ç”¨ ConfigurablePropertyResolver#setRequiredProperties è¿›è¡Œè®¾ç½®ã€‚</span></span><br><span class="line">        <span class="comment">// Prepare this context for refreshing.</span></span><br><span class="line">        prepareRefresh();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ·æ–°å½“å‰ beanFactory çš„ID, å€¼å¾—ä¸€æçš„æ˜¯é»˜è®¤çš„ BeanFactory æ˜¯ org.springframework.beans.factory.support.DefaultListableBeanFactoryã€‚</span></span><br><span class="line">        <span class="comment">// Tell the subclass to refresh the internal bean factory.</span></span><br><span class="line">        ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ----------BeanFactoryé‡ç‚¹åˆå§‹åŒ–(AbstractApplicationContext.prepareBeanFactory#627)---------------</span></span><br><span class="line">        <span class="comment">// - è®¾ç½® BeanClassLoader</span></span><br><span class="line">        <span class="comment">// - è®¾ç½® å­—ç¬¦è§£æå™¨(SpelExpressionParser)</span></span><br><span class="line">        <span class="comment">// - è®¾ç½® èµ„æºä½ç½®</span></span><br><span class="line">        <span class="comment">// - æ·»åŠ  å¤„ç†å™¨</span></span><br><span class="line">        <span class="comment">// - å¿½ç•¥ æŸäº›æ¥å£</span></span><br><span class="line">        <span class="comment">// - æ³¨å†ŒæŸäº›è§£æå™¨è§£å†³ä¾èµ–å…³ç³»</span></span><br><span class="line">        <span class="comment">// - æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨</span></span><br><span class="line">        <span class="comment">// - æ³¨å†Œ é»˜è®¤çš„ environment Bean(3ä¸ª), å¦‚æœä¸å­˜åœ¨çš„è¯ã€‚</span></span><br><span class="line">        <span class="comment">// Prepare the bean factory for use in this context.</span></span><br><span class="line">        prepareBeanFactory(beanFactory);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// AnnotationConfigEmbeddedWebApplicationContext.postProcessBeanFactory#182</span></span><br><span class="line">            <span class="comment">// - åŠ å…¥ WebApplicationContextServletContextAwareProcessor ä½œä¸º BeanPostProcessor </span></span><br><span class="line">            <span class="comment">// - beanFactory.ignoreDependencyInterface(ServletContextAware.class);</span></span><br><span class="line">            <span class="comment">// ä¹Ÿä¼šè¯»å–æ³¨å†Œçš„æ³¨è§£ç±» å’Œ é…ç½®è¦æ‰«æçš„åŒ…ä½ç½®ã€‚</span></span><br><span class="line">            <span class="comment">// Allows post-processing of the bean factory in context subclasses.</span></span><br><span class="line">            postProcessBeanFactory(beanFactory);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(currentRegistryProcessors, registry)</span></span><br><span class="line">            <span class="comment">// é€šè¿‡ ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry#308 æ‰«ææ‰€æœ‰åº”ç”¨æ–‡ä»¶ã€‚</span></span><br><span class="line">            <span class="comment">// - æ‰«æé¢„åˆ¶çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">            <span class="comment">// - æ‰«æåº”ç”¨çš„æ‰€æœ‰æ³¨è§£é…ç½®æˆ Bean å­—å…¸</span></span><br><span class="line">            <span class="comment">// Invoke factory processors registered as beans in the context.</span></span><br><span class="line">            invokeBeanFactoryPostProcessors(beanFactory);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ä½¿ç”¨ BeanPostProcessor.class è·å– Bean(æ‰€æœ‰ Bean å‡åœ¨beanDefinitionMap å†…å«æœ‰), æ’åºå, æ³¨å†Œä¸º Bean å¤„ç†å™¨ã€‚</span></span><br><span class="line">            <span class="comment">// åŠ å…¥ BeanPostProcessorChecker.class ç”¨äºç›‘å¬Beançš„åˆ›å»ºå‘¨æœŸã€‚</span></span><br><span class="line">            <span class="comment">// - priorityOrderedPostProcessors</span></span><br><span class="line">            <span class="comment">// - orderedPostProcessors</span></span><br><span class="line">            <span class="comment">// - nonOrderedPostProcessors</span></span><br><span class="line">            <span class="comment">// - internalPostProcessors</span></span><br><span class="line">            <span class="comment">// åŠ å…¥ ApplicationListenerDetector ä½œä¸ºå…œåº• BeanPostProcessor</span></span><br><span class="line">            <span class="comment">// Register bean processors that intercept bean creation.</span></span><br><span class="line">            registerBeanPostProcessors(beanFactory);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–æ¶ˆæ¯èµ„æº(MessageSource)</span></span><br><span class="line">            <span class="comment">// ä¸€èˆ¬æ˜¯ä½œä¸º i18 çš„èµ„æºæ–‡ä»¶ã€‚</span></span><br><span class="line">            <span class="comment">// Initialize message source for this context.</span></span><br><span class="line">            initMessageSource();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–åº”ç”¨å¹¿æ’­å™¨(ApplicationEventMulticaster)</span></span><br><span class="line">            <span class="comment">// ä¸€èˆ¬ç”¨äºç®¡ç† ApplicationListener</span></span><br><span class="line">            <span class="comment">// Initialize event multicaster for this context.</span></span><br><span class="line">            initApplicationEventMulticaster();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// EmbeddedWebApplicationContext.onRefresh#131</span></span><br><span class="line">            <span class="comment">// åˆ›å»ºåµŒå…¥å¼ Servlet å®¹å™¨</span></span><br><span class="line">            <span class="comment">// Initialize other special beans in specific context subclasses.</span></span><br><span class="line">            onRefresh();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ³¨å†Œ listener beans åˆ° ApplicationEventMulticasterã€‚</span></span><br><span class="line">            <span class="comment">// å¹¿æ’­ (Set&lt;ApplicationEvent&gt; earlyEventsToProcess).multicastEvent</span></span><br><span class="line">            <span class="comment">// Check for listener beans and register them.</span></span><br><span class="line">            registerListeners();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// - è½¬åŒ– BeanFactory ç±»å‹</span></span><br><span class="line">            <span class="comment">// - æä¾›é»˜è®¤çš„åµŒå…¥å€¼è§£æå™¨ï¼Œå¦‚æœéœ€è¦çš„è¯ã€‚</span></span><br><span class="line">            <span class="comment">// - è£…è½½ LoadTimeWeaverAware.class ç±»å‹çš„ Bean</span></span><br><span class="line">            <span class="comment">// - åœæ­¢ä¸´æ—¶çš„ ClassLoad</span></span><br><span class="line">            <span class="comment">// - å†»ç»“é…ç½®</span></span><br><span class="line">            <span class="comment">// - é¢„å…ˆè£…è½½æ‰€æœ‰å•ä¾‹ Beanã€‚</span></span><br><span class="line">            <span class="comment">//    - åˆå§‹åŒ–@Controller @RequestMapping ä¹‹ç±»çš„è¿‡ç¨‹, åŸºæœ¬ä¸Šæˆ‘ä»¬ä½¿ç”¨çš„æ³¨è§£éƒ½æ˜¯è¯¥é˜¶æ®µè¿›è¡Œè®¾ç½®çš„ã€‚</span></span><br><span class="line">            <span class="comment">// Instantiate all remaining (non-lazy-init) singletons.</span></span><br><span class="line">            finishBeanFactoryInitialization(beanFactory);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ----------å‘å¸ƒäº‹ä»¶é€šçŸ¥----------------</span></span><br><span class="line">            <span class="comment">// æ³¨å†Œ LifecycleProcessorï¼Œå¹¶å‘å¸ƒ onRefresh() äº‹ä»¶ã€‚</span></span><br><span class="line">            <span class="comment">// earlyApplicationEvents.add(new ContextRefreshedEvent(this)) åŠ å…¥ Context åˆ·æ–°äº‹ä»¶</span></span><br><span class="line">            <span class="comment">// æ³¨å†Œ LiveBeanï¼Œå¦‚æœæœ‰çš„è¯ã€‚..DevTool Debug é‚£ä¸ª</span></span><br><span class="line">            <span class="comment">// Last step: publish corresponding event.</span></span><br><span class="line">            finishRefresh();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">catch</span> (BeansException ex) &#123;</span><br><span class="line">            <span class="keyword">if</span> (logger.isWarnEnabled()) &#123;</span><br><span class="line">                logger.warn(<span class="string">"Exception encountered during context initialization - "</span> +</span><br><span class="line">                        <span class="string">"cancelling refresh attempt: "</span> + ex);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Destroy already created singletons to avoid dangling resources.</span></span><br><span class="line">            destroyBeans();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Reset 'active' flag.</span></span><br><span class="line">            cancelRefresh(ex);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Propagate exception to caller.</span></span><br><span class="line">            <span class="keyword">throw</span> ex;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// Reset common introspection caches in Spring's core, since we</span></span><br><span class="line">            <span class="comment">// might not ever need metadata for singleton beans anymore...</span></span><br><span class="line">            resetCommonCaches();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…³äº-Bean"><a href="#å…³äº-Bean" class="headerlink" title="å…³äº Bean"></a>å…³äº Bean</h2><ul><li>BeanDefinitionRegistry, Bean å®šä¹‰æ³¨å†Œè¡¨ï¼Œç±»ä¼¼ Bean çš„ä»“åº“ã€‚</li><li>BeanDefinition å­˜å‚¨ Bean çš„ä¿¡æ¯ã€‚<ul><li>Bean çš„ scope ç§ç±», <ul><li>prototype, æ¯æ¬¡è·å–æ—¶åˆ›å»ºã€‚</li><li>request, </li><li>session, </li><li>global session, </li><li>singleton(é»˜è®¤), å•ä¾‹ã€‚</li></ul></li></ul></li><li>BeanFactory, Bean å·¥å‚ã€‚<ul><li>ç”¨äº æ³¨å†Œ Bean, è·å¾— Bean, æ¸…é™¤ Bean, é…ç½® Bean çš„ç›¸å…³ç­–ç•¥ã€‚</li></ul></li><li>DefaultListableBeanFactory æ˜¯ Spring é»˜è®¤çš„ BeanFactoryã€‚<ul><li>registeredSingletons å·²æ³¨å†Œçš„ Bean åˆ—è¡¨, å­˜å‚¨ BeanNameã€‚</li><li>singletonObjects å­˜å‚¨ Bean å¯¹è±¡, ä½¿ç”¨ Map ç»“æ„ã€‚</li><li>earlySingletonObjects å­˜å‚¨ç”± ObjectFactory åˆ›å»ºçš„ Bean å¯¹è±¡ã€‚</li><li>singletonFactories å­˜å‚¨ä¹‹å‰åˆ›å»ºçš„ ObjectFactory å…¶æœ¬è´¨æ˜¯ Bean å¯¹è±¡ã€‚</li><li>beanDefinitionMap æ‰«æå­˜å‚¨çš„è®°å½•ï¼Œå¯ä»¥ç†è§£ä¸º Bean çš„æ€»åå•ã€‚</li><li>mergedBeanDefinitions</li></ul></li></ul><h3 id="è·å–-Bean-getBean"><a href="#è·å–-Bean-getBean" class="headerlink" title="è·å– Bean getBean(..)"></a>è·å– Bean <code>getBean(..)</code></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AbstractBeanFactory.class</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">(String name)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> doGetBean(name, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="keyword">protected</span> &lt;T&gt; <span class="function">T <span class="title">doGetBean</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">final</span> String name, <span class="keyword">final</span> Class&lt;T&gt; requiredType, <span class="keyword">final</span> Object[] args, <span class="keyword">boolean</span> typeCheckOnly)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è§£æ BeanName</span></span><br><span class="line">        <span class="keyword">final</span> String beanName = transformedBeanName(name);</span><br><span class="line">        Object bean;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨è¯¥ Bean, å¦‚æœå­˜åœ¨åˆ™å®ä¾‹åŒ–ã€‚</span></span><br><span class="line">        <span class="comment">// Eagerly check singleton cache for manually registered singletons.</span></span><br><span class="line">        Object sharedInstance = getSingleton(beanName);</span><br><span class="line">        <span class="keyword">if</span> (sharedInstance != <span class="keyword">null</span> &amp;&amp; args == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (isSingletonCurrentlyInCreation(beanName)) &#123;</span><br><span class="line">                    logger.debug(<span class="string">"Returning eagerly cached instance of singleton bean '"</span> + beanName +</span><br><span class="line">                            <span class="string">"' that is not fully initialized yet - a consequence of a circular reference"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    logger.debug(<span class="string">"Returning cached instance of singleton bean '"</span> + beanName + <span class="string">"'"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            bean = getObjectForBeanInstance(sharedInstance, name, beanName, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// Bean ä¸åœ¨ç¼“å­˜</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// å½“æ­£åœ¨åˆ›å»ºçš„ Bean çš„ Scope ä¸º Prototype æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚</span></span><br><span class="line">            <span class="comment">// å› ä¸º Prototype æ¨¡å¼æ— æ³•è§£å†³ä¾èµ–é—®é¢˜ã€‚</span></span><br><span class="line">            <span class="comment">// Fail if we're already creating this bean instance:</span></span><br><span class="line">            <span class="comment">// We're assumably within a circular reference.</span></span><br><span class="line">            <span class="keyword">if</span> (isPrototypeCurrentlyInCreation(beanName)) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> BeanCurrentlyInCreationException(beanName);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœå½“å‰ BeanFactory ä¸åŒ…æ‹¬è¯¥ BeanName å¹¶ä¸”è¯¥ BeanFactory æœ‰çˆ¶ BeanFactory æ—¶ï¼Œå°è¯•ä»çˆ¶ BeanFactory è·å–è¯¥ Beanã€‚</span></span><br><span class="line">            <span class="comment">// Check if bean definition exists in this factory.</span></span><br><span class="line">            BeanFactory parentBeanFactory = getParentBeanFactory();</span><br><span class="line">            <span class="keyword">if</span> (parentBeanFactory != <span class="keyword">null</span> &amp;&amp; !containsBeanDefinition(beanName)) &#123;</span><br><span class="line">                <span class="comment">// Not found -&gt; check parent.</span></span><br><span class="line">                String nameToLookup = originalBeanName(name);</span><br><span class="line">                <span class="keyword">if</span> (args != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// Delegation to parent with explicit args.</span></span><br><span class="line">                    <span class="keyword">return</span> (T) parentBeanFactory.getBean(nameToLookup, args);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// No args -&gt; delegate to standard getBean method.</span></span><br><span class="line">                    <span class="keyword">return</span> parentBeanFactory.getBean(nameToLookup, requiredType);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœä¸åªä¾é ç±»å‹è¿›è¡Œè·å–, è¿›è¡Œæ ‡è®°ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (!typeCheckOnly) &#123;</span><br><span class="line">                markBeanAsCreated(beanName);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// å°†è§£æè½¬åŒ–ä¸º Bean çš„ä¿¡æ¯ï¼Œæ³¨å†Œå¹¶è·å–å…¶ä¾èµ–çš„ Beanã€‚</span></span><br><span class="line">                <span class="keyword">final</span> RootBeanDefinition mbd = getMergedLocalBeanDefinition(beanName);</span><br><span class="line">                checkMergedBeanDefinition(mbd, beanName, args);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Guarantee initialization of beans that the current bean depends on.</span></span><br><span class="line">                String[] dependsOn = mbd.getDependsOn();</span><br><span class="line">                <span class="keyword">if</span> (dependsOn != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (String dep : dependsOn) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (isDependent(beanName, dep)) &#123;</span><br><span class="line">                            <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(mbd.getResourceDescription(), beanName,</span><br><span class="line">                                    <span class="string">"Circular depends-on relationship between '"</span> + beanName + <span class="string">"' and '"</span> + dep + <span class="string">"'"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        registerDependentBean(dep, beanName);</span><br><span class="line">                        getBean(dep);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å½“ Bean çš„ Scope ä¸º Singleton æ—¶</span></span><br><span class="line">                <span class="comment">// Create bean instance.</span></span><br><span class="line">                <span class="keyword">if</span> (mbd.isSingleton()) &#123;</span><br><span class="line">                    sharedInstance = getSingleton(beanName, <span class="keyword">new</span> ObjectFactory&lt;Object&gt;() &#123;</span><br><span class="line">                        <span class="meta">@Override</span></span><br><span class="line">                        <span class="function"><span class="keyword">public</span> Object <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">                            <span class="keyword">try</span> &#123;</span><br><span class="line">                                <span class="keyword">return</span> createBean(beanName, mbd, args);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">catch</span> (BeansException ex) &#123;</span><br><span class="line">                                <span class="comment">// Explicitly remove instance from singleton cache: It might have been put there</span></span><br><span class="line">                                <span class="comment">// eagerly by the creation process, to allow for circular reference resolution.</span></span><br><span class="line">                                <span class="comment">// Also remove any beans that received a temporary reference to the bean.</span></span><br><span class="line">                                destroySingleton(beanName);</span><br><span class="line">                                <span class="keyword">throw</span> ex;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                    bean = getObjectForBeanInstance(sharedInstance, name, beanName, mbd);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å½“ Bean çš„ Scope ä¸º Prototype æ—¶</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (mbd.isPrototype()) &#123;</span><br><span class="line">                    <span class="comment">// It's a prototype -&gt; create a new instance.</span></span><br><span class="line">                    Object prototypeInstance = <span class="keyword">null</span>;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        beforePrototypeCreation(beanName);</span><br><span class="line">                        prototypeInstance = createBean(beanName, mbd, args);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">finally</span> &#123;</span><br><span class="line">                        afterPrototypeCreation(beanName);</span><br><span class="line">                    &#125;</span><br><span class="line">                    bean = getObjectForBeanInstance(prototypeInstance, name, beanName, mbd);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å½“ Bean çš„ Scope ä¸º å…¶ä»– æ—¶</span></span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    String scopeName = mbd.getScope();</span><br><span class="line">                    <span class="keyword">final</span> Scope scope = <span class="keyword">this</span>.scopes.get(scopeName);</span><br><span class="line">                    <span class="keyword">if</span> (scope == <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"No Scope registered for scope name '"</span> + scopeName + <span class="string">"'"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Object scopedInstance = scope.get(beanName, <span class="keyword">new</span> ObjectFactory&lt;Object&gt;() &#123;</span><br><span class="line">                            <span class="meta">@Override</span></span><br><span class="line">                            <span class="function"><span class="keyword">public</span> Object <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">                                beforePrototypeCreation(beanName);</span><br><span class="line">                                <span class="keyword">try</span> &#123;</span><br><span class="line">                                    <span class="keyword">return</span> createBean(beanName, mbd, args);</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">finally</span> &#123;</span><br><span class="line">                                    afterPrototypeCreation(beanName);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                        bean = getObjectForBeanInstance(scopedInstance, name, beanName, mbd);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">catch</span> (IllegalStateException ex) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(beanName,</span><br><span class="line">                                <span class="string">"Scope '"</span> + scopeName + <span class="string">"' is not active for the current thread; consider "</span> +</span><br><span class="line">                                <span class="string">"defining a scoped proxy for this bean if you intend to refer to it from a singleton"</span>,</span><br><span class="line">                                ex);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (BeansException ex) &#123;</span><br><span class="line">                cleanupAfterBeanCreationFailure(beanName);</span><br><span class="line">                <span class="keyword">throw</span> ex;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥è·å¾—çš„ Bean ç±»å‹æ˜¯å¦ç¬¦åˆé¢„æœŸç»“æœã€‚</span></span><br><span class="line">        <span class="comment">// Check if required type matches the type of the actual bean instance.</span></span><br><span class="line">        <span class="keyword">if</span> (requiredType != <span class="keyword">null</span> &amp;&amp; bean != <span class="keyword">null</span> &amp;&amp; !requiredType.isInstance(bean)) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> getTypeConverter().convertIfNecessary(bean, requiredType);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (TypeMismatchException ex) &#123;</span><br><span class="line">                <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">                    logger.debug(<span class="string">"Failed to convert bean '"</span> + name + <span class="string">"' to required type '"</span> +</span><br><span class="line">                            ClassUtils.getQualifiedName(requiredType) + <span class="string">"'"</span>, ex);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> BeanNotOfRequiredTypeException(name, requiredType, bean.getClass());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (T) bean;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-Bean-createBean"><a href="#åˆ›å»º-Bean-createBean" class="headerlink" title="åˆ›å»º Bean createBean(..)"></a>åˆ›å»º Bean <code>createBean(..)</code></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AbstractAutowireCapableBeanFactory.class</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">createBean</span><span class="params">(String beanName, RootBeanDefinition mbd, Object[] args)</span> <span class="keyword">throws</span> BeanCreationException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">            logger.debug(<span class="string">"Creating instance of bean '"</span> + beanName + <span class="string">"'"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        RootBeanDefinition mbdToUse = mbd;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®ä¿¡æ¯(mbd, beanName)è·å– Bean çš„ç±»å‹</span></span><br><span class="line">        <span class="comment">// Make sure bean class is actually resolved at this point, and</span></span><br><span class="line">        <span class="comment">// clone the bean definition in case of a dynamically resolved Class</span></span><br><span class="line">        <span class="comment">// which cannot be stored in the shared merged bean definition.</span></span><br><span class="line">        Class&lt;?&gt; resolvedClass = resolveBeanClass(mbd, beanName);</span><br><span class="line">        <span class="keyword">if</span> (resolvedClass != <span class="keyword">null</span> &amp;&amp; !mbd.hasBeanClass() &amp;&amp; mbd.getBeanClassName() != <span class="keyword">null</span>) &#123;</span><br><span class="line">            mbdToUse = <span class="keyword">new</span> RootBeanDefinition(mbd);</span><br><span class="line">            mbdToUse.setBeanClass(resolvedClass);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¡éªŒé‡è½½å‡½æ•°</span></span><br><span class="line">        <span class="comment">// Prepare method overrides.</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mbdToUse.prepareMethodOverrides();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (BeanDefinitionValidationException ex) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BeanDefinitionStoreException(mbdToUse.getResourceDescription(),</span><br><span class="line">                    beanName, <span class="string">"Validation of method overrides failed"</span>, ex);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Spring æä¾›çš„ï¼Œç”± BeanPostProcessor è¿›è¡Œå¤„ç†æ¥å…¥ç‚¹ã€‚</span></span><br><span class="line">            <span class="comment">// Give BeanPostProcessors a chance to return a proxy instead of the target bean instance.</span></span><br><span class="line">            Object bean = resolveBeforeInstantiation(beanName, mbdToUse);</span><br><span class="line">            <span class="keyword">if</span> (bean != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> bean;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(mbdToUse.getResourceDescription(), beanName,</span><br><span class="line">                    <span class="string">"BeanPostProcessor before instantiation of bean failed"</span>, ex);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é»˜è®¤çš„åˆ›å»º Bean æ–¹å¼</span></span><br><span class="line">        Object beanInstance = doCreateBean(beanName, mbdToUse, args);</span><br><span class="line">        <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">            logger.debug(<span class="string">"Finished creating instance of bean '"</span> + beanName + <span class="string">"'"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> beanInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AbstractAutowireCapableBeanFactory.class</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">doCreateBean</span><span class="params">(<span class="keyword">final</span> String beanName, <span class="keyword">final</span> RootBeanDefinition mbd, <span class="keyword">final</span> Object[] args)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> BeanCreationException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ® Bean ä¿¡æ¯å®ä¾‹åŒ– Bean</span></span><br><span class="line">        <span class="comment">// Instantiate the bean.</span></span><br><span class="line">        BeanWrapper instanceWrapper = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (mbd.isSingleton()) &#123;</span><br><span class="line">            instanceWrapper = <span class="keyword">this</span>.factoryBeanInstanceCache.remove(beanName);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (instanceWrapper == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instanceWrapper = createBeanInstance(beanName, mbd, args);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">final</span> Object bean = (instanceWrapper != <span class="keyword">null</span> ? instanceWrapper.getWrappedInstance() : <span class="keyword">null</span>);</span><br><span class="line">        Class&lt;?&gt; beanType = (instanceWrapper != <span class="keyword">null</span> ? instanceWrapper.getWrappedClass() : <span class="keyword">null</span>);</span><br><span class="line">        mbd.resolvedTargetType = beanType;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ MergedBeanDefinitionPostProcessor è¿›è¡Œå¤„ç†</span></span><br><span class="line">        <span class="comment">// Allow post-processors to modify the merged bean definition.</span></span><br><span class="line">        <span class="keyword">synchronized</span> (mbd.postProcessingLock) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!mbd.postProcessed) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    applyMergedBeanDefinitionPostProcessors(mbd, beanType, beanName);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(mbd.getResourceDescription(), beanName,</span><br><span class="line">                            <span class="string">"Post-processing of merged bean definition failed"</span>, ex);</span><br><span class="line">                &#125;</span><br><span class="line">                mbd.postProcessed = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Eagerly cache singletons to be able to resolve circular references</span></span><br><span class="line">        <span class="comment">// even when triggered by lifecycle interfaces like BeanFactoryAware.</span></span><br><span class="line">        <span class="keyword">boolean</span> earlySingletonExposure = (mbd.isSingleton() &amp;&amp; <span class="keyword">this</span>.allowCircularReferences &amp;&amp;</span><br><span class="line">                isSingletonCurrentlyInCreation(beanName));</span><br><span class="line">        <span class="comment">// å•ä¾‹ &amp; å…è®¸å¾ªç¯å¼•ç”¨ &amp; æ­£åœ¨åˆ›å»º</span></span><br><span class="line">        <span class="keyword">if</span> (earlySingletonExposure) &#123;</span><br><span class="line">            <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">                logger.debug(<span class="string">"Eagerly caching bean '"</span> + beanName +</span><br><span class="line">                        <span class="string">"' to allow for resolving potential circular references"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä½¿ç”¨ ObjectFactory æ¥ç®¡ç† Bean é˜²æ­¢å¾ªç¯ä¾èµ–ã€‚</span></span><br><span class="line">            addSingletonFactory(beanName, <span class="keyword">new</span> ObjectFactory&lt;Object&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> Object <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> getEarlyBeanReference(beanName, mbd, bean);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Initialize the bean instance.</span></span><br><span class="line">        Object exposedObject = bean;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//  å¯¹ Bean çš„å±æ€§è¿›è¡Œå¡«å……</span></span><br><span class="line">            populateBean(beanName, mbd, instanceWrapper);</span><br><span class="line">            <span class="keyword">if</span> (exposedObject != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// åˆå§‹åŒ– Bean å®ä¾‹</span></span><br><span class="line">                exposedObject = initializeBean(beanName, exposedObject, mbd);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ex <span class="keyword">instanceof</span> BeanCreationException &amp;&amp; beanName.equals(((BeanCreationException) ex).getBeanName())) &#123;</span><br><span class="line">                <span class="keyword">throw</span> (BeanCreationException) ex;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(</span><br><span class="line">                        mbd.getResourceDescription(), beanName, <span class="string">"Initialization of bean failed"</span>, ex);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (earlySingletonExposure) &#123;</span><br><span class="line">            Object earlySingletonReference = getSingleton(beanName, <span class="keyword">false</span>);</span><br><span class="line">            <span class="comment">// å­˜åœ¨å·²åˆ›å»ºçš„å•ä¾‹, ä¸€èˆ¬æƒ…å†µä¸ºè§£å†³ä¾èµ–çš„æ—¶å€™ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (earlySingletonReference != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (exposedObject == bean) &#123;</span><br><span class="line">                    exposedObject = earlySingletonReference;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å…è®¸å¾ªç¯ä¾èµ–ä¸ä¸€è‡´ &amp; Bean å«æœ‰ä¾èµ–ã€‚</span></span><br><span class="line">                <span class="comment">// æ­¤æ—¶å¦‚æœå­˜åœ¨ä¾èµ–ï¼Œå°†ä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="keyword">this</span>.allowRawInjectionDespiteWrapping &amp;&amp; hasDependentBean(beanName)) &#123;</span><br><span class="line">                    String[] dependentBeans = getDependentBeans(beanName);</span><br><span class="line">                    Set&lt;String&gt; actualDependentBeans = <span class="keyword">new</span> LinkedHashSet&lt;String&gt;(dependentBeans.length);</span><br><span class="line">                    <span class="keyword">for</span> (String dependentBean : dependentBeans) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (!removeSingletonIfCreatedForTypeCheckOnly(dependentBean)) &#123;</span><br><span class="line">                            actualDependentBeans.add(dependentBean);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!actualDependentBeans.isEmpty()) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> BeanCurrentlyInCreationException(beanName,</span><br><span class="line">                                <span class="string">"Bean with name '"</span> + beanName + <span class="string">"' has been injected into other beans ["</span> +</span><br><span class="line">                                StringUtils.collectionToCommaDelimitedString(actualDependentBeans) +</span><br><span class="line">                                <span class="string">"] in its raw version as part of a circular reference, but has eventually been "</span> +</span><br><span class="line">                                <span class="string">"wrapped. This means that said other beans do not use the final version of the "</span> +</span><br><span class="line">                                <span class="string">"bean. This is often the result of over-eager type matching - consider using "</span> +</span><br><span class="line">                                <span class="string">"'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example."</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ³¨å†Œä¸€æ¬¡æ€§ Bean</span></span><br><span class="line">        <span class="comment">// Register bean as disposable.</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            registerDisposableBeanIfNecessary(beanName, bean, mbd);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (BeanDefinitionValidationException ex) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(</span><br><span class="line">                    mbd.getResourceDescription(), beanName, <span class="string">"Invalid destruction signature"</span>, ex);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> exposedObject;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™å‡ å¤©åˆ†æäº†ä¸€ä¸‹ Spring Boot å¯åŠ¨è¿‡ç¨‹å’Œ Bean çš„åˆ›å»ºè¿‡ç¨‹ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¥ã€‚&lt;br&gt;å¦‚æœæœ‰ä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿æå‡ºğŸ™ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Web" scheme="https://hocg.in/categories/Web/"/>
    
    
      <category term="Spring Boot" scheme="https://hocg.in/tags/Spring-Boot/"/>
    
      <category term="Web" scheme="https://hocg.in/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Docker äº¤å‰ç¼–è¯‘ OpenWrt ä¸Šè¿è¡Œçš„ Golang ç¨‹åº</title>
    <link href="https://hocg.in/2017/11/23/%E4%BD%BF%E7%94%A8%20Docker%20%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%20OpenWrt%20%E4%B8%8A%E8%BF%90%E8%A1%8C%E7%9A%84%20Golang%20%E7%A8%8B%E5%BA%8F/"/>
    <id>https://hocg.in/2017/11/23/ä½¿ç”¨ Docker äº¤å‰ç¼–è¯‘ OpenWrt ä¸Šè¿è¡Œçš„ Golang ç¨‹åº/</id>
    <published>2017-11-23T02:17:02.000Z</published>
    <updated>2018-01-09T00:33:32.850Z</updated>
    
    <content type="html"><![CDATA[<p>>.&lt;<br><a id="more"></a></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>ä½¿ç”¨ <code>https://github.com/gomini/go-mips32</code> å¯¹ Go ç¨‹åºè¿›è¡Œäº¤å‰ç¼–è¯‘.</li></ul><h2 id="ä½¿ç”¨-Docker-äº¤å‰ç¼–è¯‘-Go-ç¨‹åº"><a href="#ä½¿ç”¨-Docker-äº¤å‰ç¼–è¯‘-Go-ç¨‹åº" class="headerlink" title="ä½¿ç”¨ Docker äº¤å‰ç¼–è¯‘ Go ç¨‹åº"></a>ä½¿ç”¨ Docker äº¤å‰ç¼–è¯‘ Go ç¨‹åº</h2><ol><li><p>æ‹‰å–é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull conoro/go-mips32:v1</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨é•œåƒå¹¶æŒ‚è½½æœ¬åœ°ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v ç¨‹åºç›®å½•:/go/src conoro/go-mips32:v1 /bin/sh</span><br><span class="line"><span class="built_in">cd</span> src</span><br><span class="line"><span class="comment"># ç¼–è¯‘</span></span><br><span class="line"><span class="comment"># export GOOS=linux</span></span><br><span class="line"><span class="comment"># export GOARCH=mips32le</span></span><br><span class="line">go build main.go</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&gt;.&amp;lt;&lt;br&gt;
    
    </summary>
    
      <category term="Docker" scheme="https://hocg.in/categories/Docker/"/>
    
    
      <category term="OpenWrt" scheme="https://hocg.in/tags/OpenWrt/"/>
    
      <category term="Docker" scheme="https://hocg.in/tags/Docker/"/>
    
      <category term="Go" scheme="https://hocg.in/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªç¼–è¯‘ OpenWrt ç³»ç»Ÿ</title>
    <link href="https://hocg.in/2017/11/22/%E8%87%AA%E7%BC%96%E8%AF%91%20OpenWrt%20%E7%B3%BB%E7%BB%9F/"/>
    <id>https://hocg.in/2017/11/22/è‡ªç¼–è¯‘ OpenWrt ç³»ç»Ÿ/</id>
    <published>2017-11-22T02:18:02.000Z</published>
    <updated>2018-01-04T10:30:58.409Z</updated>
    
    <content type="html"><![CDATA[<p>ğŸ˜Œ æ•´ç†ã€è®°å½•ä¸€ä¸‹æ­¥éª¤..<br><a id="more"></a></p><h1 id="å‰ç½®"><a href="#å‰ç½®" class="headerlink" title="å‰ç½®"></a>å‰ç½®</h1><h2 id="æ›´æ”¹æº"><a href="#æ›´æ”¹æº" class="headerlink" title="æ›´æ”¹æº"></a>æ›´æ”¹æº</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed -i.bak 's/\/us.archive.ubuntu.com\//\/cn.archive.ubuntu.com\//g' /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><h2 id="å…³é—­IPv6"><a href="#å…³é—­IPv6" class="headerlink" title="å…³é—­IPv6"></a>å…³é—­IPv6</h2><p>echo 1 &gt; /proc/sys/net/ipv6/conf/<eth1>/disable_ipv6</eth1></p><h2 id="å‰ç½®å®‰è£…"><a href="#å‰ç½®å®‰è£…" class="headerlink" title="å‰ç½®å®‰è£…"></a>å‰ç½®å®‰è£…</h2><ul><li>git subversion make automake autoconf gcc g++ binutils</li></ul><h2 id="make-ç¼ºçœå®‰è£…"><a href="#make-ç¼ºçœå®‰è£…" class="headerlink" title="make, ç¼ºçœå®‰è£…"></a>make, ç¼ºçœå®‰è£…</h2><ul><li>libncurses5-dev</li><li>libssl-dev</li><li>gawk</li></ul><h2 id="å‰ç½®-1"><a href="#å‰ç½®-1" class="headerlink" title="å‰ç½®"></a>å‰ç½®</h2><ul><li>GitHub(git clone <a href="https://github.com/openwrt/openwrt" target="_blank" rel="external">https://github.com/openwrt/openwrt</a>) è·å– OpenWrt, æ›´æ”¹ openWrt ç›®å½•ä¸ºå½“å‰ç”¨æˆ·æ‰€æœ‰æƒ<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¾‹å¦‚:</span></span><br><span class="line">chown -R hocgin:hocgin openwrt</span><br></pre></td></tr></table></figure></li></ul><hr><h1 id="ç¼–è¯‘-openwrt"><a href="#ç¼–è¯‘-openwrt" class="headerlink" title="ç¼–è¯‘(openwrt/)"></a>ç¼–è¯‘(openwrt/)</h1><h2 id="ç¼–è¯‘è¿‡ç¨‹"><a href="#ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="ç¼–è¯‘è¿‡ç¨‹"></a>ç¼–è¯‘è¿‡ç¨‹</h2><ol><li><p>make</p></li><li><p>./script/feeds update -a</p></li><li><p>./script/feeds install -a</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4. make deconfig <span class="comment"># ä½¿ç”¨é»˜è®¤çš„é…ç½®</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5. make menuconfig <span class="comment"># åŸºäºç»ˆç«¯çš„ä¸€ç§é…ç½®æ–¹å¼ï¼Œæä¾›äº†æ–‡æœ¬æ¨¡å¼çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å…‰æ ‡ç§»åŠ¨æ¥æµè§ˆæ‰€æ”¯æŒçš„å„ç§ç‰¹æ€§ã€‚</span></span><br></pre></td></tr></table></figure><blockquote><p>å›ºä»¶é…ç½®, å¯ä»¥é€‰æ‹©ç¼–è¯‘çš„è½¯ä»¶åŒ…</p></blockquote><pre><code>## éƒ¨åˆ†é€‰é¡¹- æ¶æ„(AR7xxx) - FLASH(Generic)- è·¯ç”±å™¨å‹å·(WNDR3800) - æ–‡ä»¶ç³»ç»Ÿ(squashfs)- é€šç”¨è®¾ç½®    - [-] Crytographically signed package lists    - [-] Compile with support for patented functionallty    - [-] Enable shadow password support    - [-] Crash logging    - [-] Compile the kernel with debug information    - [-] Compile the kernel SysRq support    - [-] Enable process core dump support    - [-] Enable printk timestamps    - [-] Enable Ipv6 support in packages    - [-] Compile certain packages parallelized    - [-] Enable gcc format-security- [-] Build the OpenWrt Image Builder    - [-] In- [-] Build the OpenWrt SDK- [-] Package the OpenWrt-based Toolchain</code></pre><p>å…¶ä½™é»˜è®¤ã€‚</p><ol><li><p>make kernel_config</p><blockquote><p>å†…æ ¸é…ç½®[å¼€å¯æµ®ç‚¹æ•°æ¨¡æ‹Ÿ(FPU)]</p></blockquote></li><li><p>make V=s -j&lt;å¤„ç†å™¨æ•°é‡&gt;</p></li><li><p>ç¼–è¯‘å®Œæˆåï¼Œç§»å‡º<code>bin/ar71xx/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64.tar.bz2</code> æ–‡ä»¶, å¹¶è§£å‹(tar xvf).</p></li><li><p>è¿›å…¥(<code>OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64/</code>)</p></li><li><p>ç¼–è¯‘æˆé•œåƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ£€æŸ¥åŸºç¡€é•œåƒ</span></span><br><span class="line">parallels@ubuntu:~/OpenWrt/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64$ make image PROFILE=WNDR3700</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åŒ…å«å¿…å¤‡åŒ…`é¢„è£…è½¯ä»¶`çš„é•œåƒ</span></span><br><span class="line">parallels@ubuntu:~/OpenWrt/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64$ make image PROFILE=WNDR3700 PACKAGES="-dnsmasq dnsmasq-full ipset openssh-keygen openssh-server openssh-sftp-server kmod-fs-ext4 kmod-fs-ntfs kmod-fs-vfat kmod-usb2 kmod-usb-core kmod-usb-storage kmod-usb-storage-extras luci-app-firewall luci-app-samba luci-app-upnp luci luci-theme-material curl kmod-ipt-nat-extra libpcre"</span><br></pre></td></tr></table></figure></li><li><p>ç”Ÿæˆé•œåƒ(<code>~/OpenWrt/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64/bin/</code>)</p></li></ol><ul><li>openwrt-ar71xx-generic-wndr3800-squashfs-sysupgrade.bin</li><li>openwrt-ar71xx-generic-wndr3800-squashfs-factory.img</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ğŸ˜Œ æ•´ç†ã€è®°å½•ä¸€ä¸‹æ­¥éª¤..&lt;br&gt;
    
    </summary>
    
      <category term="OpenWrt" scheme="https://hocg.in/categories/OpenWrt/"/>
    
    
      <category term="OpenWrt" scheme="https://hocg.in/tags/OpenWrt/"/>
    
  </entry>
  
  <entry>
    <title>åˆ¶ä½œ.ipkå®‰è£…æ–‡ä»¶</title>
    <link href="https://hocg.in/2017/11/19/%E5%88%B6%E4%BD%9C.ipk/"/>
    <id>https://hocg.in/2017/11/19/åˆ¶ä½œ.ipk/</id>
    <published>2017-11-19T04:30:21.000Z</published>
    <updated>2018-01-09T00:35:43.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>.ipk</code> æœ¬è´¨æ˜¯<code>tar.gz</code>æ ¼å¼çš„å‹ç¼©åŒ…, æŒ‰ç…§æŸç§è§„èŒƒæ ¼å¼(<code>ç±»ä¼¼.debåŒ…</code>)è¿›è¡Œ â€¦<br><a id="more"></a></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ol><li><code>.ipk</code> æœ¬è´¨æ˜¯<code>tar.gz</code>æ ¼å¼çš„å‹ç¼©åŒ…, æŒ‰ç…§æŸç§è§„èŒƒæ ¼å¼(<code>ç±»ä¼¼.debåŒ…</code>)è¿›è¡Œå‹ç¼©è€Œæˆçš„ã€‚</li><li>å½“æˆ‘ä»¬å¯¹å®ƒçš„å†…å®¹è¿›è¡Œæ“ä½œæ—¶å€™æ‰€ä½¿ç”¨çš„ç”¨æˆ·å³æ˜¯å®ƒå®‰è£…åæ‰€æ‹¥æœ‰çš„ç”¨æˆ·å’Œæƒé™(<code>sudo chown root:root -R .</code>)ã€‚</li><li>å·²ç»å­˜åœ¨çš„æ–‡ä»¶å¹¶ä¸èƒ½è¿›è¡Œæ›¿æ¢, åˆ‡è®°ã€‚</li></ol><h2 id="æ–‡ä»¶ä»‹ç»"><a href="#æ–‡ä»¶ä»‹ç»" class="headerlink" title="æ–‡ä»¶ä»‹ç»"></a>æ–‡ä»¶ä»‹ç»</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ control.tar.gz <span class="comment"># å®‰è£…/å¸è½½ è„šæœ¬</span></span><br><span class="line">â”œâ”€â”€ data.tar.gz <span class="comment"># äºŒè¿›åˆ¶/é…ç½®æ–‡ä»¶..</span></span><br><span class="line">â””â”€â”€ debian-binary <span class="comment"># å›ºæœ‰æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h2 id="control-tar-gz-å†…å®¹"><a href="#control-tar-gz-å†…å®¹" class="headerlink" title="control.tar.gz å†…å®¹"></a>control.tar.gz å†…å®¹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ control <span class="comment"># æ–‡ä»¶ä»‹ç»[åŒ…æ‹¬: ä¾èµ–/ç‰ˆæœ¬/æ¶æ„/ä½œè€…..]</span></span><br><span class="line">â”œâ”€â”€ postinst <span class="comment"># å®‰è£…è„šæœ¬</span></span><br><span class="line">â””â”€â”€ postrm <span class="comment"># å¸è½½è„šæœ¬</span></span><br></pre></td></tr></table></figure><h3 id="control-æ­¤å¤„ä¸¾ä¸ªæ —å­"><a href="#control-æ­¤å¤„ä¸¾ä¸ªæ —å­" class="headerlink" title="control æ­¤å¤„ä¸¾ä¸ªæ —å­"></a><code>control</code> æ­¤å¤„ä¸¾ä¸ªæ —å­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Package: IPKName <span class="comment"># .ipk NAME</span></span><br><span class="line">Version: 1</span><br><span class="line">Section: net</span><br><span class="line">Priority: optional</span><br><span class="line">Architecture: ar71xx <span class="comment"># ç³»ç»Ÿæ¶æ„</span></span><br><span class="line">Maintainer: hocgin &lt;hocgin@gmail.com&gt;</span><br><span class="line">Description: my first ipk</span><br></pre></td></tr></table></figure><h3 id="postinst-å®‰è£…è„šæœ¬"><a href="#postinst-å®‰è£…è„šæœ¬" class="headerlink" title="postinst å®‰è£…è„šæœ¬"></a>postinst å®‰è£…è„šæœ¬</h3><blockquote><p>å› ä¸ºå‰è¨€çš„<code>3</code>åŸå› , å½“æˆ‘ä»¬éœ€è¦å¯¹å·²å­˜åœ¨æ–‡ä»¶è¿›è¡Œä¿®æ”¹æ—¶, åªèƒ½ä½¿ç”¨å†™å…¥çš„æ–¹å¼è¿›è¡Œä¿®æ”¹ã€‚</p></blockquote><p>ä¾‹å¦‚:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"installed done"</span> &gt; /tmp/ipk.log</span><br></pre></td></tr></table></figure></p><h3 id="postinst-å¸è½½è„šæœ¬"><a href="#postinst-å¸è½½è„šæœ¬" class="headerlink" title="postinst å¸è½½è„šæœ¬"></a>postinst å¸è½½è„šæœ¬</h3><blockquote><p>è‡ªå·±çº¦çš„XğŸ¤£ã€‚ã€‚</p></blockquote><p>ä¾‹å¦‚:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">rm -rf /tmp/ipk.log</span><br></pre></td></tr></table></figure></p><h3 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…~"></a>æ‰“åŒ…~</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -czf control.tar.gz *</span><br></pre></td></tr></table></figure><h2 id="data-tar-gz"><a href="#data-tar-gz" class="headerlink" title="data.tar.gz"></a>data.tar.gz</h2><blockquote><p>æ­¤å¤„å®Œå…¨æ˜¯æ ¹æ®ä½ è¦å¢åŠ çš„è„šæœ¬æŒ‰æ ¹ç›®å½•è¿›è¡Œå­˜æ”¾çš„ã€‚</p></blockquote><p>ä¾‹å¦‚:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ bin</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ ss-redir</span><br><span class="line">â”‚Â Â  â””â”€â”€ ss-tunnel</span><br><span class="line">â”œâ”€â”€ data.tar.gz</span><br><span class="line">â”œâ”€â”€ etc</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ dnsmasq.d</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ address.conf</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dns.conf</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ipset.conf</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ option.conf</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ server.conf</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ pdnsd.conf</span><br><span class="line">â”‚Â Â  â””â”€â”€ shadowsock.json</span><br><span class="line">â”œâ”€â”€ root</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ addDnsmasq.sh</span><br><span class="line">â”‚Â Â  â””â”€â”€ changeService.sh</span><br><span class="line">â””â”€â”€ usr</span><br><span class="line">    â””â”€â”€ sbin</span><br><span class="line">        â””â”€â”€ pdnsd</span><br></pre></td></tr></table></figure></p><h3 id="æ‰“åŒ…-1"><a href="#æ‰“åŒ…-1" class="headerlink" title="æ‰“åŒ…~"></a>æ‰“åŒ…~</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -czf data.tar.gz *</span><br></pre></td></tr></table></figure><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><blockquote><p>å°†ä¸‰ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸€èµ·è¿›è¡Œæ‰“åŒ…</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -czf mIPK.ipk *</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;.ipk&lt;/code&gt; æœ¬è´¨æ˜¯&lt;code&gt;tar.gz&lt;/code&gt;æ ¼å¼çš„å‹ç¼©åŒ…, æŒ‰ç…§æŸç§è§„èŒƒæ ¼å¼(&lt;code&gt;ç±»ä¼¼.debåŒ…&lt;/code&gt;)è¿›è¡Œ â€¦&lt;br&gt;
    
    </summary>
    
      <category term="OpenWrt" scheme="https://hocg.in/categories/OpenWrt/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="OpenWrt" scheme="https://hocg.in/tags/OpenWrt/"/>
    
      <category term="Shell" scheme="https://hocg.in/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>IDEA ä¸­çš„ Spring Boot å¼€å‘æ¨¡å¼</title>
    <link href="https://hocg.in/2017/10/20/IDEA-%E4%B8%AD%E7%9A%84-Spring-Boot-%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F/"/>
    <id>https://hocg.in/2017/10/20/IDEA-ä¸­çš„-Spring-Boot-å¼€å‘æ¨¡å¼/</id>
    <published>2017-10-20T15:28:09.000Z</published>
    <updated>2017-10-29T06:22:33.106Z</updated>
    
    <content type="html"><![CDATA[<p>ğŸ¤‘ å®Œå…¨çƒ­éƒ¨ç½², é…ç½®å®Œæˆç¬é—´èˆ’çˆ½æ— æ¯”ã€‚<br><a id="more"></a></p><h2 id="java-æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶æ›´æ”¹åè¿›è¡Œè‡ªåŠ¨é‡å¯"><a href="#java-æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶æ›´æ”¹åè¿›è¡Œè‡ªåŠ¨é‡å¯" class="headerlink" title=".java æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶æ›´æ”¹åè¿›è¡Œè‡ªåŠ¨é‡å¯"></a><code>.java</code> æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶æ›´æ”¹åè¿›è¡Œè‡ªåŠ¨é‡å¯</h2><ol><li>æ›´æ”¹<code>IDEA</code>ä¸­çš„å¦‚ä¸‹è®¾ç½®<code>Build project automatically</code>ã€‚</li></ol><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-10-19%2022.30.09.png" alt="å±å¹•å¿«ç…§ 2017-10-19 22.30.09.png"></p><ol><li>æ‰“å¼€<code>IDEA</code>çš„<code>Action window</code>, å¿«æ·é”®å¦‚ä¸‹:</li></ol><ul><li>Linux : <code>CTRL+SHIFT+A</code></li><li>Mac OSX : <code>SHIFT+COMMAND+A</code></li><li>Windows : <code>CTRL+ALT+SHIFT+/</code><br>è¾“å…¥(é€‰æ‹©) <code>Registry...</code>, é€‰æ‹©å¦‚ä¸‹:</li></ul><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-10-19%2022.36.39.png" alt="å±å¹•å¿«ç…§ 2017-10-19 22.36.39.png"></p><p>æ­¤æ—¶è¿›è¡Œ<code>.java</code> æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ä¿®æ”¹æ—¶, ä¼šè¿›è¡Œ Spring Boot é‡å¯ã€‚</p><h2 id="å½“æ›´æ”¹é™æ€HTMLè¿›è¡Œå®æ—¶åˆ·æ–°"><a href="#å½“æ›´æ”¹é™æ€HTMLè¿›è¡Œå®æ—¶åˆ·æ–°" class="headerlink" title="å½“æ›´æ”¹é™æ€HTMLè¿›è¡Œå®æ—¶åˆ·æ–°"></a>å½“æ›´æ”¹é™æ€<code>HTML</code>è¿›è¡Œå®æ—¶åˆ·æ–°</h2><ol><li>åŠ å…¥ä¾èµ–</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li>å®‰è£…æµè§ˆå™¨æ’ä»¶</li></ol><ul><li><p><a href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei" target="_blank" rel="external">Chrome æ’ä»¶</a></p></li><li><p><a href="https://addons.mozilla.org/en-US/firefox/addon/livereload/" target="_blank" rel="external">Firefox æ’ä»¶</a></p></li><li><p><a href="http://download.livereload.com/2.1.0/LiveReload-2.1.0.safariextz" target="_blank" rel="external">Safari æ’ä»¶</a></p></li></ul><ol><li>æ›´æ”¹æ–‡ä»¶å’Œé™æ€é¡µé¢(HTML)éƒ½å¯ä»¥è¿›è¡Œçƒ­éƒ¨ç½²ç±»ã€‚</li></ol><h2 id="å®æ—¶åˆ·æ–°thymeleafæ¨¡ç‰ˆæ–‡ä»¶"><a href="#å®æ—¶åˆ·æ–°thymeleafæ¨¡ç‰ˆæ–‡ä»¶" class="headerlink" title="å®æ—¶åˆ·æ–°thymeleafæ¨¡ç‰ˆæ–‡ä»¶"></a>å®æ—¶åˆ·æ–°<code>thymeleaf</code>æ¨¡ç‰ˆæ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶è®¾ç½®å–æ¶ˆç¼“å­˜:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">    thymeleaf:</span></span><br><span class="line"><span class="attr">        cache:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>Chrome è®¾ç½®å–æ¶ˆç¼“å­˜:</p><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-10-19%2022.46.23.png" alt="å±å¹•å¿«ç…§ 2017-10-19 22.46.23.png"></p><p>æ­¤æ—¶å‡ ä¹æ‰€æœ‰çš„ä¸œè¥¿(<code>.java</code>/<code>`/</code>SpringBoot é…ç½®æ–‡ä»¶`)éƒ½å¯ä»¥è¿›è¡Œçƒ­éƒ¨ç½²äº†ã€‚<br>åŒ…æ‹¬:</p><ul><li>ä¿®æ”¹ <code>.java</code> æ–‡ä»¶ã€‚</li><li>ä¿®æ”¹é¡µé¢(<code>thymeleaf</code> <code>html</code> <code>..</code>) æ–‡ä»¶ã€‚</li><li>ä¿®æ”¹ <code>SpringBoot é…ç½®æ–‡ä»¶</code>ã€‚</li><li>å¢åˆ é™æ€æ–‡ä»¶(<code>css</code> <code>js</code> <code>å›¾ç‰‡</code>)ã€‚</li></ul><h2 id="å…³äºå®šåˆ¶åŒ–çƒ­éƒ¨ç½²"><a href="#å…³äºå®šåˆ¶åŒ–çƒ­éƒ¨ç½²" class="headerlink" title="å…³äºå®šåˆ¶åŒ–çƒ­éƒ¨ç½²"></a>å…³äºå®šåˆ¶åŒ–çƒ­éƒ¨ç½²</h2><p> å¯æŸ¥è¯¢<code>spring-boot-devtools</code>çš„ä½¿ç”¨, ä½¿ç”¨ä»¥ä¸‹å­é¡¹è¿›è¡Œé…ç½®ã€‚<br> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">   devtools:</span></span><br></pre></td></tr></table></figure></p><h2 id="IDEA-æ‰©å±•"><a href="#IDEA-æ‰©å±•" class="headerlink" title="IDEA æ‰©å±•"></a>IDEA æ‰©å±•</h2><blockquote><p>pom.xml æ·»åŠ ä»¥ä¸‹ä¾èµ–å¯æŸ¥çœ‹æ›´å¤šçš„ä¿¡æ¯ã€‚<br>è¯¥ä¾èµ–æ˜¯å¯æŸ¥çœ‹ç›‘æ§ä¿¡æ¯çš„, æ›´å¤šä½¿ç”¨ç§»æ­¥ Google.comã€‚<br> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><p>IDEA æ˜¾ç¤ºå¦‚ä¸‹:</p><p> <img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-10-29%2014.18.38.png" alt="å±å¹•å¿«ç…§ 2017-10-29 14.18.38.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ğŸ¤‘ å®Œå…¨çƒ­éƒ¨ç½², é…ç½®å®Œæˆç¬é—´èˆ’çˆ½æ— æ¯”ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Server" scheme="https://hocg.in/categories/Server/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="Ubuntu" scheme="https://hocg.in/tags/Ubuntu/"/>
    
      <category term="SpringBoot" scheme="https://hocg.in/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>JQuery.pjax æ— æ³•å†æ¬¡åˆå§‹åŒ–å½“å‰é¡µé¢çš„JS</title>
    <link href="https://hocg.in/2017/10/19/JQuery.pjax%E6%97%A0%E6%B3%95%E5%86%8D%E6%AC%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E7%9A%84JS/"/>
    <id>https://hocg.in/2017/10/19/JQuery.pjaxæ— æ³•å†æ¬¡åˆå§‹åŒ–å½“å‰é¡µé¢çš„JS/</id>
    <published>2017-10-19T14:07:20.000Z</published>
    <updated>2017-10-22T04:16:22.962Z</updated>
    
    <content type="html"><![CDATA[<p>Pjax å¾ˆä¹…ä¹‹å‰ç”¨è¿‡ä¸€æ¬¡, è¿™ä¸€æ¬¡åœ¨æ•´åˆåå°æ¨¡ç‰ˆï¼Œå‘ç°ç½‘ä¸Šå¯¹è¿™ä¸ªå‘ç«Ÿç„¶æ˜¯æ”¹æºç â€¦åœ¨è¿™è¯¦ç»†è®°å½•ä¸€ä¸‹ã€‚</p><a id="more"></a><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å½“ <code>JQuery.pjax</code> åŠ è½½é¡µé¢å, å†æ¬¡åŠ è½½è¯¥é¡µé¢æ—¶ï¼Œå…¶å†…éƒ¨çš„åˆå§‹åŒ– <code>JS</code> æˆ– <code>script inline</code> å¹¶ä¸èƒ½è¢«å†æ¬¡æ‰§è¡Œã€‚ä¾‹å¦‚:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pjax-container"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- .. --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jQuery 3 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jQuery Pjax --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"jquery.pjax.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> ($.support.pjax) &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="built_in">document</span>).pjax(<span class="string">'a[data-pjax]'</span>, <span class="string">'#pjax-container'</span>, &#123;</span></span><br><span class="line"><span class="undefined">                    maxCacheLength: 0,</span></span><br><span class="line"><span class="javascript">                    push: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">                    replace: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                    fragment: <span class="string">'#pjax-container'</span>,</span></span><br><span class="line"><span class="undefined">                    timeout: 8000</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"ä¸èƒ½è¢«å†æ¬¡æ‰§è¡Œ"</span>);</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸èƒ½è¢«å†æ¬¡æ‰§è¡Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>  <span class="attr">src</span>=<span class="string">"init.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><ol><li>å…¶åŸå› æ˜¯<code>JQuery.pjax</code>å¯¹<code>js</code>è¿›è¡Œäº†ç¼“å­˜, å¯ä»¥ä½¿ç”¨<code>JQuery</code>è¿›è¡ŒåŠ è½½, å½“ç„¶å…¶ä»£ä»·æ˜¯ç‰ºç‰²äº†è¿™éƒ¨åˆ†éƒ½ç¼“å­˜, ä¸è¿‡å› ä¸ºæ˜¯ç‰¹å®šé¡µé¢çš„è„šæœ¬, ç‰ºç‰²çš„ç¼“å­˜å‡ ä¹å¯ä»¥å¿½ç•¥ã€‚ä¾‹å­å¦‚ä¸‹:<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pjax-container"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- .. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- èƒ½è¢«å†æ¬¡æ‰§è¡Œ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $.getScript(<span class="string">'/admin-lte/dist/js/pages/dashboard2.js'</span>);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>  <span class="attr">src</span>=<span class="string">"init.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"èƒ½è¢«å†æ¬¡æ‰§è¡Œ"</span>);</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jQuery 3 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- jQuery Pjax --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"jquery.pjax.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> ($.support.pjax) &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="built_in">document</span>).pjax(<span class="string">'a[data-pjax]'</span>, <span class="string">'#pjax-container'</span>, &#123;</span></span><br><span class="line"><span class="undefined">                    maxCacheLength: 0,</span></span><br><span class="line"><span class="javascript">                    push: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">                    replace: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                    fragment: <span class="string">'#pjax-container'</span>,</span></span><br><span class="line"><span class="undefined">                    timeout: 8000</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Pjax å¾ˆä¹…ä¹‹å‰ç”¨è¿‡ä¸€æ¬¡, è¿™ä¸€æ¬¡åœ¨æ•´åˆåå°æ¨¡ç‰ˆï¼Œå‘ç°ç½‘ä¸Šå¯¹è¿™ä¸ªå‘ç«Ÿç„¶æ˜¯æ”¹æºç â€¦åœ¨è¿™è¯¦ç»†è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Web" scheme="https://hocg.in/categories/Web/"/>
    
    
      <category term="JavaScript" scheme="https://hocg.in/tags/JavaScript/"/>
    
      <category term="Pjax" scheme="https://hocg.in/tags/Pjax/"/>
    
  </entry>
  
  <entry>
    <title>Thymeleaf 3.0 æ‰‹å†Œ</title>
    <link href="https://hocg.in/2017/10/18/Thymeleaf-3.0-%E6%89%8B%E5%86%8C/"/>
    <id>https://hocg.in/2017/10/18/Thymeleaf-3.0-æ‰‹å†Œ/</id>
    <published>2017-10-18T08:40:51.000Z</published>
    <updated>2018-01-04T08:26:38.907Z</updated>
    
    <content type="html"><![CDATA[<p>Spring å®˜æ–¹æ¨å´‡çš„æ¨¡ç‰ˆå¼•æ“ï¼Œéµå¾ª HTML5è§„èŒƒã€‚<br><a id="more"></a></p><h2 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h2><p>è‹¥è¦å®Œå…¨éµå¾ªHTML5è§„èŒƒï¼Œå¯ä½¿ç”¨ <code>data-th-*</code> ä»£æ›¿ <code>th:*</code>ã€‚</p><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><h3 id="th-each"><a href="#th-each" class="headerlink" title="th:each"></a>th:each</h3><blockquote><p>foreach å¾ªç¯<br>è¯­æ³•: th:each=â€obj, index:listâ€<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">th:block</span> <span class="attr">th:each</span>=<span class="string">"permission, i:$&#123;role.permissions&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:attr</span>=<span class="string">"data-tt-id=$&#123;permission.id&#125;, data-tt-parent-id=$&#123;permission.parent&#125;, data-tt-branch=$&#123;permission.hasChildren&#125;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;permission.name&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;permission.url&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;permission.type&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;permission.permission&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">th:block</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h3 id="th-inline"><a href="#th-inline" class="headerlink" title="th:inline"></a>th:inline</h3><blockquote><p>è§£æå†…åµŒè¯­æ³•, ä¸€èˆ¬æ˜¯æ··åˆjavascript<br>è¯­æ³•: th:inline=â€javascript|text|noneâ€<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">"javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="comment">/*&lt;![CDATA[*/</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> welcome = [[$&#123;welcome&#125;]] <span class="string">'è¿™æ˜¯ä¸€ä¸ª Thymeleaf å˜é‡'</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> default_value = [[$&#123;maxCount?:<span class="number">0</span>&#125;]]</span></span><br><span class="line"><span class="javascript"><span class="comment">/*]]&gt;*/</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h3 id="th-fragment"><a href="#th-fragment" class="headerlink" title="th:fragment"></a>th:fragment</h3><blockquote><p>å®šä¹‰æ¨¡ç‰ˆï¼Œè¯­æ³•: th:fragment=â€æ¨¡å—å(å˜é‡)â€<br>å˜é‡éƒ¨åˆ†ä¸ºå¯é€‰, é…åˆ th:with ä½¿ç”¨ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸ä¿ç•™æœ¬èº«çš„æ ‡ç­¾, ä¿ç•™ th:fragment çš„æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">"/admin/fragments/header::header"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¿ç•™æœ¬èº«çš„æ ‡ç­¾, ä¿ç•™ th:fragment çš„æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">"/admin/fragments/header::header"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- @è¿‡æœŸ, ä¿ç•™æœ¬èº«çš„æ ‡ç­¾, ä¸ä¿ç•™ th:fragment çš„æ ‡ç­¾ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">"/admin/fragments/header::header"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h3 id="th-with"><a href="#th-with" class="headerlink" title="th:with"></a>th:with</h3><blockquote><p>å®šä¹‰å˜é‡ã€‚è¯­æ³•: th:with=â€å­—æ®µ1=å€¼, å­—æ®µ2=å€¼2â€<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:with</span>=<span class="string">"id='UploadImage',var='image',height=1,maxCount=1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h3 id="th-if"><a href="#th-if" class="headerlink" title="th:if"></a>th:if</h3><blockquote><p>å°±æ˜¯ if ..<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">"$&#123;true&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    å¸ƒå°”å€¼.</span></span><br><span class="line"><span class="comment">    0 = false</span></span><br><span class="line"><span class="comment">    "false"/"off"/"no" = false</span></span><br><span class="line"><span class="comment">    null = false</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h3 id="th-switch-th-case"><a href="#th-switch-th-case" class="headerlink" title="th:switch/th:case"></a>th:switch/th:case</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">th:switch</span>=<span class="string">"$&#123;val&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:case</span>=<span class="string">"1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:case</span>=<span class="string">"2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="th-selected"><a href="#th-selected" class="headerlink" title="th:selected"></a>th:selected</h3><blockquote><p>å¯ç”¨äº <option> æ ‡ç­¾<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">id</span>=<span class="string">"type"</span> <span class="attr">name</span>=<span class="string">"type"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">th:selected</span>=<span class="string">"$&#123;permission?.type==0&#125;"</span>&gt;</span>èœå•<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">th:selected</span>=<span class="string">"$&#123;permission?.type==1&#125;"</span>&gt;</span>æ•°æ®<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></option></p></blockquote><h2 id="æ³¨é‡Šè¯­æ³•"><a href="#æ³¨é‡Šè¯­æ³•" class="headerlink" title="æ³¨é‡Šè¯­æ³•"></a>æ³¨é‡Šè¯­æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--/* è¿™é‡Œæ˜¯ ç¼–è¯‘å™¨æ˜¾ç¤ºä¸ºæ³¨é‡Š, æµè§ˆå™¨ä¸å¯è§ */--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--/*--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>è¿™é‡Œæ˜¯ ç¼–è¯‘å™¨æ˜¾ç¤ºä¸æ³¨é‡Šï¼Œæµè§ˆå™¨ä¸å¯è§ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--*/--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--/*/</span></span><br><span class="line"><span class="comment">&lt;div th:text="$&#123;'è¿™é‡Œæ˜¯ ç¼–è¾‘å™¨æ˜¾ç¤ºä¸ºæ³¨é‡Š, æµè§ˆå™¨å¯è§'&#125;"&gt;...&lt;/div&gt;</span></span><br><span class="line"><span class="comment">/*/--&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è¡¨è¾¾å¼"><a href="#è¡¨è¾¾å¼" class="headerlink" title="è¡¨è¾¾å¼"></a>è¡¨è¾¾å¼</h2><h3 id="URL-è¡¨è¾¾å¼"><a href="#URL-è¡¨è¾¾å¼" class="headerlink" title="URL è¡¨è¾¾å¼"></a>URL è¡¨è¾¾å¼</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/img/tup.png&#125;"</span> <span class="attr">alt</span>=<span class="string">"ç»å¯¹è·¯å¾„"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;img alt="ç»å¯¹è·¯å¾„" src="/img/tup.png"&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">"@&#123;../img/tup.png&#125;"</span> <span class="attr">alt</span>=<span class="string">"ç›¸å¯¹è·¯å¾„"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;img alt="ç›¸å¯¹è·¯å¾„" src="../img/tup.png"&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">"@&#123;../img/tup.png(size=$&#123;100&#125;)&#125;"</span> <span class="attr">alt</span>=<span class="string">"å¸¦å‚æ•°çš„è·¯å¾„"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;img alt="å¸¦å‚æ•°çš„è·¯å¾„" src="../img/tup.png?size=100"&gt; --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å›½é™…åŒ–è¡¨è¾¾å¼"><a href="#å›½é™…åŒ–è¡¨è¾¾å¼" class="headerlink" title="å›½é™…åŒ–è¡¨è¾¾å¼"></a>å›½é™…åŒ–è¡¨è¾¾å¼</h3><ol><li>åˆ›å»º <code>resources/messages_zh_CN.properties</code>, å…¶å†…å®¹:</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">message.error=é”™è¯¯</span><br></pre></td></tr></table></figure><ol><li>é…ç½® <code>application.yml</code> (ä½¿ç”¨ xml çš„æ‰§è¡Œè½¬æ¢)</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">  messages:</span></span><br><span class="line"><span class="attr">    basename:</span> <span class="string">messages_zh_CN</span></span><br></pre></td></tr></table></figure><ol><li>ä½¿ç”¨</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"#&#123;message.error&#125;"</span>&gt;</span>Error<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å˜é‡è¡¨è¾¾å¼"><a href="#å˜é‡è¡¨è¾¾å¼" class="headerlink" title="å˜é‡è¡¨è¾¾å¼"></a>å˜é‡è¡¨è¾¾å¼</h3><blockquote><p>æœ€åŸºæœ¬çš„è¡¨è¾¾å¼, ç±»ä¼¼äº EL è¡¨è¾¾å¼ã€‚</p><ul><li>åˆ <code>org.springframework.ui.Model</code> ä½¿ç”¨ã€‚</li><li>å¯ä»¥ä½¿ç”¨ä¼—å¤šå†…ç½®å¯¹è±¡ã€‚</li><li>@è®¿é—® Spring å®¹å™¨å†…å¯¹è±¡</li></ul></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;author.name&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å˜é‡è¡¨è¾¾å¼-æ‰©å±•-1"><a href="#å˜é‡è¡¨è¾¾å¼-æ‰©å±•-1" class="headerlink" title="å˜é‡è¡¨è¾¾å¼ - æ‰©å±• 1"></a>å˜é‡è¡¨è¾¾å¼ - æ‰©å±• 1</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">th:object</span>=<span class="string">"$&#123;author&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:text</span>=<span class="string">"*&#123;name&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:text</span>=<span class="string">"*&#123;mail&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:text</span>=<span class="string">"*&#123;address&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    ç­‰ä»·äº</span></span><br><span class="line"><span class="comment">    &lt;ul&gt;</span></span><br><span class="line"><span class="comment">        &lt;li th:text="$&#123;author.name&#125;"&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li th:text="$&#123;author.mail&#125;"&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li th:text="$&#123;author.address&#125;"&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">    &lt;/ul&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å˜é‡è¡¨è¾¾å¼-æ‰©å±•-2"><a href="#å˜é‡è¡¨è¾¾å¼-æ‰©å±•-2" class="headerlink" title="å˜é‡è¡¨è¾¾å¼ - æ‰©å±• 2"></a>å˜é‡è¡¨è¾¾å¼ - æ‰©å±• 2</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"$&#123;@demoService.getStr('hocgin')&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é¢„å¤„ç†è¡¨è¾¾å¼"><a href="#é¢„å¤„ç†è¡¨è¾¾å¼" class="headerlink" title="é¢„å¤„ç†è¡¨è¾¾å¼"></a>é¢„å¤„ç†è¡¨è¾¾å¼</h3><ol><li>å‰ç½®è®¾ç½®, Controller</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(&#123;<span class="string">"/test.html"</span>&#125;)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(Model model, @PathVariable String page)</span> </span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">"key"</span>, <span class="string">"error"</span>);</span><br><span class="line">    HashMap&lt;String, String&gt; vm = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    vm.put(<span class="string">"error"</span>, <span class="string">"æ¥è‡ª $&#123;&#125; è¡¨è¾¾å¼"</span>);</span><br><span class="line">    model.addAttribute(<span class="string">"obj"</span>, vm);</span><br><span class="line">    <span class="keyword">return</span> String.format(<span class="string">"test.html"</span>, page);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>å‰ç½®è®¾ç½®, <code>messages_zh_CN.properties</code> å‚è€ƒ<strong>å›½é™…åŒ–è¡¨è¾¾å¼</strong></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">message.error=é”™è¯¯</span><br></pre></td></tr></table></figure><ol><li>test.html ç¼–å†™</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/img/__$&#123;1+1&#125;__&#125;"</span>&gt;</span>è¿æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;a href="/img/2"&gt;è¿æ¥&lt;/a&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"#&#123;message.__$&#123;key&#125;__&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;div&gt;é”™è¯¯&lt;/div&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"$&#123;obj.__$&#123;key&#125;__&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;div&gt;æ¥è‡ª $&#123;&#125; è¡¨è¾¾å¼&lt;/div&gt; --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Fragment-è¡¨è¾¾å¼"><a href="#Fragment-è¡¨è¾¾å¼" class="headerlink" title="Fragment è¡¨è¾¾å¼"></a>Fragment è¡¨è¾¾å¼</h3><blockquote><p>~{â€¦}</p></blockquote><h2 id="è¡¨è¾¾å¼è¯­æ³•"><a href="#è¡¨è¾¾å¼è¯­æ³•" class="headerlink" title="è¡¨è¾¾å¼è¯­æ³•"></a>è¡¨è¾¾å¼è¯­æ³•</h2><h3 id="å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼æ¥"></a>å­—ç¬¦ä¸²æ‹¼æ¥</h3><p>ä½¿ç”¨ <code>+</code> æˆ–è€… <code>|..|</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"'1+1=' + $&#123;1+1&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1+1=2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"|1+1=$&#123;1+1&#125;|"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1+1=2 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¿ç®—ç¬¦å·"><a href="#è¿ç®—ç¬¦å·" class="headerlink" title="è¿ç®—ç¬¦å·"></a>è¿ç®—ç¬¦å·</h3><p>ä½¿ç”¨ <code>+, -, *, /, %</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"-((1+1-1)*2/2)%9"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- -1 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ä¸-æˆ–-é"><a href="#ä¸-æˆ–-é" class="headerlink" title="ä¸ æˆ– é"></a>ä¸ æˆ– é</h3><p>ä½¿ç”¨ <code>and , or</code> å’Œ <code>! , not</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"1==1 and true"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"true and false"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- false --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"true or false"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"not true"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- false --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"! false"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- true --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…³ç³»è¡¨è¾¾å¼"><a href="#å…³ç³»è¡¨è¾¾å¼" class="headerlink" title="å…³ç³»è¡¨è¾¾å¼"></a>å…³ç³»è¡¨è¾¾å¼</h3><p>ä½¿ç”¨ <code>&gt;, &lt;, &gt;=, &lt;=, ==, !=</code>ã€‚<br>æˆ–è€… <code>gt, lt, ge, le, eq, ne</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"((1 &gt; 2 and 2 &lt; 3) or (2 &gt;= 2 and 2 &lt;= 5)) and (1 == 1 and 1 != 2)"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"((1 gt 2 and 2 lt 3) or (2 ge 2 and 2 le 5)) and (1 eq 1 and 1 ne 2)"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- true --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç®€å•æ¡ä»¶è¡¨è¾¾å¼"><a href="#ç®€å•æ¡ä»¶è¡¨è¾¾å¼" class="headerlink" title="ç®€å•æ¡ä»¶è¡¨è¾¾å¼"></a>ç®€å•æ¡ä»¶è¡¨è¾¾å¼</h3><p>ä½¿ç”¨:<br>if-then <code>(if) ? (then)</code><br>if-then-else <code>(if) ? (then) : (else)</code><br>default <code>(value) ?: (defaultValue)</code>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"true ? 'hocgin'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- hocgin --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"false ? 'hocgin' : 'hocg.in'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- hocg.in --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;iname&#125; ?: 'hocgin'"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- hocgin --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è§£æä¼˜å…ˆçº§"><a href="#è§£æä¼˜å…ˆçº§" class="headerlink" title="è§£æä¼˜å…ˆçº§"></a>è§£æä¼˜å…ˆçº§</h2><table><thead><tr><th>çº§åˆ«</th><th>æè¿°</th><th>thå±æ€§</th></tr></thead><tbody><tr><td>1</td><td>(Fragment inclusion)ä»£ç ç‰‡æ®µå¯¼å…¥</td><td><code>th:insert</code>,<code>th:replace</code></td></tr><tr><td>2</td><td>(Fragment iteration)è¿­ä»£</td><td><code>th:each</code></td></tr><tr><td>3</td><td>(Conditional evaluation)æ¡ä»¶</td><td><code>th:if</code>,<code>th:unless</code>,<code>th:switch</code>,<code>th:case</code></td></tr><tr><td>4</td><td>(Local variable definition)å±€éƒ¨å˜é‡</td><td><code>th:object</code>,<code>th:with</code></td></tr><tr><td>5</td><td>(General attribute modification)é€šç”¨å±æ€§ä¿®æ”¹</td><td><code>th:attr</code>,<code>th:attrprepend</code>,<code>th:attrappend</code></td></tr><tr><td>6</td><td>(Specific attribute modification)å…·ä½“å±æ€§ä¿®æ”¹</td><td><code>th:value</code>,<code>th:href</code>,<code>th:src</code> â€¦</td></tr><tr><td>7</td><td>(Text tag body modification) æ–‡æœ¬èŠ‚ç‚¹ä¿®æ”¹</td><td><code>th:text</code>,<code>th:utext</code></td></tr><tr><td>8</td><td>(Fragment specification) ä»£ç æ®µå®šä¹‰</td><td><code>th:fragment</code></td></tr><tr><td>9</td><td>(Fragment removal) ä»£ç æ®µåˆ é™¤</td><td><code>th:remove</code></td></tr></tbody></table><h2 id="åŸºç¡€å¯¹è±¡"><a href="#åŸºç¡€å¯¹è±¡" class="headerlink" title="åŸºç¡€å¯¹è±¡"></a>åŸºç¡€å¯¹è±¡</h2><h3 id="ctx-org-thymeleaf-spring4-context-SpringWebContext"><a href="#ctx-org-thymeleaf-spring4-context-SpringWebContext" class="headerlink" title="#ctx (org.thymeleaf.spring4.context.SpringWebContext)"></a><code>#ctx</code> (org.thymeleaf.spring4.context.SpringWebContext)</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * org.thymeleaf.context.IContext</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="comment">// å½“å‰è¯­è¨€ç¯å¢ƒ(eg. en_US)ã€‚ ç­‰ä»·äº &#123;#locale&#125;</span></span><br><span class="line">$&#123;#ctx.locale&#125;</span><br><span class="line"><span class="comment">// org.thymeleaf.context.VariablesMap å¯¹è±¡, å†…éƒ¨å­˜å‚¨çš„æ˜¯å¯ç”¨äºå½“å‰ä¸Šä¸‹æ–‡(Context)çš„å¯¹è±¡ã€‚ç­‰ä»·äº &#123;#vars&#125;</span></span><br><span class="line">$&#123;#ctx.variables&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * org.thymeleaf.context.IWebContext</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line">$&#123;#ctx.applicationAttributes&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·äº &#123;#httpServletRequest&#125;</span></span><br><span class="line">$&#123;#ctx.httpServletRequest&#125;</span><br><span class="line">$&#123;#ctx.httpServletResponse&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·äº &#123;#httpSession&#125;</span></span><br><span class="line">$&#123;#ctx.httpSession&#125;</span><br><span class="line">$&#123;#ctx.requestAttributes&#125;</span><br><span class="line">$&#123;#ctx.requestParameters&#125;</span><br><span class="line">$&#123;#ctx.servletContext&#125;</span><br><span class="line">$&#123;#ctx.sessionAttributes&#125;</span><br></pre></td></tr></table></figure><h3 id="param-org-apache-catalina-util-ParameterMap"><a href="#param-org-apache-catalina-util-ParameterMap" class="headerlink" title="param (org.apache.catalina.util.ParameterMap)"></a><code>param</code> (org.apache.catalina.util.ParameterMap)</h3><p>åŒ…å«å½“å‰é¡µé¢çš„è¯·æ±‚çš„å‚æ•°(eg. <code>http://localhost:8080/admin/test.html?name=hocgin</code>)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å¯¹è±¡</span></span><br><span class="line">$&#123;param.name&#125; </span><br><span class="line"><span class="comment">// è·å¾—å€¼: hocgin</span></span><br><span class="line">$&#123;param.name[<span class="number">0</span>]&#125; </span><br><span class="line">$&#123;param.size()&#125;</span><br><span class="line">$&#123;param.isEmpty()&#125;</span><br><span class="line">$&#123;param.containsKey(<span class="string">'name'</span>)&#125;</span><br></pre></td></tr></table></figure><h3 id="session-org-thymeleaf-context-WebSessionVariablesMap"><a href="#session-org-thymeleaf-context-WebSessionVariablesMap" class="headerlink" title="session (org.thymeleaf.context.WebSessionVariablesMap)"></a><code>session</code> (org.thymeleaf.context.WebSessionVariablesMap)</h3><p>ä» Session è·å–å†…å®¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å¾—å€¼: hocgin</span></span><br><span class="line">$&#123;session.name&#125;</span><br><span class="line">$&#123;session.size()&#125;</span><br><span class="line">$&#123;session.isEmpty()&#125;</span><br><span class="line">$&#123;session.containsKey(<span class="string">'name'</span>)&#125;</span><br></pre></td></tr></table></figure><h3 id="httpServletRequest-org-apache-catalina-connector-RequestFacade"><a href="#httpServletRequest-org-apache-catalina-connector-RequestFacade" class="headerlink" title="#httpServletRequest (org.apache.catalina.connector.RequestFacade)"></a><code>#httpServletRequest</code> (org.apache.catalina.connector.RequestFacade)</h3><h3 id="themes-org-thymeleaf-spring4-expression-Themes"><a href="#themes-org-thymeleaf-spring4-expression-Themes" class="headerlink" title="#themes (org.thymeleaf.spring4.expression.Themes)"></a><code>#themes</code> (org.thymeleaf.spring4.expression.Themes)</h3><h3 id="application"><a href="#application" class="headerlink" title="application"></a><code>application</code></h3><h3 id="dates-org-thymeleaf-expression-Dates"><a href="#dates-org-thymeleaf-expression-Dates" class="headerlink" title="#dates (org.thymeleaf.expression.Dates)"></a><code>#dates</code> (org.thymeleaf.expression.Dates)</h3><h3 id="calendars-org-thymeleaf-expression-Calendars"><a href="#calendars-org-thymeleaf-expression-Calendars" class="headerlink" title="#calendars (org.thymeleaf.expression.Calendars)"></a><code>#calendars</code> (org.thymeleaf.expression.Calendars)</h3><h3 id="numbers-org-thymeleaf-expression-Numbers"><a href="#numbers-org-thymeleaf-expression-Numbers" class="headerlink" title="#numbers (org.thymeleaf.expression.Numbers)"></a><code>#numbers</code> (org.thymeleaf.expression.Numbers)</h3><h3 id="strings-org-thymeleaf-expression-Strings"><a href="#strings-org-thymeleaf-expression-Strings" class="headerlink" title="#strings (org.thymeleaf.expression.Strings)"></a><code>#strings</code> (org.thymeleaf.expression.Strings)</h3><h3 id="objects-org-thymeleaf-expression-Objects"><a href="#objects-org-thymeleaf-expression-Objects" class="headerlink" title="#objects (org.thymeleaf.expression.Objects)"></a><code>#objects</code> (org.thymeleaf.expression.Objects)</h3><h3 id="bools-org-thymeleaf-expression-Bools"><a href="#bools-org-thymeleaf-expression-Bools" class="headerlink" title="#bools (org.thymeleaf.expression.Bools)"></a><code>#bools</code> (org.thymeleaf.expression.Bools)</h3><h3 id="arrays-org-thymeleaf-expression-Arrays"><a href="#arrays-org-thymeleaf-expression-Arrays" class="headerlink" title="#arrays (org.thymeleaf.expression.Arrays)"></a><code>#arrays</code> (org.thymeleaf.expression.Arrays)</h3><h3 id="lists-org-thymeleaf-expression-Lists"><a href="#lists-org-thymeleaf-expression-Lists" class="headerlink" title="#lists (org.thymeleaf.expression.Lists)"></a><code>#lists</code> (org.thymeleaf.expression.Lists)</h3><h3 id="sets-org-thymeleaf-expression-Sets"><a href="#sets-org-thymeleaf-expression-Sets" class="headerlink" title="#sets (org.thymeleaf.expression.Sets)"></a><code>#sets</code> (org.thymeleaf.expression.Sets)</h3><h3 id="maps-org-thymeleaf-expression-Maps"><a href="#maps-org-thymeleaf-expression-Maps" class="headerlink" title="#maps (org.thymeleaf.expression.Maps)"></a><code>#maps</code> (org.thymeleaf.expression.Maps)</h3><h3 id="aggregates-org-thymeleaf-expression-Aggregates"><a href="#aggregates-org-thymeleaf-expression-Aggregates" class="headerlink" title="#aggregates (org.thymeleaf.expression.Aggregates)"></a><code>#aggregates</code> (org.thymeleaf.expression.Aggregates)</h3><h3 id="messages-org-thymeleaf-expression-Messages"><a href="#messages-org-thymeleaf-expression-Messages" class="headerlink" title="#messages (org.thymeleaf.expression.Messages)"></a><code>#messages</code> (org.thymeleaf.expression.Messages)</h3><h3 id="ids-org-thymeleaf-expression-Ids"><a href="#ids-org-thymeleaf-expression-Ids" class="headerlink" title="#ids (org.thymeleaf.expression.Ids)"></a><code>#ids</code> (org.thymeleaf.expression.Ids)</h3><p><strong>ä»£ç ç¤ºä¾‹</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">### `#locale` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#locale&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#ctx` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#ctx&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#vars` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#vars&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">### `param` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;param&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `application` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;application&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `session` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;session&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#httpSession` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#httpSession&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#httpServletRequest` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#httpServletRequest&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">### `#themes` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#themes&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#dates` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#dates&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#calendars` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#calendars&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#numbers` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#numbers&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#strings` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#strings&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#objects` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#objects&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#bools` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#bools&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#arrays` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#arrays&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#lists` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#lists&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#sets` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#sets&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#maps` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#maps&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#aggregates` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#aggregates&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#messages` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#messages&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">### `#ids` (<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">"$&#123;#ids&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>)<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="é‡ç‚¹"><a href="#é‡ç‚¹" class="headerlink" title="é‡ç‚¹"></a>é‡ç‚¹</h2><ul><li>åœ¨ <code>thymeleaf</code> ä¸­ä½¿ç”¨ Spring å®¹å™¨å†…çš„å•ä¾‹.</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">"$&#123;@demoService.getStr('hocgin')&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å¼•å…¥æ¨¡ç‰ˆç‰‡æ®µ</li></ul><ol><li><p>XPath è¡¨è¾¾å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">"mytemplate :: [//div[@class='content']]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>CSS è¡¨è¾¾å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">"mytemplate :: [div.content]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><ul><li>å¼•å…¥å…¬æœ‰ç‰‡æ®µ(JS æˆ– CSS)</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">css</span> <span class="attr">th:replace</span>=<span class="string">"mytemplate :: common-css"</span>&gt;</span><span class="tag">&lt;/<span class="name">css</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">js</span> <span class="attr">th:replace</span>=<span class="string">"@&#123;mytemplate&#125; :: common-css"</span>&gt;</span><span class="tag">&lt;/<span class="name">js</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¯ç»“åˆ è·¯å¾„è¡¨è¾¾å¼ --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><h3 id="thymeleaf-layout-dialect"><a href="#thymeleaf-layout-dialect" class="headerlink" title="thymeleaf-layout-dialect"></a>thymeleaf-layout-dialect</h3><blockquote><p>ä¸€èˆ¬æƒ…å†µç½‘ç«™éƒ½æœ‰ä¸€ä¸ªå¤–éƒ¨æ¡†æ¶, å¦‚ header æˆ–è€… footer, è¿™ä¸ªæ‰©å±•ä¾¿æ˜¯ç”¨äºæŠ½ç¦»é‚£äº›é‡å¤çš„éƒ¨åˆ†çš„ã€‚</p><h4 id="layout-decorator"><a href="#layout-decorator" class="headerlink" title="layout:decorator"></a>layout:decorator</h4><p>æŒ‡å®šéœ€ä½¿ç”¨çš„çˆ¶çº§æ¨¡ç‰ˆ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:layout</span>=<span class="string">"http://www.ultraq.net.nz/thymeleaf/layout"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">layout:decorator</span>=<span class="string">"/admin/_layouts/default"</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h4 id="layout-fragment"><a href="#layout-fragment" class="headerlink" title="layout:fragment"></a>layout:fragment</h4><blockquote><p>åœ¨çˆ¶æ¨¡ç‰ˆä¸­ä½¿ç”¨å®šä¹‰ä¸€ä¸ªæ ‡è®°ï¼Œ<br>åœ¨å­æ¨¡ç‰ˆä¸­ä½¿ç”¨è¦†ç›–åˆ°çˆ¶æ¨¡ç‰ˆä½ç½®ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">layout:fragment</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶æ¨¡ç‰ˆå†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å­ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">layout:fragment</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­æ¨¡ç‰ˆå†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç”Ÿæˆ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­æ¨¡ç‰ˆå†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p></blockquote><h4 id="layout-title-pattern"><a href="#layout-title-pattern" class="headerlink" title="layout:title-pattern"></a>layout:title-pattern</h4><blockquote><p>ç”¨ä¸ <title> æ ‡ç­¾, æŒ‡å®š title çš„å€¼ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åå° - å­æ ‡é¢˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span> <span class="attr">layout:title-pattern</span>=<span class="string">"$DECORATOR_TITLE - $CONTENT_TITLE"</span>&gt;</span>åå°<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure></title></p></blockquote><h2 id="é»‘ç§‘æŠ€"><a href="#é»‘ç§‘æŠ€" class="headerlink" title="é»‘ç§‘æŠ€"></a>é»‘ç§‘æŠ€</h2><ol><li>å½“æˆ‘ä»¬æƒ³å–ä¸€ä¸ªå¯¹è±¡é‡Œé¢çš„ä¸€ä¸ªå±æ€§, ä½†è¿™ä¸ªå¯¹è±¡å¯èƒ½ä¸ºç©ºæ—¶(ğŸ˜‹)ã€‚<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;user?.address?.city&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Spring å®˜æ–¹æ¨å´‡çš„æ¨¡ç‰ˆå¼•æ“ï¼Œéµå¾ª HTML5è§„èŒƒã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Server" scheme="https://hocg.in/categories/Server/"/>
    
    
      <category term="HTML5" scheme="https://hocg.in/tags/HTML5/"/>
    
      <category term="Thymeleaf" scheme="https://hocg.in/tags/Thymeleaf/"/>
    
  </entry>
  
  <entry>
    <title>Java çº¿ç¨‹æ±  å’Œ é” å°è®°</title>
    <link href="https://hocg.in/2017/10/07/Java%20%E7%BA%BF%E7%A8%8B%E6%B1%A0%20%E5%92%8C%20%E9%94%81%20%E5%B0%8F%E8%AE%B0/"/>
    <id>https://hocg.in/2017/10/07/Java çº¿ç¨‹æ±  å’Œ é” å°è®°/</id>
    <published>2017-10-06T17:03:29.000Z</published>
    <updated>2018-02-22T11:10:43.673Z</updated>
    
    <content type="html"><![CDATA[<p>æå–æƒ³è¦çš„apkï¼Œ ä¾‹å¦‚CM ROMåŒ…ä¸­çš„å«å¤©æ°”çš„æ—¶é’Ÿä¸é”™ï¼</p><a id="more"></a><h2 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h2><h3 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h3><ul><li><p>ExecutorService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcurrencyMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">ExecutorService executor = Executors.newWorkStealingPool();</span><br><span class="line"></span><br><span class="line">List&lt;Callable&lt;String&gt;&gt; callables = Arrays.asList(</span><br><span class="line">() -&gt; <span class="string">"task1"</span>,</span><br><span class="line">() -&gt; <span class="string">"task2"</span>,</span><br><span class="line">() -&gt; <span class="string">"task3"</span>);</span><br><span class="line"></span><br><span class="line">executor.invokeAll(callables)</span><br><span class="line">.stream()</span><br><span class="line">.map(future -&gt; &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">return</span> future.get();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(e);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">.forEach(System.out::println);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ScheduledExecutorService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConcurrencyMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">ScheduledExecutorService executor = Executors.newScheduledThreadPool(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">ScheduledFuture&lt;?&gt; future = executor.schedule(() -&gt; System.out.println(<span class="string">"æ‰§è¡Œå»¶è¿Ÿä»»åŠ¡"</span>), <span class="number">2</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">TimeUnit.MILLISECONDS.sleep(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> remainingDelay = future.getDelay(TimeUnit.MILLISECONDS);</span><br><span class="line">System.out.println(String.format(<span class="string">"å‰©ä½™å»¶è¿Ÿæ—¶é—´: %sms"</span>, remainingDelay));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>åŒºåˆ«</strong> ä¸¤è€…çš„åŒºåˆ«æ˜¯<code>ScheduledExecutorService</code>æ˜¯å¯å»¶è¿Ÿæ‰§è¡Œã€‚</p><h3 id="åŒæ­¥-Synchronized"><a href="#åŒæ­¥-Synchronized" class="headerlink" title="åŒæ­¥(Synchronized)"></a>åŒæ­¥(Synchronized)</h3><ol><li>å¯¹è±¡é”<br><strong>è¯­æ³•:</strong> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==[æµ‹è¯•ä¸€:åŒä¸€å¯¹è±¡]==</span></span><br><span class="line"><span class="comment">// ç»“æœ: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">Test t1 = <span class="keyword">new</span> Test();</span><br><span class="line">Thread runnable1 = <span class="keyword">new</span> Thread(() -&gt; t1.exec());</span><br><span class="line">Thread runnable2 = <span class="keyword">new</span> Thread(() -&gt; t1.exec());</span><br><span class="line">runnable1.start();</span><br><span class="line">runnable2.start();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==[æµ‹è¯•äºŒ:ä¸åŒä¸€å¯¹è±¡]==</span></span><br><span class="line"><span class="comment">// ç»“æœ: 0 0 1 2 3 4 5 6 7 1 2 3 4 5 6 7 8 9 8 9</span></span><br><span class="line">Test t2 = <span class="keyword">new</span> Test();</span><br><span class="line">Thread runnable3 = <span class="keyword">new</span> Thread(() -&gt; t1.exec());</span><br><span class="line">Thread runnable4 = <span class="keyword">new</span> Thread(() -&gt; t2.exec());</span><br><span class="line">runnable3.start();</span><br><span class="line">runnable4.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸¤ç§æ–¹å¼ç­‰ä»·ï¼Œä»…ä½œç”¨èŒƒå›´ä¸ä¸€æ ·ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">exec</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">System.out.printf(i + <span class="string">" "</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exec</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">System.out.printf(i + <span class="string">" "</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>ç»“è®º:</strong> åŒä¸€å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•æ˜¯é”å®šçš„ï¼Œä¸åŒå¯¹è±¡ä¸ä¼šè¿›è¡Œé”å®šã€‚  </p><ol><li>ç±»é”<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// ==[æµ‹è¯•ä¸€:åŒä¸€å¯¹è±¡]==</span></span><br><span class="line"><span class="comment">// ç»“æœ: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">Test t1 = <span class="keyword">new</span> Test();</span><br><span class="line">Thread runnable1 = <span class="keyword">new</span> Thread(() -&gt; t1.exec());</span><br><span class="line">Thread runnable2 = <span class="keyword">new</span> Thread(() -&gt; t1.exec());</span><br><span class="line">runnable1.start();</span><br><span class="line">runnable2.start();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==[æµ‹è¯•äºŒ:ä¸åŒä¸€å¯¹è±¡]==</span></span><br><span class="line"><span class="comment">// ç»“æœ: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">Test t2 = <span class="keyword">new</span> Test();</span><br><span class="line">Thread runnable3 = <span class="keyword">new</span> Thread(() -&gt; t1.exec());</span><br><span class="line">Thread runnable4 = <span class="keyword">new</span> Thread(() -&gt; t2.exec());</span><br><span class="line">runnable3.start();</span><br><span class="line">runnable4.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸¤ç§æ–¹å¼ç­‰ä»·</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">exec</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">System.out.printf(i + <span class="string">" "</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exec</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (Test.class) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">System.out.printf(i + <span class="string">" "</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>ç»“è®º:</strong> è¯¥æ–¹å¼é”çš„ä½œç”¨èŒƒå›´æ˜¯æ•´ä¸ªç±»ã€‚</p><ol><li>æŒ‡å®šé”<br><strong>è¯­æ³•:</strong> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedMain</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==[æµ‹è¯•ä¸€:åŒä¸€å¯¹è±¡]==</span></span><br><span class="line"><span class="comment">// ç»“æœ: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">Test t1 = <span class="keyword">new</span> Test();</span><br><span class="line">Thread runnable1 = <span class="keyword">new</span> Thread(() -&gt; t1.exec(lock));</span><br><span class="line">Thread runnable2 = <span class="keyword">new</span> Thread(() -&gt; t1.exec(lock));</span><br><span class="line">runnable1.start();</span><br><span class="line">runnable2.start();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==[æµ‹è¯•äºŒ:ä¸åŒä¸€å¯¹è±¡]==</span></span><br><span class="line"><span class="comment">// ç»“æœ: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">Test t2 = <span class="keyword">new</span> Test();</span><br><span class="line">Thread runnable3 = <span class="keyword">new</span> Thread(() -&gt; t1.exec(lock));</span><br><span class="line">Thread runnable4 = <span class="keyword">new</span> Thread(() -&gt; t2.exec(lock));</span><br><span class="line">runnable3.start();</span><br><span class="line">runnable4.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exec</span><span class="params">(Object lock)</span> </span>&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">System.out.printf(i + <span class="string">" "</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>ç»“è®º:</strong> è¯¥æ–¹å¼å–å†³äºä¼ å…¥çš„é”ã€‚<strong>å½“å¯¹è±¡å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œé”å°±å¤±å»äº†ä½œç”¨ã€‚</strong></p><p>å¯¹äº Java8 ä¸­ï¼Œ<code>ReentrantLock</code> å¯å®ç°é”çš„ä½œç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æå–æƒ³è¦çš„apkï¼Œ ä¾‹å¦‚CM ROMåŒ…ä¸­çš„å«å¤©æ°”çš„æ—¶é’Ÿä¸é”™ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="Java" scheme="https://hocg.in/categories/Java/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="Java" scheme="https://hocg.in/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ WebView ç‚¹å‡»æ—¶ç½‘é¡µä¸æ–­é—ªè€€</title>
    <link href="https://hocg.in/2017/09/28/%E8%A7%A3%E5%86%B3WebView%E7%82%B9%E5%87%BB%E6%97%B6%E7%BD%91%E9%A1%B5%E4%B8%8D%E6%96%AD%E9%97%AA%E8%80%80/"/>
    <id>https://hocg.in/2017/09/28/è§£å†³WebViewç‚¹å‡»æ—¶ç½‘é¡µä¸æ–­é—ªè€€/</id>
    <published>2017-09-28T13:47:21.000Z</published>
    <updated>2017-09-28T14:14:54.743Z</updated>
    
    <content type="html"><![CDATA[<p>è§£å†³é«˜ç‰ˆæœ¬ WebView ç‚¹å‡»æ—¶ç½‘é¡µä¸æ–­é—ªè€€çš„é—®é¢˜ ğŸ¤—<br><a id="more"></a></p><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>ç½‘é¡µæ¸²æŸ“å¼€å¯äº†ç¡¬ä»¶åŠ é€Ÿï¼Œå¦‚æœä½ ä¹Ÿå‡ºç°äº†è¯¥é—®é¢˜ï¼Œå¯ä»¥å°è¯•å…³é—­ç¡¬ä»¶åŠ é€Ÿã€‚  </p><h2 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h2><p>æ–¹æ¡ˆä¸€: åœ¨xmlä¸­ä½¿ç”¨<code>android:layerType=&quot;software&quot;</code>è¿›è¡Œå…³é—­ã€‚<strong>æ¨è</strong><br>æ–¹æ¡ˆäºŒ: é€šè¿‡ java ä»£ç <code>webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);</code>è¿›è¡Œå…³é—­ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/hocgin/BroswerKit/blob/master/app/src/main/res/layout/activity_browser.xml#L40-L53" target="_blank" rel="external">BroswerKit</a>è¿›è¡Œæ ‡è®°çš„è¿™æ®µä»£ç è§£å†³äº†æˆ‘çš„é—ªè€€é—®é¢˜</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è§£å†³é«˜ç‰ˆæœ¬ WebView ç‚¹å‡»æ—¶ç½‘é¡µä¸æ–­é—ªè€€çš„é—®é¢˜ ğŸ¤—&lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="https://hocg.in/categories/Android/"/>
    
    
      <category term="Android" scheme="https://hocg.in/tags/Android/"/>
    
      <category term="é—®é¢˜" scheme="https://hocg.in/tags/%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ ProgressBar ä¸Šä¸‹å‡ºç°ç©ºç™½ç°è±¡</title>
    <link href="https://hocg.in/2017/09/27/%E8%A7%A3%E5%86%B3ProgressBar%E9%A1%B6%E9%83%A8%E5%87%BA%E7%8E%B0%E7%A9%BA%E7%99%BD%E7%8E%B0%E8%B1%A1/"/>
    <id>https://hocg.in/2017/09/27/è§£å†³ProgressBaré¡¶éƒ¨å‡ºç°ç©ºç™½ç°è±¡/</id>
    <published>2017-09-27T02:27:22.000Z</published>
    <updated>2017-09-28T14:15:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>è§£å†³ ProgressBar ä¸Šä¸‹å‡ºç°ç©ºç™½ç°è±¡ ğŸ¤ <br><a id="more"></a></p><h2 id="å‡ºç°é—®é¢˜"><a href="#å‡ºç°é—®é¢˜" class="headerlink" title="å‡ºç°é—®é¢˜"></a>å‡ºç°é—®é¢˜</h2><p>ä¸€èˆ¬æƒ…å†µæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥åˆ›å»º<code>ProgressBar</code><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/progressBar"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">"?android:attr/progressBarStyleHorizontal"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#fff"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:indeterminate</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>é‚£ä¹ˆå°†ä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µ:<br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-28%2021.58.00.png" alt="å‡ºç°ç©ºç™½é—´éš”é—®é¢˜"></p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>é€šè¿‡å˜æ›´<code>android:layout_marginBottom</code>å’Œ<code>android:layout_marginTop</code>åœ¨ç»“åˆ<code>android:background</code>è®¾ç½®ä¸ºé€æ˜æ¥å¤„ç†è¿™ä¸ªé—®é¢˜:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/progressBar"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">"?android:attr/progressBarStyleHorizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginBottom</span>=<span class="string">"-7dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_marginTop</span>=<span class="string">"-7dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"#00ffffff"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:indeterminate</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸‹æ˜¯å¤„ç†åçš„ç»“æœ<br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-28%2022.03.46.png" alt="è§£å†³é—®é¢˜å"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è§£å†³ ProgressBar ä¸Šä¸‹å‡ºç°ç©ºç™½ç°è±¡ ğŸ¤ &lt;br&gt;
    
    </summary>
    
      <category term="Android" scheme="https://hocg.in/categories/Android/"/>
    
    
      <category term="Android" scheme="https://hocg.in/tags/Android/"/>
    
      <category term="é—®é¢˜" scheme="https://hocg.in/tags/%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>OpenWrt å…¥é—¨ç¯‡</title>
    <link href="https://hocg.in/2017/09/18/OpenWrt-%E5%85%A5%E9%97%A8%E7%AF%87/"/>
    <id>https://hocg.in/2017/09/18/OpenWrt-å…¥é—¨ç¯‡/</id>
    <published>2017-09-18T06:32:26.000Z</published>
    <updated>2017-11-11T15:11:01.049Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åˆšå¥½é‡åˆ· OpenWrt å›ºä»¶ï¼Œæ•´ç†æ•´ç†<br><a id="more"></a></p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p><a href="https://www.wikiwand.com/zh/OpenWrt" target="_blank" rel="external">ä»€ä¹ˆæ˜¯ OpenWrt?</a></p><h2 id="å…³äºæ”¯æŒ-OpenWrt-çš„è·¯ç”±å™¨"><a href="#å…³äºæ”¯æŒ-OpenWrt-çš„è·¯ç”±å™¨" class="headerlink" title="å…³äºæ”¯æŒ OpenWrt çš„è·¯ç”±å™¨"></a>å…³äºæ”¯æŒ OpenWrt çš„è·¯ç”±å™¨</h2><p>å¯ä»¥å» <a href="https://wiki.openwrt.org/toh/start" target="_blank" rel="external">æ”¯æŒ OpenWrt çš„è·¯ç”±å™¨åˆ—è¡¨</a> æŸ¥çœ‹æ”¯æŒçš„è·¯ç”±å™¨, äº†è§£å…¶ <strong>CPUå‹å·(æ—¢èŠ¯ç‰‡å‹å·)</strong> <strong>RAMå®¹é‡</strong> <strong>Flashå®¹é‡</strong></p><h2 id="å…³äº-OpenWrt-å›ºä»¶çš„ä¸‹è½½"><a href="#å…³äº-OpenWrt-å›ºä»¶çš„ä¸‹è½½" class="headerlink" title="å…³äº OpenWrt å›ºä»¶çš„ä¸‹è½½"></a>å…³äº OpenWrt å›ºä»¶çš„ä¸‹è½½</h2><p><a href="https://downloads.openwrt.org" target="_blank" rel="external">OpenWrt å®˜æ–¹ä¸‹è½½å›ºä»¶åœ°å€</a><br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2012.12.12.png" alt="image"><br><strong>å…³äºä¸‹è½½åœ°å€æ ¼å¼:</strong></p><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2012.26.38.png" alt="image"></p><p><strong>å…³äºå›ºä»¶ç±»å‹</strong></p><ul><li>åç¼€ä¸º<code>factory</code>æ˜¯ç”¨äºä»åŸå‚å›ºä»¶åˆ·ä¸º OpenWrtã€‚</li><li>åç¼€ä¸º<code>sysupgrade</code>æ˜¯ç”¨äºä» OpenWrt æ›´æ–° OpenWrtã€‚</li></ul><h2 id="åŸå‚åˆ·-OpenWrt-å›ºä»¶"><a href="#åŸå‚åˆ·-OpenWrt-å›ºä»¶" class="headerlink" title="åŸå‚åˆ· OpenWrt å›ºä»¶"></a>åŸå‚åˆ· OpenWrt å›ºä»¶</h2><blockquote><p>å¾…è¡¥å……</p></blockquote><h2 id="ç½‘é¡µç•Œé¢-OpenWrt-å¤‡ä»½-amp-å‡çº§å›ºä»¶"><a href="#ç½‘é¡µç•Œé¢-OpenWrt-å¤‡ä»½-amp-å‡çº§å›ºä»¶" class="headerlink" title="ç½‘é¡µç•Œé¢ OpenWrt å¤‡ä»½ &amp; å‡çº§å›ºä»¶"></a>ç½‘é¡µç•Œé¢ OpenWrt å¤‡ä»½ &amp; å‡çº§å›ºä»¶</h2><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2012.50.34.png" alt="image"><br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202017-09-18%2012.57.13.png" alt="image"></p><h2 id="OpenWrt-å®‰å…¨æ¨¡å¼"><a href="#OpenWrt-å®‰å…¨æ¨¡å¼" class="headerlink" title="OpenWrt å®‰å…¨æ¨¡å¼"></a>OpenWrt å®‰å…¨æ¨¡å¼</h2><blockquote><p>å½“æˆ‘ä»¬æ— æ³•è¿›å…¥ç½‘é¡µç•Œé¢ï¼Œå¯ä»¥ä½¿ç”¨<strong>å®‰å…¨æ¨¡å¼</strong>ç®¡ç†æ¢å¤å›ºä»¶<br><strong>å¿…é¡»ä½¿ç”¨æœ‰çº¿ç”µç¼†è¿›è¡Œè¿æ¥ã€‚</strong><br>ç¯å¢ƒ: Linux or macOS</p></blockquote><p>è¿›å…¥OpenWrtå®‰å…¨æ¨¡å¼çš„æ–¹æ³•ï¼š</p><ol><li>ä½¿ç”¨ç½‘çº¿è¿æ¥ç”µè„‘å’Œè·¯ç”±å™¨</li><li>è®¾ç½®ç”µè„‘ç½‘å¡<br>IP åœ°å€:<code>192.168.1.x</code>(xä¸º2è‡³255)<br>å­ç½‘æ©ç :<code>255.255.255.0</code></li><li><p>æ‰“å¼€ç»ˆç«¯è¿è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> æ³¨, æ­¤å¤„ eth0 ä¸ºç½‘å¡. å¯ä½¿ç”¨ ifconfig è¿›è¡ŒæŸ¥çœ‹</span><br><span class="line">sudo tcpdump -Ani eth0 port 4919 and udp</span><br></pre></td></tr></table></figure></li><li><p>æ–­ç”µé‡å¯</p></li><li><p>æ‰“å¼€ç»ˆç«¯è¿è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet 192.168.1.1</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡ŒæŒ‡ä»¤, ä¾‹å¦‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> é‡ç½®ç³»ç»Ÿ</span><br><span class="line">firstboot</span><br><span class="line"><span class="meta">#</span> é‡ç½®å¯†ç </span><br><span class="line">passwd</span><br></pre></td></tr></table></figure></li><li><p>é‡å¯è·¯ç”±å™¨</p></li></ol><h2 id="ä¸æ­»-U-Boot"><a href="#ä¸æ­»-U-Boot" class="headerlink" title="ä¸æ­» U-Boot"></a>ä¸æ­» U-Boot</h2><blockquote><p>å¾…è¡¥å……</p></blockquote><h2 id="ç½‘é¡µç•Œé¢-OpenWrt-å®½å¸¦æ‹¨å·è®¾ç½®"><a href="#ç½‘é¡µç•Œé¢-OpenWrt-å®½å¸¦æ‹¨å·è®¾ç½®" class="headerlink" title="ç½‘é¡µç•Œé¢ OpenWrt å®½å¸¦æ‹¨å·è®¾ç½®"></a>ç½‘é¡µç•Œé¢ OpenWrt å®½å¸¦æ‹¨å·è®¾ç½®</h2><ol><li><p>è¿›å…¥æ¥å£è®¾ç½®ç•Œé¢</p></li><li><p>è¿›è¡Œ WAN å£ç¼–è¾‘<br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2013.37.35.png" alt="image"></p></li><li><p>å¡«å†™å®½å¸¦è´¦å· &amp; å¯†ç <br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2013.45.42.png" alt="image"></p></li><li><p>æ­¤æ—¶ç”µè„‘è¿æ¥ LAN å£çš„è¯ï¼Œå³å¯è¿›è¡Œä¸Šç½‘ã€‚</p></li></ol><h2 id="WiFi-è®¾ç½®"><a href="#WiFi-è®¾ç½®" class="headerlink" title="WiFi è®¾ç½®"></a>WiFi è®¾ç½®</h2><ol><li>è¿›å…¥ WiFi è®¾ç½®ç•Œé¢ï¼Œæ­¤å¤„ä¸ºåŒç½‘å¡<br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2013.53.43.png" alt="image"></li><li>å¼€å¯WiFi<br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2014.00.00.png" alt="image"></li><li>è®¾ç½®WiFi<br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-18%2014.26.04.png" alt="image"></li></ol><hr><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="ä»€ä¹ˆæ˜¯WANå£ï¼Ÿä»€ä¹ˆæ˜¯LANå£ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯WANå£ï¼Ÿä»€ä¹ˆæ˜¯LANå£ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯WANå£ï¼Ÿä»€ä¹ˆæ˜¯LANå£ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯WANå£ï¼Ÿä»€ä¹ˆæ˜¯LANå£ï¼Ÿ</h3><blockquote><p>è·¯ç”±å™¨é€šå¸¸æœ‰å¤šä¸ªLANå£ï¼Œä¸€ä¸ªWANå£</p></blockquote><ul><li>WAN<blockquote><p>å¹¿åŸŸç½‘ï¼ˆWANã€å…¬ç½‘ã€å¤–ç½‘ï¼‰</p></blockquote></li></ul><p>è®¾ç½®æ‹¨å·ä¸Šç½‘è¿æ¥äº’è”ç½‘</p><ul><li>LAN<blockquote><p>å±€åŸŸç½‘ï¼ˆLANã€ç§ç½‘ã€å†…ç½‘)</p></blockquote></li></ul><p>è¿æ¥æœ¬åœ°è®¡ç®—æœº</p><h3 id="PPPoE"><a href="#PPPoE" class="headerlink" title="PPPoE"></a>PPPoE</h3><blockquote><p>ä»¥å¤ªç½‘ä¸Šçš„ç‚¹å¯¹ç‚¹åè®®ä¸­çš„ä¸€ç§, å®½å¸¦æ¥å…¥æ–¹å¼ADSL å°±ä½¿ç”¨äº†PPPoEåè®®</p></blockquote><h3 id="å…³äº-WiFi-2-4G-å’Œ-5G"><a href="#å…³äº-WiFi-2-4G-å’Œ-5G" class="headerlink" title="å…³äº WiFi 2.4G å’Œ 5G"></a>å…³äº WiFi 2.4G å’Œ 5G</h3><p><code>802.11n/b/g</code> ä¸»è¦å·¥ä½œé¢‘æ®µä¸º2.4GHz<br><code>802.11a/ac</code> ä¸»è¦å·¥ä½œé¢‘æ®µä¸º5GHz</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åˆšå¥½é‡åˆ· OpenWrt å›ºä»¶ï¼Œæ•´ç†æ•´ç†&lt;br&gt;
    
    </summary>
    
      <category term="OpenWrt" scheme="https://hocg.in/categories/OpenWrt/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="OpenWrt" scheme="https://hocg.in/tags/OpenWrt/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº Android Studio å¯åŠ¨ Android æ¨¡æ‹Ÿå™¨å¤±è´¥é—®é¢˜</title>
    <link href="https://hocg.in/2017/07/02/%E5%85%B3%E4%BA%8EAndroid%20Studio%20%E5%90%AF%E5%8A%A8Android%E6%A8%A1%E6%8B%9F%E5%99%A8%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/"/>
    <id>https://hocg.in/2017/07/02/å…³äºAndroid Studio å¯åŠ¨Androidæ¨¡æ‹Ÿå™¨å¤±è´¥é—®é¢˜/</id>
    <published>2017-07-02T13:07:00.000Z</published>
    <updated>2017-07-02T13:07:55.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>Android Studio å¯åŠ¨è™šæ‹Ÿæœºä¸€ç›´é—ªé€€ï¼Œä¸æ˜¾ç¤ºä»»ä½•æŠ¥é”™ä¿¡æ¯</p><a id="more"></a><h2 id="æ’æŸ¥é—®é¢˜"><a href="#æ’æŸ¥é—®é¢˜" class="headerlink" title="æ’æŸ¥é—®é¢˜"></a>æ’æŸ¥é—®é¢˜</h2><ol><li>å°è¯•ç”¨å‘½ä»¤å¯åŠ¨æ¨¡æ‹Ÿå™¨, æ–¹ä¾¿æŸ¥çœ‹å…¶é”™è¯¯æ—¥å¿—<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ä½ åˆ›å»ºçš„è®¾å¤‡</span></span><br><span class="line">emulator -list-avds</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨å‘½ä»¤</span></span><br><span class="line">emulator -netdelay none -netspeed full -avd New_Device_API_2</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»¥ä¸‹ä¸ºæŠ¥é”™æ—¥å¿—</span></span><br><span class="line">Hax is enabled</span><br><span class="line">Hax ram_size 0x60000000</span><br><span class="line">HAX is working and emulator runs in fast virt mode.</span><br><span class="line">Failed to sync vcpu reg</span><br><span class="line">Failed to sync vcpu reg</span><br><span class="line">Failed to sync vcpu reg</span><br><span class="line">Failed to sync vcpu reg</span><br><span class="line">Failed to sync vcpu reg</span><br><span class="line">Failed to sync HAX vcpu contextInternal error: Initial hax sync failed</span><br></pre></td></tr></table></figure></li></ol><p>vcpuæ— æ³•è¿›è¡ŒåŒæ­¥?? What??<br>å°è¯•è¿›è¡Œäº† Googleï¼Œ<a href="https://stackoverflow.com/questions/17024538/how-do-i-fix-failed-to-sync-vcpu-reg-error/17024645" target="_blank" rel="external">How do I fix â€œFailed to sync vcpu regâ€ error?</a><br>å¥½å§, docker ä¹‹ç±»çš„è™šæ‹Ÿæœºå¼•èµ·äº†å†²çª</p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>å…³æ‰ç”¨ä¸ç€çš„è™šæ‹Ÿæœºå¦‚ docker ..</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h2&gt;&lt;p&gt;Android Studio å¯åŠ¨è™šæ‹Ÿæœºä¸€ç›´é—ªé€€ï¼Œä¸æ˜¾ç¤ºä»»ä½•æŠ¥é”™ä¿¡æ¯&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="https://hocg.in/categories/Android/"/>
    
    
      <category term="Android" scheme="https://hocg.in/tags/Android/"/>
    
      <category term="Mac" scheme="https://hocg.in/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Google ä½¿ç”¨æŠ€å·§</title>
    <link href="https://hocg.in/2017/06/18/Google-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <id>https://hocg.in/2017/06/18/Google-ä½¿ç”¨æŠ€å·§/</id>
    <published>2017-06-18T03:24:06.000Z</published>
    <updated>2017-11-11T15:11:01.049Z</updated>
    
    <content type="html"><![CDATA[<p>æ‘©æ“¦ Google åˆ©å™¨ã€‚</p><a id="more"></a><h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><p>ä½¿ç”¨ <a href="https://www.google.com/ncr" target="_blank" rel="external">https://www.google.com/ncr</a> æ¨¡å¼å¹¶ä¸”æ˜¯<code>è‹±æ–‡ç‰ˆ</code>ã€‚</p><h2 id="æŠ€å·§"><a href="#æŠ€å·§" class="headerlink" title="æŠ€å·§"></a>æŠ€å·§</h2><h3 id="åŒå¼•å·"><a href="#åŒå¼•å·" class="headerlink" title="åŒå¼•å·"></a>åŒå¼•å·</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2011.44.17.png" alt="image"></p><blockquote><p><strong>å®Œå…¨åŒ¹é…æœç´¢</strong></p></blockquote><h3 id="å‡å·"><a href="#å‡å·" class="headerlink" title="å‡å·"></a>å‡å·</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2011.46.03.png" alt="image"></p><blockquote><p>ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤æ—¶å‡å·å‰é¢å¿…é¡»æ˜¯ç©ºæ ¼ï¼Œå‡å·åé¢æ²¡æœ‰ç©ºæ ¼ï¼Œç´§è·Ÿç€éœ€è¦<strong>æ’é™¤ç‰¹å®šçš„è¯</strong>ã€‚</p></blockquote><h3 id="æ˜Ÿå·"><a href="#æ˜Ÿå·" class="headerlink" title="æ˜Ÿå·"></a>æ˜Ÿå·</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2011.52.27.png" alt="image"></p><blockquote><p><em>å·ä»£è¡¨ä»»ä½•æ–‡å­—ï¼Œå³<em>*æ¨¡ç³Šæœç´¢</em></em></p></blockquote><h3 id="ï½"><a href="#ï½" class="headerlink" title="ï½"></a>ï½</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.40.20.png" alt="image"></p><blockquote><p>åŒ¹é… <strong>è¯¥å…³é”®è¯ æˆ– è¯¥å…³é”®è¯çš„åŒä¹‰è¯</strong></p></blockquote><h3 id="OR"><a href="#OR" class="headerlink" title="OR"></a>OR</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.35.15.png" alt="image"></p><blockquote><p>åŒ¹é…å…³é”®è¯<code>hocgin</code>æˆ–è€…<code>hocg.in</code></p></blockquote><h3 id=""><a href="#" class="headerlink" title="+"></a>+</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.37.40.png" alt="image"></p><blockquote><p>åŒ¹é…å…³é”®è¯<code>hocgin</code>ä¸<code>hocg.in</code>åŒæ—¶å­˜åœ¨</p></blockquote><h3 id="inurl"><a href="#inurl" class="headerlink" title="inurl"></a>inurl</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2011.58.08.png" alt="image"></p><blockquote><p>åŒ¹é…<strong>urlè¿æ¥ä¸­åŒ…å«è¯¥è¯æ±‡</strong>ï¼Œä¾‹å¦‚ä¸Šæ–¹åŒ¹é… <a href="https://hocg.in/hocgin">https://hocg.in/hocgin</a></p></blockquote><h3 id="allinurl"><a href="#allinurl" class="headerlink" title="allinurl"></a>allinurl</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.21.25.png" alt="image"></p><blockquote><p>ç­‰ä»·äº: <code>inurl: hocgin inurl: hocg.in</code><br>åŒ¹é…<strong>urlè¿æ¥ä¸­æ—¢åŒ…å«<code>hocgin</code>ä¹ŸåŒ…å«<code>hocg.in</code></strong>, ä¾‹å¦‚: <a href="https://hocg.in/hocgin">https://hocg.in/hocgin</a></p></blockquote><h3 id="inanchor"><a href="#inanchor" class="headerlink" title="inanchor"></a>inanchor</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.10.13.png" alt="image"></p><blockquote><p>åŒ¹é…<strong>aæ ‡ç­¾ä¸­çš„æ–‡å­—</strong>, ä¾‹å¦‚ä¸Šæ–¹åŒ¹é… \<a href="https://hocg.in">hocgin\</a></p></blockquote><h3 id="intitle"><a href="#intitle" class="headerlink" title="intitle"></a>intitle</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.12.39.png" alt="image"></p><blockquote><p>åŒ¹é…<strong>titleæ ‡ç­¾ä¸­çš„æ–‡å­—</strong>, \<title>hocgin\</title></p></blockquote><h3 id="allintitle"><a href="#allintitle" class="headerlink" title="allintitle"></a>allintitle</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.17.18.png" alt="image"></p><blockquote><p>ç­‰ä»·äº: <code>intitle: hocgin intitle: hocg.in</code><br>åŒ¹é…<strong>æ ‡é¢˜ä¸­æ—¢åŒ…å«<code>hocgin</code>ä¹ŸåŒ…å«<code>hocg.in</code></strong>,ä¾‹å¦‚: \<title>hocgin çš„åšå®¢åœ°å€ hocg.in\</title></p></blockquote><h3 id="filetype"><a href="#filetype" class="headerlink" title="filetype"></a>filetype</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.24.45.png" alt="image"></p><blockquote><p>åŒ¹é…<strong>åŒ…å«å…³é”®è¯<code>hocgin</code>çš„æ‰€æœ‰pdfæ–‡ä»¶</strong></p></blockquote><h3 id="site"><a href="#site" class="headerlink" title="site"></a>site</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.26.38.png" alt="image"></p><blockquote><p><strong>æŸä¸ªåŸŸåçš„æœç´¢</strong></p></blockquote><h3 id="ralated"><a href="#ralated" class="headerlink" title="ralated"></a>ralated</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.36.45.png" alt="image"></p><blockquote><p>è¿”å› Google äººä¸ºç›¸å…³çš„é¡µé¢</p></blockquote><p><strong>æ··åˆä½¿ç”¨ç¤ºä¾‹</strong><br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.43.18.png" alt="image"><br><a href="">å›¾ç‰‡æ¥æº</a></p><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><h3 id="æŸ¥è¯¢å­—è¯çš„é‡Šä¹‰"><a href="#æŸ¥è¯¢å­—è¯çš„é‡Šä¹‰" class="headerlink" title="æŸ¥è¯¢å­—è¯çš„é‡Šä¹‰"></a>æŸ¥è¯¢å­—è¯çš„é‡Šä¹‰</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.50.27.png" alt="image"></p><h3 id="æ•°å­¦è¿ç®—"><a href="#æ•°å­¦è¿ç®—" class="headerlink" title="æ•°å­¦è¿ç®—"></a>æ•°å­¦è¿ç®—</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.51.30.png" alt="image"></p><h3 id="å¤©æ°”æŸ¥è¯¢"><a href="#å¤©æ°”æŸ¥è¯¢" class="headerlink" title="å¤©æ°”æŸ¥è¯¢"></a>å¤©æ°”æŸ¥è¯¢</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.52.39.png" alt="image"></p><h3 id="å½“å‰æ—¶é—´"><a href="#å½“å‰æ—¶é—´" class="headerlink" title="å½“å‰æ—¶é—´"></a>å½“å‰æ—¶é—´</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.57.12.png" alt="image"></p><h3 id="æ—¥å‡º"><a href="#æ—¥å‡º" class="headerlink" title="æ—¥å‡º"></a>æ—¥å‡º</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.58.31.png" alt="image"></p><h3 id="æ—¥è½"><a href="#æ—¥è½" class="headerlink" title="æ—¥è½"></a>æ—¥è½</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2012.59.30.png" alt="image"></p><h3 id="éŸ³ä¹äººæœç´¢"><a href="#éŸ³ä¹äººæœç´¢" class="headerlink" title="éŸ³ä¹äººæœç´¢"></a>éŸ³ä¹äººæœç´¢</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.02.27.png" alt="image"></p><h3 id="çœä¼š"><a href="#çœä¼š" class="headerlink" title="çœä¼š"></a>çœä¼š</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.04.05.png" alt="image"></p><h3 id="æ±‡ç‡"><a href="#æ±‡ç‡" class="headerlink" title="æ±‡ç‡"></a>æ±‡ç‡</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.08.03.png" alt="image"></p><blockquote><p>200ç¾å…ƒæ¢å¤šå°‘äººæ°‘å¸ï¼Œå¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—</p></blockquote><h3 id="è®¾ç½®è®¡æ—¶å™¨"><a href="#è®¾ç½®è®¡æ—¶å™¨" class="headerlink" title="è®¾ç½®è®¡æ—¶å™¨"></a>è®¾ç½®è®¡æ—¶å™¨</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.09.39.png" alt="image"></p><blockquote><p>Set timer XX seconds/minutes/hoursï¼ŒXXè¡¨ç¤ºå…·ä½“çš„æ•°å­—ã€‚</p></blockquote><h3 id="ä¸¤åœ°ç‚¹è·ç¦»è®¡ç®—"><a href="#ä¸¤åœ°ç‚¹è·ç¦»è®¡ç®—" class="headerlink" title="ä¸¤åœ°ç‚¹è·ç¦»è®¡ç®—"></a>ä¸¤åœ°ç‚¹è·ç¦»è®¡ç®—</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.11.53.png" alt="image"></p><h3 id="å½“å‰ä½ç½®"><a href="#å½“å‰ä½ç½®" class="headerlink" title="å½“å‰ä½ç½®"></a>å½“å‰ä½ç½®</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.14.44.png" alt="image"></p><h3 id="æ˜¾ç¤ºå½“å‰ç”µè„‘IP"><a href="#æ˜¾ç¤ºå½“å‰ç”µè„‘IP" class="headerlink" title="æ˜¾ç¤ºå½“å‰ç”µè„‘IP"></a>æ˜¾ç¤ºå½“å‰ç”µè„‘IP</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.23.04.png" alt="image"></p><h3 id="æ˜¾ç¤ºå›½å®¶-GDP"><a href="#æ˜¾ç¤ºå›½å®¶-GDP" class="headerlink" title="æ˜¾ç¤ºå›½å®¶ GDP"></a>æ˜¾ç¤ºå›½å®¶ GDP</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.25.31.png" alt="image"></p><h3 id="ç»˜åˆ¶å¤šå…ƒæ–¹ç¨‹ä»¥åŠå¤æ‚çš„æ–¹ç¨‹å¼"><a href="#ç»˜åˆ¶å¤šå…ƒæ–¹ç¨‹ä»¥åŠå¤æ‚çš„æ–¹ç¨‹å¼" class="headerlink" title="ç»˜åˆ¶å¤šå…ƒæ–¹ç¨‹ä»¥åŠå¤æ‚çš„æ–¹ç¨‹å¼"></a>ç»˜åˆ¶å¤šå…ƒæ–¹ç¨‹ä»¥åŠå¤æ‚çš„æ–¹ç¨‹å¼</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.27.12.png" alt="image"></p><blockquote><p>graph + æ–¹ç¨‹å¼</p></blockquote><h3 id="æœç´¢æŸä¸ªå•è¯çš„ç”±æ¥"><a href="#æœç´¢æŸä¸ªå•è¯çš„ç”±æ¥" class="headerlink" title="æœç´¢æŸä¸ªå•è¯çš„ç”±æ¥"></a>æœç´¢æŸä¸ªå•è¯çš„ç”±æ¥</h3><p><img src="http://7xs6lq.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-09-19%2013.31.02.png" alt="image"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‘©æ“¦ Google åˆ©å™¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Other" scheme="https://hocg.in/categories/Other/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="Google" scheme="https://hocg.in/tags/Google/"/>
    
  </entry>
  
  <entry>
    <title>å­—ç¬¦ä¸²ç¼–ç ç¯‡</title>
    <link href="https://hocg.in/2017/05/12/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E7%A0%81%E7%AF%87/"/>
    <id>https://hocg.in/2017/05/12/å­—ç¬¦ä¸²ç¼–ç ç¯‡/</id>
    <published>2017-05-12T13:09:03.000Z</published>
    <updated>2017-11-11T15:11:01.049Z</updated>
    
    <content type="html"><![CDATA[<p> å­—ç¬¦ç¼–ç çš„æ¥å†..<br><a id="more"></a></p><h2 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h2><blockquote><p>æœ€æ—©åªæœ‰127ä¸ªå­—ç¬¦è¢«ç¼–ç åˆ°è®¡ç®—æœºé‡Œï¼Œä¹Ÿå°±æ˜¯å¤§å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸€äº›ç¬¦å·</p><ul><li>å ä½: 1ä¸ªå­—èŠ‚</li></ul></blockquote><h2 id="GB2312"><a href="#GB2312" class="headerlink" title="GB2312"></a>GB2312</h2><blockquote><p>ä¸­æ–‡æ˜¾ç„¶ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸å¤Ÿçš„ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªå­—èŠ‚ï¼Œè€Œä¸”è¿˜ä¸èƒ½å’ŒASCIIç¼–ç å†²çª</p></blockquote><h2 id="Unicode-u-16è¿›åˆ¶"><a href="#Unicode-u-16è¿›åˆ¶" class="headerlink" title="Unicode \u[16è¿›åˆ¶]"></a>Unicode <code>\u[16è¿›åˆ¶]</code></h2><blockquote><p>UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜äº†ã€‚</p><ul><li>å ä½: é€šå¸¸æ˜¯2ä¸ªå­—èŠ‚</li></ul></blockquote><h2 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h2><blockquote><p>æœ¬ç€èŠ‚çº¦çš„ç²¾ç¥ï¼Œåˆå‡ºç°äº†æŠŠUnicodeç¼–ç è½¬åŒ–ä¸ºâ€œå¯å˜é•¿ç¼–ç â€<br><strong>Note:</strong> UTF-8ç¼–ç æŠŠä¸€ä¸ªUnicodeå­—ç¬¦æ ¹æ®ä¸åŒçš„æ•°å­—å¤§å°ç¼–ç æˆ1-6ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯3ä¸ªå­—èŠ‚ï¼Œåªæœ‰å¾ˆç”Ÿåƒ»çš„å­—ç¬¦æ‰ä¼šè¢«ç¼–ç æˆ4-6ä¸ªå­—èŠ‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; å­—ç¬¦ç¼–ç çš„æ¥å†..&lt;br&gt;
    
    </summary>
    
      <category term="Other" scheme="https://hocg.in/categories/Other/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
  </entry>
  
  <entry>
    <title>Wireshark çš„ä½¿ç”¨</title>
    <link href="https://hocg.in/2017/04/20/Wireshark%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://hocg.in/2017/04/20/Wiresharkçš„ä½¿ç”¨/</id>
    <published>2017-04-20T11:34:05.000Z</published>
    <updated>2017-11-11T15:11:01.049Z</updated>
    
    <content type="html"><![CDATA[<p> æŠ½ç©ºæ•´ç†ä¸€ä¸‹, è™½ç„¶<code>Charles</code>å¾ˆå¥½ç”¨, ä½†æ˜¯æŸäº›æƒ…å†µä¸‹è¯¥è½¯ä»¶ä¹Ÿæ˜¯ä¸å¯æ›¿ä»£çš„.<br><a id="more"></a><br><!-- ## å‚è€ƒ[WireShark](http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html) --></p><h3 id="å…³äºWireshark"><a href="#å…³äºWireshark" class="headerlink" title="å…³äºWireshark"></a>å…³äºWireshark</h3><p>é€‚åˆç ”ç©¶ TCP,UDP ç­‰åè®®. <strong>å› ä¸ºé™åˆ¶å¹¶ä¸èƒ½æ”¹åŒ…æˆ–æ¨¡æ‹Ÿå‘åŒ…ï¼Œåªèƒ½åˆ†æåè®®</strong><br>è‹¥, ç ”ç©¶HTTP,HTTPSæ¨èä½¿ç”¨<code>Charles</code> or <code>Fiddler</code></p><h3 id="å…³äºæŠ“åŒ…äº”é¢œå…­è‰²çš„æ„ä¹‰"><a href="#å…³äºæŠ“åŒ…äº”é¢œå…­è‰²çš„æ„ä¹‰" class="headerlink" title="å…³äºæŠ“åŒ…äº”é¢œå…­è‰²çš„æ„ä¹‰"></a>å…³äºæŠ“åŒ…äº”é¢œå…­è‰²çš„æ„ä¹‰</h3><blockquote><p>æ›´å¤šè¯¦æƒ…æŸ¥çœ‹ View - Coloring Rules</p></blockquote><ul><li>ç»¿è‰²èƒŒæ™¯ï¼ˆé»‘å­—ï¼‰<code>HTTPåŒ…</code></li><li>ç°è‰²èƒŒæ™¯ï¼ˆé»‘å­—ï¼‰<code>TCPåŒ…</code></li><li>è“è‰²èƒŒæ™¯ (é»‘å­—)  <code>DNSåŒ…</code></li><li>é»‘è‰²èƒŒæ™¯ (çº¢å­—)  <code>TCPé”™è¯¯åŒ…æˆ–è€…æ ¡éªŒé”™è¯¯åŒ…</code></li></ul><h3 id="Wiresharkä¸»çª—å£"><a href="#Wiresharkä¸»çª—å£" class="headerlink" title="Wiresharkä¸»çª—å£"></a>Wiresharkä¸»çª—å£</h3><blockquote><p>ä»ä¸Šè‡³ä¸‹</p></blockquote><p><img src="https://cloud.githubusercontent.com/assets/16535610/21889866/01695500-d906-11e6-8ddb-c82c20967ae0.png" alt="img"></p><ul><li>èœå•æ : ç”¨äºå¼€å§‹æ“ä½œã€‚</li><li>ä¸»å·¥å…·æ : æä¾›å¿«é€Ÿè®¿é—®èœå•ä¸­ç»å¸¸ç”¨åˆ°çš„é¡¹ç›®çš„åŠŸèƒ½ã€‚</li><li>è¿‡æ»¤å·¥å…·æ : æä¾›å¤„ç†å½“å‰æ˜¾ç¤ºè¿‡æ»¤å¾—æ–¹æ³•ã€‚</li><li>æ‹¦æˆªçš„æ•°æ®åŒ…åˆ—è¡¨(Packet list): æ˜¾ç¤ºæ‰“å¼€æ–‡ä»¶çš„æ¯ä¸ªåŒ…çš„æ‘˜è¦ã€‚ç‚¹å‡»é¢æ¿ä¸­çš„å•ç‹¬æ¡ç›®ï¼ŒåŒ…çš„å…¶ä»–æƒ…å†µå°†ä¼šæ˜¾ç¤ºåœ¨å¦å¤–ä¸¤ä¸ªé¢æ¿ä¸­ã€‚</li><li>é€‰ä¸­çš„æ•°æ®åŒ…ä¿¡æ¯(Packet details): æ˜¾ç¤ºæ‚¨åœ¨Packet listé¢æ¿ä¸­é€‰æ‹©çš„åŒ…çš„æ›´å¤šè¯¦æƒ…ã€‚</li><li>é€‰ä¸­çš„æ•°æ®åŒ…å­—èŠ‚ç : æ˜¾ç¤ºæ‚¨åœ¨Packet listé¢æ¿é€‰æ‹©çš„åŒ…çš„æ•°æ®ï¼Œä»¥åŠåœ¨Packet detailsé¢æ¿é«˜äº®æ˜¾ç¤ºçš„å­—æ®µã€‚</li><li>çŠ¶æ€æ : æ˜¾ç¤ºå½“å‰ç¨‹åºçŠ¶æ€ä»¥åŠæ•æ‰æ•°æ®çš„æ›´å¤šè¯¦æƒ…ã€‚</li></ul><p><strong>é€‰ä¸­çš„æ•°æ®åŒ…ä¿¡æ¯</strong></p><ul><li>Frame: ç‰©ç†å±‚çš„æ•°æ®å¸§æ¦‚å†µ</li><li>Ethernet II: æ•°æ®é“¾è·¯å±‚ä»¥å¤ªç½‘å¸§å¤´éƒ¨ä¿¡æ¯</li><li>Internet Protocol Version 4: äº’è”ç½‘å±‚IPåŒ…å¤´éƒ¨ä¿¡æ¯</li><li>Transmission Control Protocol:  ä¼ è¾“å±‚Tçš„æ•°æ®æ®µå¤´éƒ¨ä¿¡æ¯ï¼Œæ­¤å¤„æ˜¯TCP</li><li>Hypertext Transfer Protocol:  åº”ç”¨å±‚çš„ä¿¡æ¯ï¼Œæ­¤å¤„æ˜¯HTTPåè®®</li></ul><h3 id="è¿‡æ»¤è¡¨è¾¾å¼"><a href="#è¿‡æ»¤è¡¨è¾¾å¼" class="headerlink" title="è¿‡æ»¤è¡¨è¾¾å¼"></a>è¿‡æ»¤è¡¨è¾¾å¼</h3><ul><li><p>åè®®è¿‡æ»¤</p><blockquote><p>tcp upd ..</p></blockquote></li><li><p>ip è¿‡æ»¤</p><blockquote><p><code>æ¥æº</code> ip.src == 192.168.1.1<br><code>ç›®çš„åœ°</code> ip.dst == 192.168.1.1</p></blockquote></li><li><p>ç«¯å£</p><blockquote><p>tcp.port == 8080<br><code>ä»…æ˜¾ç¤ºæ¥æºä¸º8080çš„</code> tcp.srcport == 8080</p></blockquote></li><li><p>Httpæ¨¡å¼</p><blockquote><p>http.request.method==â€GETâ€</p></blockquote></li><li><p>é€»è¾‘è¿ç®—ç¬¦ä¸º <code>and</code> <code>or</code></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; æŠ½ç©ºæ•´ç†ä¸€ä¸‹, è™½ç„¶&lt;code&gt;Charles&lt;/code&gt;å¾ˆå¥½ç”¨, ä½†æ˜¯æŸäº›æƒ…å†µä¸‹è¯¥è½¯ä»¶ä¹Ÿæ˜¯ä¸å¯æ›¿ä»£çš„.&lt;br&gt;
    
    </summary>
    
      <category term="IDE" scheme="https://hocg.in/categories/IDE/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="Wireshark" scheme="https://hocg.in/tags/Wireshark/"/>
    
  </entry>
  
  <entry>
    <title>SQLçš„é‡æ–°æ¢³ç†</title>
    <link href="https://hocg.in/2017/04/07/SQL%E9%87%8D%E6%96%B0%E6%A2%B3%E7%90%86/"/>
    <id>https://hocg.in/2017/04/07/SQLé‡æ–°æ¢³ç†/</id>
    <published>2017-04-07T01:19:09.000Z</published>
    <updated>2017-11-11T15:11:01.049Z</updated>
    
    <content type="html"><![CDATA[<p>æŒç»­ç§¯ç´¯..<br><a id="more"></a></p><h2 id="å…³äº-SQL-æ‰§è¡Œé¡ºåº"><a href="#å…³äº-SQL-æ‰§è¡Œé¡ºåº" class="headerlink" title="å…³äº SQL æ‰§è¡Œé¡ºåº"></a>å…³äº SQL æ‰§è¡Œé¡ºåº</h2><h3 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h3><p><a href="http://www.uol123.com/2013/01/26/sql%E8%AF%AD%E5%8F%A5%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86.html" target="_blank" rel="external">å‚è€ƒ</a></p><h3 id="ä¾‹å¥"><a href="#ä¾‹å¥" class="headerlink" title="ä¾‹å¥"></a>ä¾‹å¥</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t_1 <span class="keyword">join</span> t_2</span><br><span class="line"><span class="keyword">on</span> t_1.id = t_2.fid</span><br><span class="line"><span class="keyword">where</span> <span class="number">1</span>=<span class="number">1</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> t_1.className</span><br><span class="line"><span class="keyword">having</span> t_1.className = <span class="string">'1ç­'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">id</span> <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ˜¯ä¸€æ¡ç®€å•/è§„èŒƒçš„åŸºæœ¬SQLã€‚</p></blockquote><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><ol><li><p>SQLä¸‰ä¸ªå¾ˆé‡è¦çš„ä½ç½®<strong>on/where/having</strong><br>å®ƒä»¬åˆ†åˆ«å¯¹åº”ç€ <strong>join/from/group</strong> å½¢æˆåçš„è™šè¡¨è¿›è¡Œç­›é€‰ã€‚</p></li><li><p><strong>select</strong>éƒ¨åˆ†å¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±æ‰§è¡Œçš„ï¼Œè€Œæ˜¯è¡¨æ•°æ®ç¡®è®¤å®Œæ¯•ï¼Œåªå·®æ’åºçš„æ—¶å€™æ‰§è¡Œçš„ã€‚<br>å¹¶ä¸”selectä¸­çš„<strong>å‡½æ•°/DISTINCT/TOP</strong>ä¹Ÿæ˜¯åœ¨<strong>select</strong>æ‰§è¡Œé˜¶æ®µæ‰§è¡Œçš„</p></li><li><p><strong>èšåˆå‡½æ•°</strong>éœ€Groupåæ‰å¯æ‰§è¡Œ, <strong>æ™®é€šå‡½æ•°</strong>éšæ‰§è¡Œæ­¥éª¤æ‰§è¡Œ(æ­£å¸¸æ‰§è¡Œ)</p></li></ol><h3 id="å…·ä½“é¡ºåº"><a href="#å…·ä½“é¡ºåº" class="headerlink" title="å…·ä½“é¡ºåº"></a>å…·ä½“é¡ºåº</h3><ol><li>FROM FROMåé¢çš„è¡¨æ ‡è¯†äº†è¿™æ¡è¯­å¥è¦æŸ¥è¯¢çš„æ•°æ®æºã€‚å’Œä¸€äº›å­å¥å¦‚ï¼Œï¼ˆ1-J1ï¼‰ç¬›å¡å°”ç§¯ï¼Œï¼ˆ1-J2ï¼‰ONè¿‡æ»¤ï¼Œï¼ˆ1-J3ï¼‰æ·»åŠ å¤–éƒ¨åˆ—ï¼Œæ‰€è¦åº”ç”¨çš„å¯¹è±¡ã€‚FROMè¿‡ç¨‹ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿè¡¨VT1ã€‚<br>(1-J1)ç¬›å¡å°”ç§¯ è¿™ä¸ªæ­¥éª¤ä¼šè®¡ç®—ä¸¤ä¸ªç›¸å…³è”è¡¨çš„ç¬›å¡å°”ç§¯(CROSS JOIN) ï¼Œç”Ÿæˆè™šæ‹Ÿè¡¨VT1-J1ã€‚<br>(1-J2)ONè¿‡æ»¤ è¿™ä¸ªæ­¥éª¤åŸºäºè™šæ‹Ÿè¡¨VT1-J1è¿™ä¸€ä¸ªè™šæ‹Ÿè¡¨è¿›è¡Œè¿‡æ»¤ï¼Œè¿‡æ»¤å‡ºæ‰€æœ‰æ»¡è¶³ON è°“è¯æ¡ä»¶çš„åˆ—ï¼Œç”Ÿæˆè™šæ‹Ÿè¡¨VT1-J2ã€‚<br>(1-J3)æ·»åŠ å¤–éƒ¨è¡Œ  å¦‚æœä½¿ç”¨äº†<code>å¤–è¿æ¥(å¤–è¿æ¥æ‰ä¼šåŠ å…¥å­—æ®µ/æ•°æ®)</code>ï¼Œä¿ç•™è¡¨ä¸­çš„ä¸ç¬¦åˆONæ¡ä»¶çš„åˆ—ä¹Ÿä¼šè¢«åŠ å…¥åˆ°VT1-J2ä¸­ï¼Œä½œä¸ºå¤–éƒ¨è¡Œï¼Œç”Ÿæˆè™šæ‹Ÿè¡¨VT1-J3ã€‚<code>æ­¤æ—¶ ä¸ç¬¦åˆONçš„ä¼šè¢«åŠ å…¥å›æ¥</code></li><li>WHERE å¯¹VT1è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ä¸´æ—¶è¡¨è¿›è¡Œè¿‡æ»¤ï¼Œæ»¡è¶³whereå­å¥çš„åˆ—è¢«æ’å…¥åˆ°VT2è¡¨ä¸­ã€‚ <code>æ•°æ®ç°åœ¨è¿˜æ²¡æœ‰è¢«åˆ†ç»„ï¼Œå› æ­¤ç°åœ¨ä½ ä¸èƒ½ä½¿ç”¨èšåˆè¿ç®—-</code></li><li>GROUP BY è¿™ä¸ªå­å¥ä¼šæŠŠVT2ä¸­ç”Ÿæˆçš„è¡¨æŒ‰ç…§GROUP BYä¸­çš„åˆ—è¿›è¡Œåˆ†ç»„ã€‚ç”ŸæˆVT3è¡¨ã€‚<code>æ¯ä¸€ä¸ªåˆ†ç»„å¿…é¡»åªèƒ½è¿”å›ä¸€è¡Œ(é™¤éè¢«è¿‡æ»¤æ‰)ï¼Œå³æ¯ä¸€è¡Œæ•´ä½“éƒ½æ— é‡å¤ï¼Œå¯¹äºæ²¡æœ‰å‡ºç°GROUP BYåé¢çš„åˆ—å¿…é¡»ä½¿ç”¨èšåˆå‡½æ•°(å¦‚ MAX ,MIN,COUNT,AVGç­‰)ï¼Œä¿è¯æ¯ä¸€ä¸ªGROUPåªè¿”å›ä¸€è¡Œ</code></li><li>HAVING è¿™ä¸ªå­å¥å¯¹VT3è¡¨ä¸­çš„ä¸åŒçš„ç»„è¿›è¡Œè¿‡æ»¤ï¼Œæ»¡è¶³HAVINGæ¡ä»¶çš„å­å¥è¢«åŠ å…¥åˆ°VT4è¡¨ä¸­ã€‚</li><li>SELECT è¿™ä¸ªå­å¥å¯¹SELECTå­å¥ä¸­çš„å…ƒç´ è¿›è¡Œå¤„ç†ï¼Œç”ŸæˆVT5è¡¨ã€‚<br>(5-1)è®¡ç®—è¡¨è¾¾å¼ è®¡ç®—SELECT å­å¥ä¸­çš„è¡¨è¾¾å¼ï¼Œç”ŸæˆVT5-1 <code>å¦‚æœè¿™ä¸ªsqlè¯­å¥æ˜¯ä¸€ä¸ªèšåˆæŸ¥è¯¢ï¼Œåœ¨GROUP BYä¹‹åï¼Œä½ åªèƒ½ä½¿ç”¨GROUP BYä¸­çš„åˆ—ï¼Œå¯¹ä¸å±äºGROUPé›†åˆä¸­çš„åˆ—å¿…é¡»ä½¿ç”¨èšåˆè¿ç®—</code><br>(5-2)DISTINCT å¯»æ‰¾VT5-1ä¸­çš„é‡å¤åˆ—ï¼Œå¹¶åˆ æ‰ï¼Œç”ŸæˆVT5-2<br>(5-3)TOP ä»ORDER BYå­å¥å®šä¹‰çš„ç»“æœä¸­ï¼Œç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„åˆ—ã€‚ç”ŸæˆVT5-3è¡¨</li><li>ORDER BY ä»VT5-3ä¸­çš„è¡¨ä¸­ï¼Œæ ¹æ®ORDER BY å­å¥çš„æ¡ä»¶å¯¹ç»“æœè¿›è¡Œæ’åºï¼Œç”ŸæˆVC6è¡¨ã€‚<code>å”¯ä¸€ä¸€ä¸ªå¯ä»¥ä½¿ç”¨SELECTå­å¥åˆ›å»ºçš„åˆ«åçš„åœ°æ–¹</code></li></ol><blockquote><p><strong>èšåˆå‡½æ•°</strong>æ˜¯å¯¹ä¸€ç»„å€¼æ‰§è¡Œè®¡ç®—å¹¶è¿”å›å•ä¸€çš„å€¼çš„å‡½æ•°</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> C.customerid, <span class="keyword">COUNT</span>(O.orderid) <span class="keyword">AS</span> numorders</span><br><span class="line"><span class="keyword">FROM</span> dbo.Customers <span class="keyword">AS</span> C</span><br><span class="line">  <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> dbo.Orders <span class="keyword">AS</span> O</span><br><span class="line">    <span class="keyword">ON</span> C.customerid = O.customerid</span><br><span class="line"><span class="keyword">WHERE</span> C.city = <span class="string">'Madrid'</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> C.customerid</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(O.orderid)</span><br></pre></td></tr></table></figure><h2 id="å…³äº-è¡¨-Joins"><a href="#å…³äº-è¡¨-Joins" class="headerlink" title="å…³äº è¡¨ Joins"></a>å…³äº è¡¨ Joins</h2><blockquote><p> Joins å­å¥ç”¨äºç»“åˆä¸¤ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ä¸­è¡¨çš„è®°å½•, ä¹Ÿå°±æ˜¯è¯´æ˜¯<strong>é€šè¿‡æŸç§è”ç³»å»ºç«‹è¡¨ä¹‹é—´çš„å…³è”, å¹¶å½¢æˆä¸€å¼ æ–°è¡¨</strong></p></blockquote><h3 id="SQL-å®šä¹‰äº†ä¸‰ç§ä¸»è¦ç±»å‹çš„è¿æ¥"><a href="#SQL-å®šä¹‰äº†ä¸‰ç§ä¸»è¦ç±»å‹çš„è¿æ¥" class="headerlink" title="SQL å®šä¹‰äº†ä¸‰ç§ä¸»è¦ç±»å‹çš„è¿æ¥"></a>SQL å®šä¹‰äº†ä¸‰ç§ä¸»è¦ç±»å‹çš„è¿æ¥</h3><ul><li><p>äº¤å‰è¿æ¥ ( <strong>CROSS JOIN</strong> ), åˆç§° <strong>ç¬›å¡å°”ç§¯</strong></p><blockquote><p>ä¼šå½¢æˆåºå¤§çš„è¡¨, å› æ­¤æ…ç”¨ã€‚<br><strong>å‡è®¾:</strong> è¡¨t1(5è¡Œæ•°æ®, 3åˆ—), è¡¨t2(4è¡Œæ•°æ®, 2åˆ—)<br><strong>SQL:</strong> select <em> from t1 cross join t2<br><strong>ç»“æœ:</strong> æ•°æ®æ•°é‡ä¸º20è¡Œæ•°æ®(5 </em> 4), 5åˆ—</p></blockquote></li><li><p>å†…è¿æ¥ ( <strong>INNER JOIN</strong> ), é€šå¸¸å¯çœç•¥ <code>inner</code></p><blockquote><p>é€šè¿‡ <code>on</code> æˆ– <code>where</code> å»ºç«‹è¡¨ä¹‹é—´çš„è”ç³»æˆ–è€…è¯´<strong>è¡¨å½¢æˆçš„æ¡ä»¶</strong><br><strong>å‡è®¾:</strong> è¡¨t1(5è¡Œæ•°æ®, 3åˆ—), è¡¨t2(4è¡Œæ•°æ®, 2åˆ—)<br><strong>SQL:</strong> select <em> from t1 inner join t2 on t1.sid = t2.sid<br><em>*ç»“æœ:</em></em> æŸ¥è¯¢æ“ä½œåˆ—å‡ºä¸è¿æ¥æ¡ä»¶åŒ¹é…çš„æ•°æ®è¡Œ, 5åˆ—</p></blockquote></li><li><p>å¤–è¿æ¥ ( <strong>OUTER JOIN</strong> )</p><blockquote><p>å¤–è¿æ¥ä¸ºå†…è¿æ¥çš„æ‰©å±•, ä¸»è¦åŒºåˆ«åœ¨äºå“ªè¾¹ä¸ºåŸºå‡†, ä½¿ç”¨ <code>on</code> è¿›è¡Œæ•°æ®å…³è”<br>å¤–è¿æ¥åˆ†ä¸º: <code>å·¦å¤–è¿æ¥</code>ã€<code>å³å¤–è¿æ¥</code>ã€<code>å…¨å¤–è¿æ¥</code><br>éƒ¨åˆ†SQLè¯­è¨€å¹¶ä¸åŒ…å«å…¨éƒ¨ç§ç±», ä¾‹å¦‚<br>SQLite ä¹‹åŒ…å« <strong>å·¦å¤–è¿æ¥</strong></p><ul><li>å·¦å¤–è¿æ¥ ( <strong>LEFT JOIN</strong> )<br><strong>å‡è®¾:</strong> è¡¨t1(5è¡Œæ•°æ®, 3åˆ—), è¡¨t2(4è¡Œæ•°æ®, 2åˆ—)<br><strong>SQL:</strong> select <em> from t1 left join t2 on t1.sid = t2.sid<br><em>*ç»“æœ:</em></em> ä»¥å·¦è¡¨ä¸ºåŸºå‡†, å°†æ•°æ®æŒ‰æ¡ä»¶è¿›è¡Œè¿æ¥, å·¦è¡¨è¡Œå…¨éƒ¨æ˜¾ç¤º, è‹¥å³è¡¨æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„è¡Œåˆ™æ˜¾ç¤ºä¸ºNULL, 5åˆ—</li></ul></blockquote><ul><li><p>å³å¤–è¿æ¥ ( <strong>RIGHT JOIN</strong> )</p><blockquote><p><strong>å‡è®¾:</strong> è¡¨t1(5è¡Œæ•°æ®, 3åˆ—), è¡¨t2(4è¡Œæ•°æ®, 2åˆ—)<br><strong>SQL:</strong> select <em> from t1 right join t2 on t1.sid = t2.sid<br><em>*ç»“æœ:</em></em> ä»¥å³è¡¨ä¸ºåŸºå‡†, å°†æ•°æ®æŒ‰æ¡ä»¶è¿›è¡Œè¿æ¥, å³è¡¨è¡Œå…¨éƒ¨æ˜¾ç¤º, è‹¥å·¦è¡¨æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„è¡Œåˆ™æ˜¾ç¤ºä¸ºNULL, 5åˆ—</p></blockquote></li><li><p>å…¨å¤–è¿æ¥ ( <strong>FULL JOIN</strong> )</p><blockquote><p><strong>å‡è®¾:</strong> è¡¨t1(5è¡Œæ•°æ®, 3åˆ—), è¡¨t2(4è¡Œæ•°æ®, 2åˆ—)<br><strong>SQL:</strong> select <em> from t1 full join t2 on t1.sid = t2.sid<br><em>*ç»“æœ:</em></em> å®Œæ•´çš„æ˜¾ç¤ºä¸¤è¡¨çš„æ•°æ®, å°†æ•°æ®æŒ‰æ¡ä»¶è¿›è¡Œè¿æ¥, å½“æ²¡æœ‰è¢«å…³è”çš„è¡¨ä¸­æ²¡æœ‰å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¡Œæ—¶, åˆ™æ˜¾ç¤ºä¸ºNULL, 5åˆ—</p></blockquote></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŒç»­ç§¯ç´¯..&lt;br&gt;
    
    </summary>
    
      <category term="Server" scheme="https://hocg.in/categories/Server/"/>
    
    
      <category term="Tips" scheme="https://hocg.in/tags/Tips/"/>
    
      <category term="SQL" scheme="https://hocg.in/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>Vue.jsé¡¹ç›® éƒ¨ä»¶ç®€ä»‹ (æœªå®Œå¾…ç»­)</title>
    <link href="https://hocg.in/2017/03/31/Vue.js%E9%A1%B9%E7%9B%AE-%E9%83%A8%E4%BB%B6%E7%AE%80%E4%BB%8B/"/>
    <id>https://hocg.in/2017/03/31/Vue.jsé¡¹ç›®-éƒ¨ä»¶ç®€ä»‹/</id>
    <published>2017-03-31T07:32:36.000Z</published>
    <updated>2017-03-31T13:15:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>ğŸ¦‹ ç›®å‰å›½å†…å‰ç«¯MVVMæœ€ç«çš„æ¡†æ¶.. å‰æ®µæ—¶é—´å†™äº†ä¸€ä¸ª<a href="https://github.com/hocgin/iPage" target="_blank" rel="external">Abouté¡µé¢</a>, è¿™å‡ å¤©é¡ºå¸¦æ•´ç†ä¸€ä¸‹çŸ¥è¯†ç‚¹.<br><a id="more"></a></p><h1 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h1><blockquote><p>Vue.jsæ˜¯å½“ä¸‹å¾ˆç«çš„ä¸€ä¸ªJavaScript MVVMåº“ï¼Œå®ƒæ˜¯ä»¥æ•°æ®é©±åŠ¨å’Œç»„ä»¶åŒ–çš„æ€æƒ³æ„å»ºçš„.<br>ç±»ä¼¼çš„æœ‰<code>Angular.js</code>.</p></blockquote><ul><li>å¯ä»¥å»ºç«‹DOMå’Œæ•°æ®ä¹‹é—´çš„ç»‘å®š</li><li>å¯ä»¥æŒ‰åŠŸèƒ½/ç»„ä»¶æŠ½ç¦»HTMLä»£ç </li></ul><p><strong>ç›¸å…³</strong><br><a href="http://hocg.in/2017/03/26/Vue.js-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5">Vue é¡¹ç›®å®è·µ - æŒç»­æ›´æ–°</a></p><h2 id="åŠŸèƒ½éƒ¨åˆ†"><a href="#åŠŸèƒ½éƒ¨åˆ†" class="headerlink" title="åŠŸèƒ½éƒ¨åˆ†"></a>åŠŸèƒ½éƒ¨åˆ†</h2><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><ul><li>æ•°å€¼é»˜è®¤åŒå‘ç»‘å®š</li><li>æ”¯æŒ æ¡ä»¶è¯­æ³•ç‰¹æ€§/åŠŸèƒ½å‡½æ•°/ç”Ÿå‘½å‘¨æœŸ</li><li>åŠ¨æ€è®¾å®š<code>style</code>/<code>class</code></li><li>æ†ç»‘<code>event</code></li><li>æ¸²æŸ“ç”Ÿå‘½å‘¨æœŸ<h3 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h3></li><li>å•é¡µé¢ç»„ä»¶</li><li>è‡ªå®šä¹‰æŒ‡ä»¤</li><li>å•å…ƒæµ‹è¯•</li><li>æ’ä»¶</li></ul><h2 id="å•æ–‡ä»¶ç»„ä»¶-vue"><a href="#å•æ–‡ä»¶ç»„ä»¶-vue" class="headerlink" title="å•æ–‡ä»¶ç»„ä»¶.vue"></a>å•æ–‡ä»¶ç»„ä»¶<code>.vue</code></h2><p><strong>å®šä¹‰:</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'Title'</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><strong>ä½¿ç”¨:</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Title</span>&gt;</span><span class="tag">&lt;/<span class="name">Title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Title <span class="keyword">from</span> <span class="string">'./components/Title'</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">'app'</span>,</span></span><br><span class="line"><span class="undefined">    components: &#123;</span></span><br><span class="line"><span class="undefined">      Title</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue Router"></a>Vue Router</h1><blockquote><p>æ‰©å±• Vue<br>æŒ‰å­—é¢æ„æ€æ¥çœ‹ä¸º<code>Vue è·¯ç”±</code><br>å…¶å®è´¨ä¹Ÿå°±æ˜¯ç”¨äº<strong>å•é¡µåº”ç”¨</strong>ç®¡ç†é¡µé¢è·³è½¬, è´Ÿè´£è·¯å¾„è§£æ.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Hello <span class="keyword">from</span> <span class="string">'@/components/Hello'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Hello'</span>,</span><br><span class="line">      component: Hello</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h1><blockquote><p>æ‰©å±• Vue<br>å½“å¼€å‘å¤§å‹é¡¹ç›®æ—¶, ä¸ºé˜²æ­¢ Vue å¤ªè¿‡è‡ƒè‚¿, ä½¿ç”¨ Vuex ç®¡ç†æ•°æ®çŠ¶æ€.</p></blockquote><h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><blockquote><p>ä¸€æ¬¾æ¨¡å—åŠ è½½å™¨å…¼æ‰“åŒ…å·¥å…·<br>ä½¿ç”¨æ¨¡å—çš„ç†å¿µæ¥å¤„ç† JS/CSS/å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶</p></blockquote><h2 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> å®‰è£…</span><br><span class="line">npm install webpack --save-dev</span><br><span class="line"><span class="meta">#</span> æ‰§è¡Œ</span><br><span class="line">webpack</span><br><span class="line">   --display-error-details # è¾“å‡ºè¯¦ç»†é”™è¯¯</span><br><span class="line">   --watch # å®æ—¶ç›‘å¬å¹¶è‡ªåŠ¨æ‰“åŒ…</span><br><span class="line">   --config &lt;file&gt; # æŒ‡å®šé…ç½®æ–‡ä»¶æ‰“åŒ…</span><br><span class="line">   -p # å‹ç¼©æ‰“åŒ…</span><br><span class="line">   -d # ç”Ÿæˆmapæ˜ å°„æ–‡ä»¶</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-webpack-config-js"><a href="#é…ç½®-webpack-config-js" class="headerlink" title="é…ç½®(webpack.config.js)"></a>é…ç½®(webpack.config.js)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// æ’ä»¶</span></span><br><span class="line">  plugins: [],</span><br><span class="line">  <span class="comment">// é¡µé¢å…¥å£</span></span><br><span class="line">  entry: &#123;&#125;,</span><br><span class="line">  <span class="comment">// å…¥å£æ–‡ä»¶è¾“å‡ºä½ç½®, å³å¤„ç†åçš„æ–‡ä»¶å­˜æ”¾ä½ç½®</span></span><br><span class="line">  output: &#123;&#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    <span class="comment">// æ–‡ä»¶å¤„ç†åŠ è½½å™¨</span></span><br><span class="line">    rules: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// é¢å¤–å¤„ç†</span></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">// è‡ªåŠ¨æ‰©å±•æ–‡ä»¶åç¼€, requireæ—¶å¯ä»¥è¿›è¡Œçœç•¥</span></span><br><span class="line">    extensions: [],</span><br><span class="line">    <span class="comment">// æ¨¡å—å®šä¹‰åˆ«å, requireæ—¶å¯ä»¥è¿›è¡Œè·¯å¾„çœç•¥, ç›´æ¥ä½¿ç”¨åˆ«å</span></span><br><span class="line">    alias: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¥å£æ–‡ä»¶-main-js"><a href="#å…¥å£æ–‡ä»¶-main-js" class="headerlink" title="å…¥å£æ–‡ä»¶(main.js)"></a>å…¥å£æ–‡ä»¶(main.js)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index'</span></span><br><span class="line"><span class="comment">// å¼•å…¥js, åŠ è½½å™¨ä¼šè‡ªåŠ¨è¿›è¡Œå¤„ç†</span></span><br><span class="line"><span class="keyword">import</span> holderjs <span class="keyword">from</span> <span class="string">'holderjs'</span></span><br><span class="line"><span class="comment">// å¼•å…¥ css/scss, åŠ è½½å™¨ä¼šè‡ªåŠ¨è¿›è¡Œå¤„ç†</span></span><br><span class="line"><span class="keyword">import</span> appScss <span class="keyword">from</span> <span class="string">'./assets/app.scss'</span></span><br><span class="line"><span class="keyword">import</span> fontAwesomeCss <span class="keyword">from</span> <span class="string">'./assets/font-awesome-4.7.0/css/font-awesome.css'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>æœªå®Œå¾…ç»­ing</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ğŸ¦‹ ç›®å‰å›½å†…å‰ç«¯MVVMæœ€ç«çš„æ¡†æ¶.. å‰æ®µæ—¶é—´å†™äº†ä¸€ä¸ª&lt;a href=&quot;https://github.com/hocgin/iPage&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Abouté¡µé¢&lt;/a&gt;, è¿™å‡ å¤©é¡ºå¸¦æ•´ç†ä¸€ä¸‹çŸ¥è¯†ç‚¹.&lt;br&gt;
    
    </summary>
    
      <category term="Coder" scheme="https://hocg.in/categories/Coder/"/>
    
    
      <category term="JavaScript" scheme="https://hocg.in/tags/JavaScript/"/>
    
      <category term="HTML5" scheme="https://hocg.in/tags/HTML5/"/>
    
      <category term="å‰ç«¯" scheme="https://hocg.in/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Vue é¡¹ç›®å®è·µ - æŒç»­æ›´æ–°</title>
    <link href="https://hocg.in/2017/03/26/Vue.js-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"/>
    <id>https://hocg.in/2017/03/26/Vue.js-é¡¹ç›®å®è·µ/</id>
    <published>2017-03-26T07:40:08.000Z</published>
    <updated>2017-06-01T13:20:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>ğŸŒ ç›®å‰å›½å†…å‰ç«¯MVVMæœ€ç«çš„æ¡†æ¶.. é¡¹ç›®å®è·µè®°å½•ä¸€äº›æµç¨‹<br><a id="more"></a></p><h1 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h1><ul><li>vue<ul><li>vue-router <code>ç»™vueä½¿ç”¨çš„è·¯ç”±</code></li><li>vuex <code>ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼</code></li></ul></li><li>webpack</li></ul><h1 id="å¿«é€Ÿæ­å»ºé¡¹ç›®"><a href="#å¿«é€Ÿæ­å»ºé¡¹ç›®" class="headerlink" title="å¿«é€Ÿæ­å»ºé¡¹ç›®"></a>å¿«é€Ÿæ­å»ºé¡¹ç›®</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> æ„å»ºé¡¹ç›®</span><br><span class="line">npm install -g vue-cli</span><br><span class="line">vue init webpack &lt;project-name&gt;</span><br><span class="line"><span class="meta">#</span> è¯•è¡Œ</span><br><span class="line">cd iPage</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å®‰è£… vuex</span><br><span class="line">npm install vuex -S</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> å®‰è£… sass å¼€å‘æ”¯æŒ</span><br><span class="line">npm install --save-dev sass-loader</span><br><span class="line">npm install --save-dev node-sass</span><br><span class="line">npm install --save-dev css-loader</span><br><span class="line">npm install --save-dev style-loader</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ç¼–è¯‘ç”Ÿæˆé™æ€æ–‡ä»¶</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure><h1 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.  </span><br><span class="line">â”œâ”€â”€ README.md  </span><br><span class="line">â”œâ”€â”€ build  </span><br><span class="line">â”œâ”€â”€ config   </span><br><span class="line">â”œâ”€â”€ index.html  </span><br><span class="line">â”œâ”€â”€ node_modules  </span><br><span class="line">â”œâ”€â”€ package.json  </span><br><span class="line">â”œâ”€â”€ src // æºç </span><br><span class="line">|    â”œâ”€â”€ App.vue    // çˆ¶ç»„ä»¶  </span><br><span class="line">|    â”œâ”€â”€ assets     // é™æ€æ–‡ä»¶  </span><br><span class="line">|    â”œâ”€â”€ components // å…¬å…±ç»„ä»¶  </span><br><span class="line">|    â”œâ”€â”€ main.js    // webpackæ‰“åŒ…å…¥å£æ–‡ä»¶  </span><br><span class="line">|    â””â”€â”€ router  </span><br><span class="line">|          â””â”€â”€ index.js // é¡µé¢è·¯ç”±  </span><br><span class="line">â”œâ”€â”€ static  </span><br><span class="line">â””â”€â”€ test</span><br></pre></td></tr></table></figure><h1 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ğŸŒ ç›®å‰å›½å†…å‰ç«¯MVVMæœ€ç«çš„æ¡†æ¶.. é¡¹ç›®å®è·µè®°å½•ä¸€äº›æµç¨‹&lt;br&gt;
    
    </summary>
    
      <category term="Coder" scheme="https://hocg.in/categories/Coder/"/>
    
    
      <category term="JavaScript" scheme="https://hocg.in/tags/JavaScript/"/>
    
      <category term="HTML5" scheme="https://hocg.in/tags/HTML5/"/>
    
      <category term="å‰ç«¯" scheme="https://hocg.in/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº Objective-C çš„å°ç¬”è®°</title>
    <link href="https://hocg.in/2017/03/20/%E5%85%B3%E4%BA%8E%20Objective-C%20%E7%9A%84%E5%B0%8F%E7%AC%94%E8%AE%B0/"/>
    <id>https://hocg.in/2017/03/20/å…³äº Objective-C çš„å°ç¬”è®°/</id>
    <published>2017-03-20T00:07:00.000Z</published>
    <updated>2017-07-02T13:14:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰å­¦ <code>swift3</code> é¡ºå¸¦æ•´ç†çš„å°ç¬”è®°<br><a id="more"></a></p><h1 id="Objective-C"><a href="#Objective-C" class="headerlink" title="Objective-C"></a>Objective-C</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><table><thead><tr><th>æ–‡ä»¶åç¼€</th><th>æ–‡ä»¶ç±»å‹</th></tr></thead><tbody><tr><td><code>*.h</code></td><td><strong>å¤´æ–‡ä»¶</strong>ã€‚å¤´æ–‡ä»¶åŒ…å«ç±»ï¼Œç±»å‹ï¼Œå‡½æ•°å’Œå¸¸æ•°çš„å£°æ˜ã€‚</td></tr><tr><td><code>*.m</code></td><td><strong>æºä»£ç æ–‡ä»¶</strong>ã€‚è¿™æ˜¯å…¸å‹çš„æºä»£ç æ–‡ä»¶æ‰©å±•åï¼Œå¯ä»¥åŒ…å« Objective-C å’Œ C ä»£ç </td></tr><tr><td><code>*.mm</code></td><td><strong>æºä»£ç æ–‡ä»¶</strong>ã€‚å¸¦æœ‰è¿™ç§æ‰©å±•åçš„æºä»£ç æ–‡ä»¶ï¼Œé™¤äº†å¯ä»¥åŒ…å«Objective-Cå’ŒCä»£ç ä»¥å¤–è¿˜å¯ä»¥åŒ…å«C++ä»£ç ã€‚ä»…åœ¨ä½ çš„Objective-Cä»£ç ä¸­ç¡®å®éœ€è¦ä½¿ç”¨C++ç±»æˆ–è€…ç‰¹æ€§çš„æ—¶å€™æ‰ç”¨è¿™ç§æ‰©å±•åã€‚</td></tr></tbody></table><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><table><thead><tr><th>å…³é”®è¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>#import</td><td>å¼•å…¥æ–‡ä»¶, å¹¶ç¡®ä¿ç›¸åŒçš„æ–‡ä»¶åªä¼šè¢«åŒ…å«ä¸€æ¬¡</td></tr><tr><td>NSString* say = @â€Hello Worldâ€</td><td>åˆ›å»ºNSStringå¯¹è±¡</td></tr><tr><td>@interface/@implementation</td><td>objective-c ä¸€ä¸ªç±»æ˜¯ç”±:å®šä¹‰å’Œå®ç°æ¥æ„æˆçš„, @interface ç”¨äºå®šä¹‰, @implementationç”¨äºå®ç°ç»†èŠ‚.</td></tr><tr><td>@propertyä¸@synthesize</td><td>@propertyç”¨äºåœ¨@interfaceå£°æ˜getterä¸setterå‡½æ•°, @synthesizeç”¨äºåœ¨@implementationå®ç°getterä¸setterå‡½æ•°, <br><strong>äºŒè€…æ˜¯æ­é…å£å‘³</strong><br><strong>é«˜ç‰ˆæœ¬(Xcode4.5)å¯çœç•¥@synthesize</strong></td></tr></tbody></table><h2 id="åŸºç¡€æ¡†æ¶"><a href="#åŸºç¡€æ¡†æ¶" class="headerlink" title="åŸºç¡€æ¡†æ¶"></a>åŸºç¡€æ¡†æ¶</h2><h3 id=""><a href="#" class="headerlink" title=""></a><foundation foundation.h=""></foundation></h3><ul><li>å®ƒåŒ…æ‹¬ NSArrayï¼ŒNSDictionaryä¸­çš„NSSetç­‰æ‰©å±•æ•°æ®ç±»å‹çš„åˆ—è¡¨ã€‚</li><li>å®ƒç”±ä¸€ç»„ä¸°å¯Œçš„æ“ä½œæ–‡ä»¶çš„å‡½æ•°ï¼Œå­—ç¬¦ä¸²ï¼Œç­‰ç­‰ã€‚</li><li>URLå¤„ç†å®ƒæä¾›çš„åŠŸèƒ½ï¼Œå¦‚æ—¥æœŸæ ¼å¼ï¼Œæ•°æ®å¤„ç†ï¼Œé”™è¯¯å¤„ç†ç­‰å®ç”¨å·¥å…·</li></ul><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><h3 id="è¯­æ³•é€Ÿè¯»"><a href="#è¯­æ³•é€Ÿè¯»" class="headerlink" title="è¯­æ³•é€Ÿè¯»"></a>è¯­æ³•é€Ÿè¯»</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">/* é¢„å¤„ç†(å¯¼åŒ…) */</span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">/* å®šä¹‰æ¥å£(ç»§æ‰¿:NSObject) */</span><br><span class="line">@interface SampleClass:NSObject</span><br><span class="line">- (void)sampleMethod;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">/* å®ç°æ¥å£(SampleClass) */</span><br><span class="line">@implementation SampleClass</span><br><span class="line"></span><br><span class="line">- (void)sampleMethod&#123;</span><br><span class="line">   NSLog(@&quot;Hello, World!</span><br><span class="line">&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* ä¸»å‡½æ•° */</span><br><span class="line">int main() &#123;</span><br><span class="line">   /* my first program in Objective-C */</span><br><span class="line">   SampleClass *sampleClass = [[SampleClass alloc]init];</span><br><span class="line"></span><br><span class="line">   /* - è°ƒç”¨å‡½æ•°</span><br><span class="line">   C: sampleClass.sampleMethod(args);</span><br><span class="line">   OC: [å¯¹è±¡ å‡½æ•°å: å‚æ•°]</span><br><span class="line">    */</span><br><span class="line">   [sampleClass sampleMethod: args];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»çš„è¯­æ³•"><a href="#ç±»çš„è¯­æ³•" class="headerlink" title="ç±»çš„è¯­æ³•"></a>ç±»çš„è¯­æ³•</h3><blockquote><p>ç±»åˆ†ä¸º: <strong>ç±»çš„å®šä¹‰(.h)</strong> å’Œ <strong>ç±»çš„å®ç°(.m)</strong><br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/ç±»çš„å®šä¹‰è¯­æ³•.jpg" alt="image"></p><h4 id="å®šä¹‰-h"><a href="#å®šä¹‰-h" class="headerlink" title="å®šä¹‰ ( *.h )"></a>å®šä¹‰ ( *.h )</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@interface MyObject : NSObject</span><br><span class="line">&#123;</span><br><span class="line">    // æ­¤å¤„å˜é‡é»˜è®¤ä¸ºå—ä¿æŠ¤(protected)</span><br><span class="line">    int memberVar1; // å®ä½“å˜é‡</span><br><span class="line">    id  memberVar2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(return_type) class_method; // &quot;+&quot; è¡¨ç¤º ç±»æ–¹æ³•</span><br><span class="line"></span><br><span class="line">-(return_type) instance_method1; // &quot;-&quot; è¡¨ç¤º å®ä¾‹æ–¹æ³•</span><br><span class="line">-(return_type) instance_method2: (int) p1;</span><br><span class="line">// è¿™é‡Œçš„è°ƒç”¨æ–¹å¼ä¸º: [obj instance_method3: 1 andPar: 2];</span><br><span class="line">// andPar ç›¸å½“äºå¤–éƒ¨çš„å¦å¤–ä¸€ä¸ªåˆ«å</span><br><span class="line">-(return_type) instance_method3: (int) p1 andPar: (int) p2;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure></blockquote><h4 id="å®ç°-m"><a href="#å®ç°-m" class="headerlink" title="å®ç° ( *.m )"></a>å®ç° ( *.m )</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@implementation MyObject</span><br><span class="line">&#123;</span><br><span class="line">  // æ­¤å¤„å˜é‡ä¸ºç§æœ‰(private)</span><br><span class="line">  int memberVar3; //ç§æœ‰å®ä½“å˜é‡</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+(return_type) class_method &#123;</span><br><span class="line">    .... //method implementation</span><br><span class="line">&#125;</span><br><span class="line">-(return_type) instance_method1 &#123;</span><br><span class="line">     ....</span><br><span class="line">&#125;</span><br><span class="line">-(return_type) instance_method2: (int) p1 &#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br><span class="line">-(return_type) instance_method3: (int) p1 andPar: (int) p2 &#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºå¯¹è±¡"><a href="#åˆ›å»ºå¯¹è±¡" class="headerlink" title="åˆ›å»ºå¯¹è±¡"></a>åˆ›å»ºå¯¹è±¡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ³¨: alloc ä¸ init éƒ½å±äº NSObject é‡Œçš„å‡½æ•°</span><br><span class="line">MyObject * my = [[MyObject alloc] init];</span><br><span class="line">// æ— å‚æ„å»º, ä¹Ÿå¯é‡‡ç”¨ä»¥ä¸‹æ–¹å¼ (Objective-C 2.0)</span><br><span class="line">MyObject * my = [MyObject new];</span><br></pre></td></tr></table></figure><blockquote><p><strong>Note:</strong> { } éœ€å¦‚æ–‡è¿™æ ·æ ‡è¯†, æ‰å¯è¡¨è¾¾å‡ºå‡†ç¡®çš„è¯­ä¹‰, è¯»è€…è‡ªè¡Œé¢†æ‚Ÿ.</p></blockquote><h3 id="å‡½æ•°è¯­æ³•"><a href="#å‡½æ•°è¯­æ³•" class="headerlink" title="å‡½æ•°è¯­æ³•"></a>å‡½æ•°è¯­æ³•</h3><blockquote><p>å‡½æ•°åˆ†ä¸º: <strong>ç±»å‡½æ•°</strong> å’Œ <strong>å¯¹è±¡å‡½æ•°</strong><br><img src="http://7xs6lq.com1.z0.glb.clouddn.com/å‡½æ•°çš„å®šä¹‰è¯­æ³•.jpg" alt="image"></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// å¦‚ä¸Š</span><br><span class="line">// å®šä¹‰è¯­æ³•: èŒƒå›´æ ‡è¯† (è¿”å›å€¼)å‡½æ•°å:å¤–éƒ¨å½¢å‚åˆ«å:(å‚æ•°ç±»å‹) å½¢å‚å å¤–éƒ¨å½¢å‚åˆ«å:(å‚æ•°ç±»å‹) å½¢å‚å</span><br><span class="line">// æ³¨: ç¬¬ä¸€ä¸ª å¤–éƒ¨å½¢å‚åˆ«å å¯çœç•¥</span><br><span class="line">- (void)insertObject:(id)anObject atIndex:(NSUInteger) index</span><br><span class="line">+ (void)insertObject:(id)anObject atIndex:(NSUInteger) index</span><br><span class="line"></span><br><span class="line">// è°ƒç”¨</span><br><span class="line">// å¯¹è±¡è°ƒç”¨ [å¯¹è±¡ å‡½æ•°å: å‚æ•°1 å¤–éƒ¨å½¢å‚åˆ«å: å‚æ•°2]</span><br><span class="line">[obj insertObject: arg1 atIndex: arg2]</span><br><span class="line">// ç±»è°ƒç”¨ [ç±»å å‡½æ•°å: å‚æ•°1 å¤–éƒ¨å½¢å‚åˆ«å: å‚æ•°2]</span><br><span class="line">[Object insertObject: arg1 atIndex: arg2]</span><br><span class="line"></span><br><span class="line">// æ³¨:) ç±»è°ƒç”¨ å’Œ å¯¹è±¡è°ƒç”¨ çš„å½¢å¼æ˜¯ä¸€æ ·çš„</span><br></pre></td></tr></table></figure><h3 id="å±æ€§è¯­æ³•"><a href="#å±æ€§è¯­æ³•" class="headerlink" title="å±æ€§è¯­æ³•"></a>å±æ€§è¯­æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">@interface Person : NSObject</span><br><span class="line">&#123;</span><br><span class="line">/*</span><br><span class="line">ç›¸å½“äº @public è‡³ @private ä¹‹é—´çš„å±æ€§è¢«æš´éœ²å‡ºå»</span><br><span class="line">å¯é€šè¿‡å®ä¾‹ç›´æ¥è®¿é—®, ä¾‹å¦‚: obj-&gt;name</span><br><span class="line">*/</span><br><span class="line">@public</span><br><span class="line">  NSString *name;</span><br><span class="line">@private</span><br><span class="line">  int age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">  å‚è€ƒ: http://justcoding.iteye.com/blog/1444548</span><br><span class="line">  ä½¿ç”¨èŒƒå›´: @interface, @protocol, @category</span><br><span class="line">  å¯å£°æ˜ç‰¹æ€§:</span><br><span class="line">          è¯»å†™å±æ€§ï¼š   ï¼ˆreadwrite/readonlyï¼‰</span><br><span class="line">          setterè¯­æ„ï¼šï¼ˆassign/retain/copyï¼‰</span><br><span class="line">          åŸå­æ€§ï¼š    ï¼ˆatomicity/nonatomicï¼‰</span><br><span class="line">  ä½¿ç”¨æ•ˆæœ(å£°æ˜ä¸€ä¸ªsetterä¸getteræ–¹æ³•):</span><br><span class="line">    - (NSString*)name;  </span><br><span class="line">    - (void)setName: (NSString*)newName;</span><br><span class="line"> */</span><br><span class="line">@property(copy) NSString *name;</span><br><span class="line">@property(readonly) int age;</span><br><span class="line"></span><br><span class="line">-(id)initWithAge:(int)age;</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@implementation Person</span><br><span class="line">/*</span><br><span class="line">  ä½¿ç”¨èŒƒå›´: @implementation</span><br><span class="line">  ä½¿ç”¨æ•ˆæœ(è‡ªåŠ¨å®ç°ä¸€ä¸ªsetterä¸getteræ–¹æ³•):</span><br><span class="line">    - (NSString*)name &#123;</span><br><span class="line">      return name;</span><br><span class="line">    &#125;  </span><br><span class="line">    - (void)setName: (NSString*)newName &#123;</span><br><span class="line">      name = newName;</span><br><span class="line">    &#125;</span><br><span class="line"> */</span><br><span class="line">@synthesize name;</span><br><span class="line">/* @dynamic ä»…ä»…æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸¤ä¸ªæ–¹æ³•åœ¨è¿è¡ŒæœŸä¼šæœ‰çš„ï¼Œæ— éœ€äº§ç”Ÿè­¦å‘Š */</span><br><span class="line">@dynamic age;</span><br><span class="line"></span><br><span class="line">-(id)initWithAge:(int)initAge</span><br><span class="line">&#123;</span><br><span class="line">    age = initAge; // æ³¨æ„ï¼šç›´æ¥èµ‹ç»™æˆå‘˜å˜é‡ï¼Œè€Œéå±æ€§</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(int)age</span><br><span class="line">&#123;</span><br><span class="line">    return 29; // æ³¨æ„ï¼šå¹¶éè¿”å›çœŸæ­£çš„å¹´é¾„</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure><h4 id="ç±»æˆ–åè®®çš„å±æ€§å¯ä»¥è¢«åŠ¨æ€çš„è¯»å–"><a href="#ç±»æˆ–åè®®çš„å±æ€§å¯ä»¥è¢«åŠ¨æ€çš„è¯»å–" class="headerlink" title="ç±»æˆ–åè®®çš„å±æ€§å¯ä»¥è¢«åŠ¨æ€çš„è¯»å–"></a>ç±»æˆ–åè®®çš„å±æ€§å¯ä»¥è¢«åŠ¨æ€çš„è¯»å–</h4><blockquote><p>ç±»ä¼¼åå°„æœºåˆ¶ , ç•¥è¿‡..</p></blockquote><h3 id="å¿«é€Ÿæšä¸¾"><a href="#å¿«é€Ÿæšä¸¾" class="headerlink" title="å¿«é€Ÿæšä¸¾"></a>å¿«é€Ÿæšä¸¾</h3><blockquote><p>ä¸€ç§çœå†…å­˜çš„å¾ªç¯éå† , ç•¥è¿‡..</p></blockquote><h3 id="åè®®è¯­æ³•"><a href="#åè®®è¯­æ³•" class="headerlink" title="åè®®è¯­æ³•"></a>åè®®è¯­æ³•</h3><blockquote><p>ç±»ä¼¼ Java ä¸­çš„æ¥å£<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/*å®šä¹‰åè®®*/</span><br><span class="line">@protocol Locking</span><br><span class="line">- (void)lock;</span><br><span class="line">- (void)unlock;</span><br><span class="line">@end</span><br><span class="line">/*</span><br><span class="line">ç±»çš„@interface å®£ç§°ä½¿ç”¨ åè®®</span><br><span class="line">*/</span><br><span class="line">@interface SomeClass : SomeSuperClass &lt;Locking&gt;</span><br><span class="line">@end</span><br><span class="line">/*</span><br><span class="line">ç±»çš„@implementation å®ç° åè®® ç»†èŠ‚</span><br><span class="line">*/</span><br><span class="line">@implementation SomeClass</span><br><span class="line">- (void)lock &#123;</span><br><span class="line">  // å®ç°lockæ–¹æ³•...</span><br><span class="line">&#125;</span><br><span class="line">- (void)unlock &#123;</span><br><span class="line">  // å®ç°unlockæ–¹æ³•...</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="åŠ¨æ€ç±»å‹"><a href="#åŠ¨æ€ç±»å‹" class="headerlink" title="åŠ¨æ€ç±»å‹"></a>åŠ¨æ€ç±»å‹</h3><blockquote><p>id ç›¸å½“äº Java ä¸­çš„ Object, å³ ä»»æ„å¯¹è±¡</p></blockquote><h3 id="ç±»åˆ«-Category-è¯­æ³•"><a href="#ç±»åˆ«-Category-è¯­æ³•" class="headerlink" title="ç±»åˆ« (Category) è¯­æ³•"></a>ç±»åˆ« (Category) è¯­æ³•</h3><blockquote><p>åˆ†ç±»ä¸ä»…å¯ä»¥å¢åŠ ç±»çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä»£æ›¿åŸæœ‰çš„<strong>å‡½æ•°</strong>, <strong>å¹¶ä¸èƒ½æ–°å¢å˜é‡</strong><br>åŠ¨æ€å¢åŠ å’Œæ›¿æ¢å‡½æ•°, å¼ºå¾—ä¸€åŒ¹</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/*</span><br><span class="line">  è¯´æ˜: å®šä¹‰æ‰©å±• Integerç±» æ¥å£, æ–°å¢/è¦†ç›– å‡½æ•° showstars ä¸ showint</span><br><span class="line">  è¯­æ³•:</span><br><span class="line">    #import &quot;å¾…æ‰©å±•ç±»æ¥å£æ–‡ä»¶.h&quot;</span><br><span class="line">    @interface å¾…æ‰©å±•ç±»(æ‰©å±•ç±»)</span><br><span class="line">      // å‡½æ•°å®šä¹‰</span><br><span class="line">    @end</span><br><span class="line">*/</span><br><span class="line">#import &quot;Integer.h&quot;</span><br><span class="line">@interface Integer(Display)</span><br><span class="line">- (id) showstars;</span><br><span class="line">- (id) showint;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">  è¯´æ˜: å®ç°æ‰©å±• Integerç±» æ¥å£, æ–°å¢/è¦†ç›– å‡½æ•° showstars ä¸ showint</span><br><span class="line">  è¯­æ³•:</span><br><span class="line">    #import &quot;æ‰©å±•ç±»æ¥å£æ–‡ä»¶.h&quot;</span><br><span class="line">    @implementation å¾…æ‰©å±•ç±»(æ‰©å±•ç±»)</span><br><span class="line">      // å‡½æ•°å®ç°</span><br><span class="line">    @end</span><br><span class="line">*/</span><br><span class="line">#import &quot;Display.h&quot;</span><br><span class="line">@implementation Integer(Display)</span><br><span class="line">- (id) showstars &#123;</span><br><span class="line">  ..</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (id) showint &#123;</span><br><span class="line">    ..</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure><p><strong>NOTE:</strong> ä½¿ç”¨æ—¶éœ€#import å¾…æ‰©å±•ç±»ä¸æ‰©å±•ç±»çš„æ¥å£æ–‡ä»¶<strong>(.h)</strong></p><h2 id="åˆ’é‡ç‚¹"><a href="#åˆ’é‡ç‚¹" class="headerlink" title="åˆ’é‡ç‚¹"></a>åˆ’é‡ç‚¹</h2><ul><li><code>NSString*</code>/<code>NSObject*</code>ç­‰ è¡¨ç¤ºå¯¹è±¡</li><li><code>self</code> æŸç§ç¨‹åº¦ç›¸å½“äº <code>this</code></li><li>nil åŸºæœ¬ä¸Šç­‰åŒäº NULL</li><li>è°ƒç”¨å±æ€§ self-&gt;name</li><li>ä¸€èˆ¬(.h å­˜æ”¾<strong>@interfaceæ–‡ä»¶</strong>, .m å­˜æ”¾<strong>@implementationæ–‡ä»¶</strong>). è¿›è¡Œ#importæ—¶, åªéœ€#import .hæ–‡ä»¶</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰å­¦ &lt;code&gt;swift3&lt;/code&gt; é¡ºå¸¦æ•´ç†çš„å°ç¬”è®°&lt;br&gt;
    
    </summary>
    
      <category term="Mac" scheme="https://hocg.in/categories/Mac/"/>
    
    
      <category term="è¯­æ³•" scheme="https://hocg.in/tags/%E8%AF%AD%E6%B3%95/"/>
    
      <category term="Objective-C" scheme="https://hocg.in/tags/Objective-C/"/>
    
  </entry>
  
</feed>
