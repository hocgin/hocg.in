<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Linux ‰∏ãÁΩëÁªúÁõ∏ÂÖ≥ÁöÑÂëΩ‰ª§]]></title>
    <url>%2F2019%2F04%2F01%2FLinux%20%E4%B8%8B%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[Linux ‰∏ãÁΩëÁªúÁõ∏ÂÖ≥ÁöÑÂëΩ‰ª§ üîóLinux-Nettools vs Iproute2 net-toolsifconfig123456789101112131415161718192021222324enp2s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 192.168.8.23 netmask 255.255.255.0 broadcast 192.168.8.255 inet6 fe80::794c:57e0:a7ca:518e prefixlen 64 scopeid 0x20&lt;link&gt; ether 50:9a:4c:17:e9:da txqueuelen 1000 (Ethernet) RX packets 4412700 bytes 3603093632 (3.3 GiB) RX errors 0 dropped 20 overruns 0 frame 0 TX packets 1877167 bytes 507480177 (483.9 MiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt; mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 inet6 ::1 prefixlen 128 scopeid 0x10&lt;host&gt; loop txqueuelen 1000 (Local Loopback) RX packets 14009901 bytes 2441347518 (2.2 GiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 14009901 bytes 2441347518 (2.2 GiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0wlp3s0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt; mtu 1500 ether 54:13:79:5b:c3:29 txqueuelen 1000 (Ethernet) RX packets 6 bytes 1296 (1.2 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 34 bytes 5037 (4.9 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 enp2s0: ÁΩëÁªúËÆæÂ§áÂè∑ flags=4163: ÁΩëÁªúËÆæÂ§áÁä∂ÊÄÅÊ†áËØÜ mtu 1500: mtu inet 192.168.8.23 netmask 255.255.255.0 broadcast 192.168.8.255: IPv4 ÂçèËÆÆ inet6 fe80::794c:57e0:a7ca:518e: IPv6 ÂçèËÆÆ ether 50:9a:4c:17:e9:da TX: ÂèëÈÄÅ/‰∏äË°å RX: Êé•Êî∂/‰∏ãË°å packets 4412700: ÂåÖÊÄªÊï∞Èáè bytes 2441347518 (2.2 GiB): ÊµÅÈáèÂ§ßÂ∞è errors 0: ÈîôËØØÂåÖÊï∞Èáè dropped 0: ‰∏¢ÂåÖÊï∞Èáè overruns 0: Ë∂ÖÊó∂ÂåÖÊï∞Èáè collisions 0: ÂÜ≤Á™ÅÂåÖÊï∞Èáè frame 0: Â∏ßÊï∞Èáè txqueuelen 1000 (Ethernet): Â≠òÂÇ®‰º†ËæìÊï∞ÊçÆÁºìÂ≠òÁöÑÂ§ßÂ∞è prefixlen 64 scopeid 0x20 route1234Kernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Ifacedefault 192.168.8.1 0.0.0.0 UG 100 0 0 enp2s0192.168.8.0 0.0.0.0 255.255.255.0 U 100 0 0 enp2s0 Genmask: Â≠êÁΩëÊé©Á†Å Destination: ÁõÆÁöÑÂú∞ Destination/Genmask ÁªÑÊàêÂ±ÄÂüüÁΩë default = 0.0.0.0/0.0.0.0 Gateway: ÁΩëÂÖ≥ Flags: ÁΩëÁªúÊ†áËØÜ U (route is up): Ë∑ØÁî±ÂêØÂä®Áä∂ÊÄÅ H (target is a host): ÁõÆÊ†áÊòØ‰∏ªÊú∫ G (use gateway): ÈúÄË¶Å‰ΩøÁî®ÁΩëÂÖ≥Êù•‰º†Ëæì R (reinstate route for dynamic routing): D (dynamically installed by daemon or redirect): M (modified from routing daemon or redirect): ! (reject route): ÊãíÁªù/ÈªëÂêçÂçï Metric: ÁõÆÊ†áÁöÑË∑ùÁ¶ª Ref: Use: Ë∑ØÁ∫øÊü•ÊâæËÆ°Êï∞ Iface: Êé•Êî∂Êï∞ÊçÆÁöÑÁΩëÁªúÊé•Âè£ ÁΩëÁªúÂá∫Âè£ÁΩëÂç° iproute2ip link ÈÖçÁΩÆÁΩëÁªúËÆæÂ§áÂèÇÊï∞OSI ‰∏ÉÂ±ÇÂçèËÆÆ‰∏≠, ‰∫åÂ±ÇÁõ∏ÂÖ≥‰ø°ÊÅØeg. MTU, MAC, ÂºÄÂÖ≥‚Ä¶1234567891011121314151617181920212223242526272829303132333435363738ip link show1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 50:9a:4c:17:e9:da brd ff:ff:ff:ff:ff:ff3: wlp3s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DORMANT group default qlen 1000 link/ether 54:13:79:5b:c3:29 brd ff:ff:ff:ff:ff:ff# ÊòæÁ§∫Áä∂ÊÄÅËØ¶ÊÉÖip -s link show1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 RX: bytes packets errors dropped overrun mcast 2507975007 14838472 0 0 0 0 TX: bytes packets errors dropped carrier collsns 2507975007 14838472 0 0 0 0 2: enp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 50:9a:4c:17:e9:da brd ff:ff:ff:ff:ff:ff RX: bytes packets errors dropped overrun mcast 3657508487 4607298 0 23 0 154201 TX: bytes packets errors dropped carrier collsns 536627449 1943192 0 0 0 0 3: wlp3s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DORMANT group default qlen 1000 link/ether 54:13:79:5b:c3:29 brd ff:ff:ff:ff:ff:ff RX: bytes packets errors dropped overrun mcast 1296 6 0 0 0 0 TX: bytes packets errors dropped carrier collsns 5037 34 0 0 0 0 # Êìç‰ΩúÁâπÂÆöÁΩëÂç° eg. ip link set eth0 upip link set &#123;ÁΩëÁªúËÆæÂ§á&#125; &#123;Êìç‰Ωú&#125;- ÁΩëÁªúËÆæÂ§á: eg. enp2s0 - Êìç‰Ωú - up: ÂºÄÂêØ - down: ÂÖ≥Èó≠ - address: Mac Âú∞ÂùÄ`ff:ff:ff:ff:ff:ff` - name: ÁΩëÁªúËÆæÂ§áÂêçÁß∞ - mtu: mtuÂÄº`1500` ip addr ÈÖçÁΩÆÁΩëÁªúÁõ∏ÂÖ≥‰ø°ÊÅØOSI ‰∏ÉÂ±ÇÂçèËÆÆ‰∏≠, ‰∏âÂ±ÇÁõ∏ÂÖ≥‰ø°ÊÅØeg. ÁΩëÂÖ≥, Â≠êÁΩëÊé©Á†Å.. 123456789101112131415161718192021222324252627281: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: enp2s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 50:9a:4c:17:e9:da brd ff:ff:ff:ff:ff:ff inet 192.168.8.23/24 brd 192.168.8.255 scope global noprefixroute enp2s0 valid_lft forever preferred_lft forever inet6 fe80::794c:57e0:a7ca:518e/64 scope link noprefixroute valid_lft forever preferred_lft forever3: wlp3s0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default qlen 1000 link/ether 54:13:79:5b:c3:29 brd ff:ff:ff:ff:ff:ff# ËÆæÂÆöIPÁõ∏ÂÖ≥ÂèÇÊï∞ip address &#123;add|del&#125; &#123;IPÁõ∏ÂÖ≥ÈÖçÁΩÆ&#125; &#123;ÁΩëÁªúËÆæÂ§á&#125; &#123;Áõ∏ÂÖ≥ÂèÇÊï∞&#125;- add|del: Êñ∞Â¢ûÊàñÂà†Èô§- IPÁõ∏ÂÖ≥ÈÖçÁΩÆ: eg. 192.168.8.23/24- ÁΩëÁªúËÆæÂ§á: eg. enp2s0- Áõ∏ÂÖ≥ÂèÇÊï∞: - broadcast: ÂπøÊí≠Âú∞ÂùÄ, &quot;+&quot;‰∏∫Ëá™Âä®ËÆ°ÁÆó - label: Âà•ÂêçÂà´Âêç - scope: ‰ΩúÁî®Âüü - global - site - link - host lo: ÁΩëÂç°label. : ÁΩëÁªúËÆæÂ§áÁä∂ÊÄÅÊ†áËØÜ BROADCAST, MULTICAST: ÂèØ‰ª•ÂèëÈÄÅÂπøÊí≠, ÂèØ‰ª•ÂèëÈÄÅÂ§öÊí≠ÂåÖ LOOPBACK: Êú¨Âú∞ÁéØÂõû UP: ÁΩëÁªúËÆæÂ§áÁä∂ÊÄÅ LOWER_UP: Â∑≤ËøûÁ∫ø mtu 65536: ÊúÄÂ§ß‰º†ËæìÂçïÂÖÉ qdisc pfifo_fast: ÊéíÈòüËßÑÂàô. noqueue pfifo_fast group default: ÊâÄÂú®ÁªÑ. inet 127.0.0.1/8: IPv4 Âú∞ÂùÄÂèäÂ≠êÁΩëÊé©Á†Å inet6 fe80::794c:57e0:a7ca:518e/64: IPv6 Âú∞ÂùÄÂèäÂ≠êÁΩëÊé©Á†Å brd ff:ff:ff:ff:ff:ff: ÂπøÊí≠Âú∞ÂùÄ scope global: ‰ΩúÁî®Âüü. global: ÂÖÅËÆ∏ÊâÄÊúâÊù•Ê∫ê site: ‰ªÖIPv6, ÂÖÅËÆ∏‰ªÖÊú¨Êú∫ËøûÊé• link: ‰ªÖÂÖÅËÆ∏Ëá™ÊàëËøûÊé• host: ‰ªÖÂÖÅËÆ∏Êú¨‰∏ªÊú∫ÂÜÖÈÉ®ËøûÊé• noprefixroute enp2s0 preferred_lft forever: valid_lft forever: ÊúâÊïàÊúüÈôê qlen 1000 ip route Ë∑ØÁî±Áõ∏ÂÖ≥ËÆæÁΩÆ 1234567891011ip routedefault via 192.168.8.1 dev enp2s0 proto static metric 100 192.168.8.0/24 dev enp2s0 proto kernel scope link src 192.168.8.23 metric 100# ËÆæÂÆörouteÁõ∏ÂÖ≥ÂèÇÊï∞ip route &#123;add|del&#125; &#123;IP|ÁΩëÁªú&#125; &#123;via ÁΩëÂÖ≥&#125; &#123;ÁΩëÁªúËÆæÂ§á&#125;- add|del: Êñ∞Â¢ûÊàñÂà†Èô§- IP|ÁΩëÁªú: eg. IP Êàñ 192.168.8.23/24- ÁΩëÂÖ≥: ÊåáÂÆöÂá∫Âè£ÁΩëÂÖ≥(ÂèØÈÄâ)- ÁΩëÁªúËÆæÂ§á: ÊåáÂÆöÂá∫Âè£ÁΩëÁªúËÆæÂ§á eg. enp2s0- mtu: ÈÖçÁΩÆmtuÂèÇÊï∞ 192.168.8.0/24: ÁΩëÁªú dev enp2s0: ÁΩëÁªúËÆæÂ§á proto kernel: Ë∑ØÁî±ÂçèËÆÆ [redirect, kernel, boot, static, ra] scope link: ‰ΩúÁî®Âüü ÁΩëÁªú‰æ¶Êü•ping ÁΩëÁªúÁä∂ÊÄÅ 12345‚ûú ~ ping www.baidu.com -c 5PING www.a.shifen.com (14.215.177.39) 56(84) bytes of data.64 bytes from 14.215.177.39 (14.215.177.39): icmp_seq=1 ttl=54 time=20.6 ms64 bytes from 14.215.177.39 (14.215.177.39): icmp_seq=2 ttl=54 time=20.5 ms64 bytes from 14.215.177.39 (14.215.177.39): icmp_seq=3 ttl=54 time=20.4 ms 64 bytes: ICMPÂ∞ÅÂåÖÂ§ßÂ∞è icmp_seq=3: ‰æ¶ÊµãÂ∫èÂè∑ ttl=54: ÈªòËÆ§255, ÊØèÁªèËøá‰∏Ä‰∏™Âê´MACÂú∞ÂùÄÊó∂-1 time=20.5 ms: ËÄóÊó∂ traceroute ÁΩëË∑ØÁä∂ÊÄÅ12345678910111213‚ûú ~ traceroute www.baidu.com traceroute to www.baidu.com (14.215.177.39), 30 hops max, 60 byte packets 1 192.168.8.1 (192.168.8.1) 0.784 ms 1.348 ms 1.866 ms 2 192.168.5.1 (192.168.5.1) 0.138 ms 0.174 ms 0.217 ms 3 1.224.77.125.broad.xm.fj.dynamic.163data.com.cn (125.77.224.1) 1.458 ms 1.486 ms 1.694 ms 4 61.154.238.229 (61.154.238.229) 4.692 ms 4.704 ms 61.154.238.225 (61.154.238.225) 2.400 ms 5 61.154.238.77 (61.154.238.77) 5.834 ms 117.30.27.185 (117.30.27.185) 1.948 ms 61.154.238.77 (61.154.238.77) 6.106 ms 6 * 202.97.40.169 (202.97.40.169) 19.847 ms 202.97.78.37 (202.97.78.37) 19.233 ms 7 113.96.4.90 (113.96.4.90) 32.771 ms 28.773 ms 113.96.4.106 (113.96.4.106) 42.485 ms 8 * * * 9 14.29.117.234 (14.29.117.234) 19.359 ms 14.29.121.182 (14.29.121.182) 17.646 ms 14.29.121.190 (14.29.121.190) 28.106 ms10 * * *11 * * * ÊØè‰∏™Â∫èÂè∑ÈÉΩÊòØÂêå‰∏ÄÂ±ÇËøõË°å‰∏âÊ¨°ËøûÊé•ÁöÑËÄóÊó∂ * * *: ÂèØËÉΩÊòØÈò≤ÁÅ´Â¢ôÈóÆÈ¢òÊàñË∑ØÁî±ÈóÆÈ¢ò netstat Êü•ÁúãÊú¨Êú∫ÁöÑÁΩëÁªúËøûÊé•1234# ÁõÆÂâçÊâÄÊúâÁöÑÁΩëÁªúÁ∫øË∑ØÁä∂ÊÄÅ# netstat -tulnpProto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:8000 0.0.0.0:* LISTEN 10247/node Proto: ÁΩëÁªúÂçèËÆÆ Recv-Q: Êú™‰ΩøÁî®Â≠óËäÇ Send-Q: Ê≤°ÊúâÁ°ÆËÆ§ÁöÑÂ≠óËäÇ Local Address: Êú¨Âú∞Âú∞ÂùÄ+Á´ØÂè£ Foreign Address: ÁõÆÊ†áÂú∞ÂùÄ+Á´ØÂè£ stat: Áä∂ÊÄÅ ESTABLISED: Â∑≤ËøûÁ∫ø SYN_SENT: ÂèëÈÄÅËøûÁ∫øÁ°ÆËÆ§ÂåÖ SYN_RECV: Êé•Êî∂ËøûÁ∫øÁ°ÆËÆ§ÂåÖ FIN_WAIT1: Ê≠£Âú®Êñ≠Á∫ø‰∏≠-Á¨¨‰∏ÄÊ≠• FIN_WAIT2: Ê≠£Âú®Êñ≠Á∫ø‰∏≠(Á≠âÂæÖÂØπÊñπÁ°ÆËÆ§)-Á¨¨‰∫åÊ≠• TIME_WAIT: Â∑≤Êñ≠Á∫ø(Á≠âÂæÖÂÖ≥Èó≠)-Á¨¨‰∏âÊ≠• LISTEN: Ê≠£Âú®ÁõëÂê¨ PID/Program name: ËøõÁ®ãÂíåPID host, nslookup, dig ÂüüÂêçËΩ¨IP host123456789‚ûú ~ host www.baidu.com 114.114.114.114Using domain server:Name: 114.114.114.114Address: 114.114.114.114#53Aliases: www.baidu.com is an alias for www.a.shifen.com.www.a.shifen.com has address 14.215.177.39www.a.shifen.com has address 14.215.177.38 nslookup123456789‚ûú ~ nslookup www.google.comServer: 218.85.152.99Address: 218.85.152.99#53Non-authoritative answer:Name: www.google.comAddress: 75.126.150.210Name: www.google.comAddress: 2400:cb00:2048:1::6814:224e dig12345678910111213141516171819202122232425262728293031323334‚ûú ~ dig www.google.com; &lt;&lt;&gt;&gt; DiG 9.11.3-1-Debian &lt;&lt;&gt;&gt; www.google.com;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 26052;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 4, ADDITIONAL: 8;; QUESTION SECTION:;www.google.com. IN A;; ANSWER SECTION:www.google.com. 600 IN A 75.126.150.210;; AUTHORITY SECTION:google.com. 153873 IN NS ns2.google.com.google.com. 153873 IN NS ns1.google.com.google.com. 153873 IN NS ns3.google.com.google.com. 153873 IN NS ns4.google.com.;; ADDITIONAL SECTION:ns1.google.com. 340640 IN A 216.239.32.10ns1.google.com. 160867 IN AAAA 2001:4860:4802:32::ans2.google.com. 147310 IN A 216.239.34.10ns2.google.com. 167153 IN AAAA 2001:4860:4802:34::ans3.google.com. 170088 IN A 216.239.36.10ns3.google.com. 343381 IN AAAA 2001:4860:4802:36::ans4.google.com. 342199 IN A 216.239.38.10ns4.google.com. 340238 IN AAAA 2001:4860:4802:38::a;; Query time: 3 msec;; SERVER: 218.85.152.99#53(218.85.152.99);; WHEN: Tue Apr 02 11:54:08 CST 2019;; MSG SIZE rcvd: 296 Hook tcpdump 1234567891011121314151617181920212223242526272829‚ûú ~ sudo tcpdump -i enp2s0tcpdump: verbose output suppressed, use -v or -vv for full protocol decodelistening on enp2s0, link-type EN10MB (Ethernet), capture size 262144 bytes16:03:36.920320 IP 192.168.8.23.32842 &gt; 106.37.75.114.80: Flags [.], ack 1334, win 1134, options [nop,nop,TS val 2465645746 ecr 4170196622], length 016:07:25.848706 IP 192.168.8.23.45512 &gt; 203.107.41.32.9015: Flags [P.], seq 858:897, ack 771, win 37440, length 3915:23:53.248962 IP6 fe80::485c:9c0f:61ce:2886 &gt; ff02::1:ffb6:3f84: ICMP6, neighbor solicitation, who has fe80::32e1:71ff:feb6:3f84, length 3215:23:53.249199 IP 192.168.8.23.55804 &gt; FJ-DNS.xm.fj.cn.domain: 41679+ PTR? 4.8.f.3.6.b.f.f.1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.2.0.f.f.ip6.arpa. (90)15:23:53.251749 IP FJ-DNS.xm.fj.cn.domain &gt; 192.168.8.23.55804: 41679 NXDomain* 0/1/0 (154)15:23:53.251809 IP 192.168.8.23.57994 &gt; FJ-DNS.xm.fj.cn.domain: 8140+ PTR? 6.8.8.2.e.c.1.6.f.0.c.9.c.5.8.4.0.0.0.0.0.0.0.0.0.0.0.0.0.8.e.f.ip6.arpa. (90)15:23:53.254241 ARP, Request who-has 192.168.8.250 tell 192.168.8.134, length 4615:23:53.255081 IP FJ-DNS.xm.fj.cn.domain &gt; 192.168.8.23.57994: 8140 NXDomain* 0/1/0 (139)# Êåá‰ª§tcpdump [-AennqX] [-i ÁΩëÁªúÊé•Âè£] [-w ÂØºÂá∫Êñá‰ª∂] [-c Ê¨°Êï∞] \ [-r ÂØºÂÖ•Êñá‰ª∂] [ËøáÊª§ËßÑÂàô]-AÔºö ÊòæÁ§∫‰∏∫ASCIIÁ†Å-e: OSI ‰∫åÂ±ÇÊòæÁ§∫MACÂ∞ÅÂåÖ-nn: Ëß£ÊûêÂú∞ÂùÄ(ÊòæÁ§∫‰∏∫ipÂíåÁ´ØÂè£)-q: ÊâìÂç∞ÁÆÄÁü≠ÁöÑ‰ø°ÊÅØ-X: ÊòæÁ§∫16ËøõÂà∂ÂèäASCIIÁ†Å-i: ÈúÄË¶ÅÁõëÂê¨ÁöÑÁΩëÁªúÊé•Âè£-w: ÂÜôÂá∫Â≠òÂÇ®Êñá‰ª∂-r: ËØªÂèñÂ≠òÂÇ®Êñá‰ª∂-c: ÁõëÂê¨Êï∞ÈáèËøáÊª§ËßÑÂàô: ÂèØ‰ª•‰ΩøÁî® and Âíå or ËøõË°åÁªÑÂêà - &apos;host foo&apos;, &apos;host 127.0.0.1&apos; ÔºöÁõëÂê¨ÁâπÂÆöÁöÑ‰∏ªÊú∫ - &apos;net 192.168&apos; ÔºöÁõëÂê¨ÁâπÂÆöÁöÑÁΩëÊÆµ - &apos;src host 127.0.0.1&apos; &apos;dst net 192.168&apos;Ôºö ÁõëÂê¨ÁâπÂÆöÁöÑÊù•Ê∫ê(src)ÊàñÁõÆÁöÑÂú∞(dst) - &apos;tcp port 21&apos;ÔºöÁõëÂê¨ÁâπÂÆöÁöÑÂçèËÆÆÔºåÂ¶Ç tcp, udp, arp, ether.. 15:23:53.248962: Êó∂:ÂàÜ:Áßí.ÊØ´Áßí IP: ‰ΩøÁî®ÁöÑÂçèËÆÆ 192.168.8.23.32842 &gt;: ÂèëËµ∑Á´Ø 106.37.75.114.80: Êé•Êî∂Á´Ø Flags [.]: ‰º†ËæìÊ†áËØÜ [.P]: Êé®ÈÄÅPUSH ack 1334: ack Âè∑ seq 858:897: ‰º†ËæìËµÑÊñô 858~897 byte iptables ËÆøÈóÆÊéßÂà∂ tc ÊµÅÈáèÊéßÂà∂ mtr ÊòæÁ§∫ÁΩëÁªúË∑ØÂæÑÁöÑÁä∂ÂÜµ]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>TCP/IP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Elasticsearch ÈöèÊâãËÆ∞]]></title>
    <url>%2F2019%2F03%2F23%2FElasticsearch%20%E9%9A%8F%E6%89%8B%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[Elasticsearch ÈöèÊâãËÆ∞ üòã ElasticSearch ÂØπÊØî MySQL Index -&gt; Database Type -&gt; Table Document -&gt; Row Á¥¢ÂºïÊ®°ÁâàÊï∞ÊçÆÁ±ªÂûã Â≠óÁ¨¶‰∏≤Á±ªÂûã string,text,keyword Êï¥Êï∞Á±ªÂûã integer,long,short,byte ÊµÆÁÇπÁ±ªÂûã double,float,half_float,scaled_float ÈÄªËæëÁ±ªÂûã boolean Êó•ÊúüÁ±ªÂûã date ËåÉÂõ¥Á±ªÂûã range ‰∫åËøõÂà∂Á±ªÂûã binary Â§çÂêàÁ±ªÂûã Êï∞ÁªÑÁ±ªÂûã array ÂØπË±°Á±ªÂûã object ÂµåÂ•óÁ±ªÂûã nested Âú∞ÁêÜÁ±ªÂûã Âú∞ÁêÜÂùêÊ†áÁ±ªÂûã geo_point Âú∞ÁêÜÂú∞Âõæ geo_shape ÁâπÊÆäÁ±ªÂûã IPÁ±ªÂûã ip ËåÉÂõ¥Á±ªÂûã completion ‰ª§ÁâåËÆ°Êï∞Á±ªÂûã token_count ÈôÑ‰ª∂Á±ªÂûã attachment ÊäΩÂèñÁ±ªÂûã percolator API Êé•Âè£ pretty Ê†ºÂºèÂåñexplain=true ÂàÜÊûê ÈÄöÈÖçÁ¨¶ ÁõëÊéßÊìç‰Ωú ÁõëÊéß12# Êü•ËØ¢ÊâÄÊúâÁõëÊéßÊåá‰ª§curl --user elastic:changeme -XGET http://127.0.0.1:9200/_cat ËäÇÁÇπÊìç‰Ωú Êü•ÁúãËäÇÁÇπÁä∂ÊÄÅ 12# Êü•ÁúãËÆæÁΩÆcurl --user elastic:changeme -XGET http://127.0.0.1:9200/_cluster/settings?pretty ÂÆûÊó∂Êõ¥ÊîπÈÖçÁΩÆ 123456789# Ê∞∏‰πÖÁîüÊïàcurl --user elastic:changeme -XPUT http://127.0.0.1:9200/_cluster/settings -H "Content-type: application/json" -d '&#123; "persistent": &#123; &#125;&#125;'# ÊöÇÊó∂ÁîüÊïàcurl --user elastic:changeme -XPUT http://127.0.0.1:9200/_cluster/settings -H "Content-type: application/json" -d '&#123; "transient": &#123;&#125;&#125;' Êï∞ÊçÆÊìç‰Ωú ÂàõÂª∫Á¥¢ÂºïÊ®°Áâà 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455curl --user elastic:changeme -XPUT http://127.0.0.1:9200/db_test2 -H "Content-type: application/json" -d '&#123; "settings":&#123; # ËäÇÁÇπÊï∞Èáè "number_of_replicas": 0, # ÂàÜÁâáÊï∞Èáè # "number_of_shards": 5, # Á¥¢ÂºïÂ≠òÂÇ®Á±ªÂûã # "index.store.type": "niofs", # ÈªòËÆ§Ê£ÄÁ¥¢Â≠óÊÆµ # "index.query.default_field": "title" # "index.unassigned.node_left.delayed_timeout": "5m" &#125;, "mappings": &#123; "example": &#123; # Âä®ÊÄÅÂèòÊõ¥ "dynamic": false, # 5.x ‰ª•‰∏äÂ∫üÈô§ "_all": &#123; "enabled": false &#125;, "properties": &#123; "example_id": &#123; "type": "long" &#125;, "name": &#123; "type": "text", # ÊåáÂÆöÂàÜËØçÂô® "analyzer": "ik_max_word", "search_analyzer": "ik_max_word" &#125;, "text": &#123; "type": "keyword" &#125;, "title": &#123; "type": "text", "index": true &#125;, "createdAt": &#123; "type": "date", "format": "strict_date_optional_time||epoch_millis" &#125;, "age": &#123; "type": "integer" &#125;, "location": &#123; # es ‰∏≠Â≠òÂÇ®ÁªìÊûÑ‰∏∫: &#123;lon: 0.000, lat: 0.000&#125; "type": "geo_point" &#125;, "suggest": &#123; "type": "completion" &#125; &#125; &#125; &#125;&#125;' Âà†Èô§Á¥¢ÂºïÊ®°Áâà 1curl --user elastic:changeme -XDELETE http://127.0.0.1:9200/db_test Êü•ËØ¢Á¥¢ÂºïÊ®°Áâà 1curl --user elastic:changeme -XGET http://127.0.0.1:9200/db_test\?pretty ÊèíÂÖ•Êï∞ÊçÆ 123curl --user elastic:changeme -XPOST http://127.0.0.1:9200/db_test/example -H "Content-type: application/json" -d '&#123; "example_id": 666&#125;' Êü•ËØ¢Êï∞ÊçÆ 12345678910111213# Êü•ËØ¢ÊâÄÊúâcurl --user elastic:changeme -XPOST http://127.0.0.1:9200/db_test/example/_search?pretty# ÊåâÊù°‰ª∂Êü•ËØ¢curl --user elastic:changeme -XPOST http://127.0.0.1:9200/db_test/example/_search?pretty&amp;explain=true -H "Content-type: application/json" -d '&#123; "query": &#123; "match": &#123; "example_id": 666 &#125; &#125;&#125;'# Êü•ËØ¢ÊåáÂÆöcurl --user elastic:changeme -XGET http://127.0.0.1:9200/db_test/example/PiAmoGkBJAdUJ3wD4CMC?pretty=true ÂàÜÊûêÊìç‰Ωú ÂàÜËØçÂô®Êé•Âè£123456789# ‰ΩøÁî®ÈªòËÆ§ÂàÜËØçÂô®curl --user elastic:changeme -XPOST http://127.0.0.1:9200/_analyze?pretty -H 'Content-Type:application/json' -d'&#123; "text": "Hello World" &#125;'# ‰ΩøÁî®ÊåáÂÆöÂàÜËØçÂô®curl --user elastic:changeme -XPOST http://127.0.0.1:9200/_analyze?pretty -H 'Content-Type:application/json' -d'&#123; "analyzer": "ik_max_word", "text": "Hello World" &#125;' Java Ë∞ÉÁî® ÂàõÂª∫Á¥¢Âºï 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667private boolean createOrUpdateIndex(Long id) &#123; if (house == null) &#123; return false; &#125; ExampleIndexTemplate template = // .. ÈÄöËøáÊûÑÂª∫ÂæóÂá∫ SearchRequestBuilder requestBuilder = this.esClient.prepareSearch(INDEX_NAME) .setTypes(INDEX_TYPE) .setQuery(QueryBuilders.termQuery("example_id", id)); logger.debug(requestBuilder.toString()); SearchResponse searchResponse = requestBuilder.get(); boolean success; long totalHit = searchResponse.getHits().getTotalHits(); if (totalHit == 0) &#123; success = create(template); &#125; else if (totalHit == 1) &#123; String esId = searchResponse.getHits().getAt(0).getId(); success = update(id, template); &#125; else &#123; success = deleteAndCreate(totalHit, template); &#125;&#125;// -- private boolean create(ExampleIndexTemplate indexTemplate) &#123; try &#123; IndexResponse response = this.esClient.prepareIndex(INDEX_NAME, INDEX_TYPE) .setSource(objectMapper.writeValueAsBytes(indexTemplate), XContentType.JSON).get(); if (response.status() == RestStatus.CREATED) &#123; return true; &#125; else &#123; return false; &#125; &#125; catch (JsonProcessingException e) &#123; return false; &#125; &#125; private boolean update(Long id, ExampleIndexTemplate indexTemplate) &#123; try &#123; UpdateResponse response = this.esClient.prepareUpdate(INDEX_NAME, INDEX_TYPE, id).setDoc(objectMapper.writeValueAsBytes(indexTemplate), XContentType.JSON).get(); if (response.status() == RestStatus.OK) &#123; return true; &#125; else &#123; return false; &#125; &#125; catch (JsonProcessingException e) &#123; return false; &#125; &#125; private boolean deleteAndCreate(long totalHit, ExampleIndexTemplate indexTemplate) &#123; DeleteByQueryRequestBuilder builder = DeleteByQueryAction.INSTANCE .newRequestBuilder(esClient) .filter(QueryBuilders.termQuery("example_id", indexTemplate.getId())) .source(INDEX_NAME); BulkByScrollResponse response = builder.get(); long deleted = response.getDeleted(); if (deleted != totalHit) &#123; return false; &#125; else &#123; return create(indexTemplate); &#125; &#125; ÁßªÈô§Á¥¢ÂºïÊ®°Áâà 12345678private void remove(Long id) &#123; DeleteByQueryRequestBuilder builder = DeleteByQueryAction.INSTANCE .newRequestBuilder(esClient) .filter(QueryBuilders.termQuery("example_id", id)) .source(INDEX_NAME); BulkByScrollResponse response = builder.get(); long deleted = response.getDeleted();&#125; ÁÆÄÂçïÊêúÁ¥¢ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// ÈÄöËøáÊêúÁ¥¢Êü•ËØ¢Âá∫idÔºå ÁÑ∂Âêé‰∫é mysql ‰πãÁ±ªÊï∞ÊçÆÂ∫ìËøõË°åËÅöÂêàList&lt;Serializable&gt; search(SearchBody body)&#123; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); // Êª°Ë∂≥filterÂ≠êÂè•ÁöÑÊù°‰ª∂„ÄÇ‰ΩÜÊòØ‰∏ç‰ºöÂÉèMust‰∏ÄÊ†∑ÔºåÂèÇ‰∏éËÆ°ÁÆóÂàÜÂÄº boolQuery.filter( // QueryBuilders.termQuery // QueryBuilders.rangeQuery //.. )// ÊèêÈ´òÊùÉÈáç, Â¶ÇÊûúÈúÄË¶ÅÁöÑËØù// boolQuery.must(// QueryBuilders.matchQuery("title", body.getKeywords())// .boost(2.0f)// ); // [ÂøÖÈ°ªÊª°Ë∂≥ÁöÑÊÑèÊÄù] Êª°Ë∂≥mustÂ≠êÂè•ÁöÑÊù°‰ª∂ÔºåÂπ∂‰∏îÂèÇ‰∏éËÆ°ÁÆóÂàÜÂÄº boolQuery.must( // QueryBuilders.multiMatchQuery ÂÖ≥ÈîÆËØçÂåπÈÖçÂ§ö‰∏™Â≠óÊÆµ //.. ) // Êª°Ë∂≥shouldÂ≠êÂè•ÁöÑÊù°‰ª∂„ÄÇÂú®‰∏Ä‰∏™BoolÊü•ËØ¢‰∏≠ÔºåÂ¶ÇÊûúÊ≤°ÊúâmustÊàñËÄÖfilterÔºåÊúâ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™shouldÂ≠êÂè•ÔºåÈÇ£‰πàÂè™Ë¶ÅÊª°Ë∂≥‰∏Ä‰∏™Â∞±ÂèØ‰ª•ËøîÂõû boolQuery.should( //.. ) // ‰∏çÊª°Ë∂≥must_notÂÆö‰πâÁöÑÊù°‰ª∂ boolQuery.should( //.. ) SearchRequestBuilder requestBuilder = this.esClient.prepareSearch(INDEX_NAME) .setTypes(INDEX_TYPE) // Êü•ËØ¢Êù°‰ª∂ .setQuery(boolQuery) // ÊéíÂ∫è .addSort( "createdAt", "DESC" ) // ÂºÄÂßã‰ΩçÁΩÆ .setFrom(0) .setSize(100) // ËÆæÁΩÆËØ•Â≠óÊÆµÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëËøîÂõûÊï∞ÊçÆÈáè .setFetchSource("id", null); SearchResponse response = requestBuilder.get(); List&lt;Long&gt; ids = new ArrayList&lt;&gt;(); for (SearchHit hit : response.getHits()) &#123; System.out.println(hit.getSource()); ids.add(Longs.tryParse(String.valueOf(hit.getSource().get("example_id")))); &#125; return ids;&#125; Ëá™Âä®Ë°•ÂÖ® 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980// ÂåπÈÖçCollection&lt;String&gt; suggest(String prefix)&#123; CompletionSuggestionBuilder suggestion = SuggestBuilders.completionSuggestion("suggest").prefix(prefix).size(5); SuggestBuilder suggestBuilder = new SuggestBuilder(); suggestBuilder.addSuggestion("autocomplete", suggestion); SearchRequestBuilder requestBuilder = this.esClient.prepareSearch(INDEX_NAME) .setTypes(INDEX_TYPE) .suggest(suggestBuilder); SearchResponse response = requestBuilder.get(); Suggest suggest = response.getSuggest(); if (suggest == null) &#123; return ServiceResult.of(new ArrayList&lt;&gt;()); &#125; Suggest.Suggestion result = suggest.getSuggestion("autocomplete"); int maxSuggest = 0; Set&lt;String&gt; suggestSet = new HashSet&lt;&gt;(); for (Object term : result.getEntries()) &#123; if (term instanceof CompletionSuggestion.Entry) &#123; CompletionSuggestion.Entry item = (CompletionSuggestion.Entry) term; if (item.getOptions().isEmpty()) &#123; continue; &#125; for (CompletionSuggestion.Entry.Option option : item.getOptions()) &#123; String tip = option.getText().string(); if (suggestSet.contains(tip)) &#123; continue; &#125; suggestSet.add(tip); maxSuggest++; &#125; &#125; if (maxSuggest &gt; 5) &#123; break; &#125; &#125; return suggestSet;&#125;// ËÆæÁΩÆÊùÉÈáçprivate boolean updateSuggest(ExampleIndexTemplate indexTemplate) &#123; AnalyzeRequestBuilder requestBuilder = new AnalyzeRequestBuilder( this.esClient, AnalyzeAction.INSTANCE, INDEX_NAME, // ‰ºöË¢´ÊêúÁ¥¢ÁöÑÂ≠óÊÆµÁöÑÂÄº.. ); // ‰ΩøÁî®ÁöÑÂàÜËØçÂô® requestBuilder.setAnalyzer("ik_smart"); AnalyzeResponse response = requestBuilder.get(); List&lt;AnalyzeResponse.AnalyzeToken&gt; tokens = response.getTokens(); if (tokens == null) &#123; return false; &#125; List&lt;HouseSuggest&gt; suggests = new ArrayList&lt;&gt;(); for (AnalyzeResponse.AnalyzeToken token : tokens) &#123; // ÁîüÊïàÈôêÂà∂ if ("&lt;NUM&gt;".equals(token.getType()) || token.getTerm().length() &lt; 2) &#123; continue; &#125; ExampleSuggest suggest = // .. suggests.add(suggest); &#125; // ÂÖ∂‰ªñÂΩ±ÂìçÂõ†Á¥† ExampleSuggest suggest = // .. suggests.add(suggest); indexTemplate.setSuggest(suggests); return true;&#125; ËÅöÂêàÁªüËÆ° 1234567891011121314151617181920212223242526272829303132333435long aggregateNumber(String c1, String c2, String c3)&#123; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery() .filter(QueryBuilders.termQuery( // ËÅöÂêàÊù°‰ª∂ )) .filter(QueryBuilders.termQuery( // ËÅöÂêàÊù°‰ª∂ )) .filter(QueryBuilders.termQuery( "field_name", c1 )); SearchRequestBuilder requestBuilder = this.esClient.prepareSearch(INDEX_NAME) .setTypes(INDEX_TYPE) .setQuery(boolQuery) .addAggregation( AggregationBuilders.terms("agg_number") .field("field_name") ).setSize(0); logger.debug(requestBuilder.toString()); SearchResponse response = requestBuilder.get(); if (response.status() == RestStatus.OK) &#123; Terms terms = response.getAggregations().get("agg_number"); if (terms.getBuckets() != null &amp;&amp; !terms.getBuckets().isEmpty()) &#123; return terms.getBucketByKey(c1).getDocCount(); &#125; &#125; else &#123; return 0L; &#125; return 0L;&#125; ‰ΩçÁΩÆËåÉÂõ¥Êü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536@Overridepublic Collection&lt;Long&gt; mapQuery(SearchBody body) &#123; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); boolQuery.filter(QueryBuilders.termQuery( // .. )); boolQuery.filter( QueryBuilders.geoBoundingBoxQuery("location") .setCorners( // Â∑¶‰∏äËßí new GeoPoint(body.getLeftLatitude(), body.getLeftLongitude()), // Âè≥‰∏ãËßí new GeoPoint(body.getRightLatitude(), body.getRightLongitude()) )); SearchRequestBuilder builder = this.esClient.prepareSearch(INDEX_NAME) .setTypes(INDEX_TYPE) .setQuery(boolQuery) .addSort( // .. ) .setFrom(0) .setSize(100); List&lt;Long&gt; ids = new ArrayList&lt;&gt;(); SearchResponse response = builder.get(); if (RestStatus.OK != response.status()) &#123; return ids; &#125; for (SearchHit hit : response.getHits()) &#123; ids.add(hit.getSource().get("example_id")); &#125; return ids;&#125; JSONÊ†ºÂºèÊü•ËØ¢ËØ≠Ê≥ïÂÆòÊñπÊñáÊ°£ Ê¶ÇË¶Å mustÂèÇ‰∏éËÆ°ÁÆóÂàÜÂÄº -&gt; and filter‰∏çÂèÇ‰∏éËÆ°ÁÆóÂàÜÂÄº -&gt; and should -&gt; or must_not -&gt; not1234567891011121314151617181920212223242526272829303132// Â∏ÉÂ∞îÊü•ËØ¢&#123; "query": &#123; "bool": &#123; // The clause (query) must appear in matching documents and will contribute to the score. // ÊâÄÊúâ"must"Êù°‰ª∂ÂøÖÈ°ªÂåπÈÖçÊàêÂäü, ‰∏îËÆ°ÁÆóÂàÜÊï∞ "must": [ &#123; "match": &#123; "title": "Search" &#125;&#125;, &#123; "match": &#123; "content": "Elasticsearch" &#125;&#125; ], // The clause (query) must appear in matching documents. However unlike must the score of the query will be ignored. Filter clauses are executed in filter context, meaning that scoring is ignored and clauses are considered for caching. // ÊâÄÊúâ"filter"Êù°‰ª∂ÂøÖÈ°ªÂåπÈÖçÊàêÂäü, ‰∏çËÆ°ÁÆóÂàÜÊï∞(Âõ†Ê≠§Êü•ËØ¢ÈÄüÂ∫¶ËæÉÂø´) "filter": [ &#123; "term": &#123; "status": "published" &#125;&#125;, &#123; "range": &#123; "publish_date": &#123; "gte": "2015-01-01" &#125;&#125;&#125; ], // The clause (query) should appear in the matching document. If the bool query is in a query context and has a must or filter clause then a document will match the bool query even if none of the should queries match. In this case these clauses are only used to influence the score. If the bool query is a filter context or has neither must or filter then at least one of the should queries must match a document for it to match the bool query. This behavior may be explicitly controlled by settings the minimum_should_match parameter. // ÊÉÖÂÜµ‰∏Ä(ÂµåÂ•óbool): ÂΩì"should"Êù°‰ª∂Âú®"must"Êù°‰ª∂ÊàñËÄÖ"filter"Êù°‰ª∂ÂÜÖ, Ê≠§Êó∂‰∏çË¶ÅÊ±ÇÊª°Ë∂≥"should"Êù°‰ª∂, ‰ΩÜÊòØ‰ºöÂΩ±ÂìçÂà∞Êü•ËØ¢ÂàÜÊï∞ // ÊÉÖÂÜµ‰∫å(ÂçïÊù°bool): ÂΩì"should"Êù°‰ª∂‰∏çÂú®"must"Êù°‰ª∂ÊàñËÄÖ"filter"Êù°‰ª∂ÂÜÖ, ÈªòËÆ§ÊÉÖÂÜµËá≥Â∞ëÊúâ‰∏Ä‰∏™"should"Â≠êÂè•ÈúÄË¶ÅÊª°Ë∂≥(ÂèØÈÄöËøáÈÖçÁΩÆ`minimum_should_match`ÂèÇÊï∞ËøõË°åÂèòÊõ¥) "should": [ &#123; "range": &#123;"age" : &#123; "gte" : 10, "lte" : 20 &#125;&#125;&#125; ], "minimum_should_match": 1, // The clause (query) must not appear in the matching documents. Clauses are executed in filter context meaning that scoring is ignored and clauses are considered for caching. Because scoring is ignored, a score of 0 for all documents is returned. // ÊâÄÊúâ"must_not"Êù°‰ª∂‰∏çËÉΩÂåπÈÖçÊàêÂäü "must_not": [ &#123; "term": &#123; "tag" : "wow" &#125;&#125;, &#123; "term": &#123; "tag" : "elasticsearch" &#125;&#125; ] &#125; &#125;&#125; ÂÖ®ÊñáÊêúÁ¥¢ ‰ºöËµ∞ÂàÜÊûêÂô® matchÊèèËø∞: ÂåπÈÖçÊü•ËØ¢, Âè™ÈúÄÂåÖÂê´ÈÉ®ÂàÜ„ÄÇeg: hello world, Âè™ÂåπÈÖç‚Äùhello‚ÄùÊàñËÄÖ‚Äùworld‚ÄùÂèØÊé•ÂèóÁ±ªÂûã: text/numerics/dates1234567891011121314151617181920GET /_search// ÁÆÄÂçïÊü•ËØ¢&#123; "query": &#123; "match" : &#123; "message" : "this is a test" &#125; &#125;&#125;// Â§çÊùÇÊü•ËØ¢&#123; "query": &#123; "match" : &#123; "message" : &#123; "query": "this is a test", "ÂèÇÊï∞": "ÂÄº" &#125; &#125; &#125;&#125; match_phrase ÊèèËø∞: ÂåπÈÖçËØçÁªÑÊü•ËØ¢, Â§ö‰∏™ËØç‰∏ÄËµ∑Ë¢´Êü•ËØ¢. eg: hello world, ÂåπÈÖç‚Äùhello world‚Äù match_phrase_prefix ÊèèËø∞: Âêåmatch_phrase‰ΩÜÊòØÊúÄÂêé‰∏Ä‰∏™ËØç‰ºöË¢´ÂΩì‰ΩúÂâçÁºÄÂéªÂåπÈÖç. eg: hello wo, ÂèØÂåπÈÖçÂà∞‚Äùhello world‚Äù multi_match ÊèèËø∞: Âêåmatch‰ΩÜÊòØÂèØ‰ª•‰ΩúÁî®Âú®Â§ö‰∏™Â≠óÊÆµ‰∏äÔºå‰∏îÂ≠óÊÆµÊîØÊåÅË°®ËææÂºè 12345678910GET /_search&#123; "query": &#123; "multi_match" : &#123; "query": "this is a test", "fields": [ "subject", "*_name" ], "ÂèÇÊï∞": "ÂÄº" &#125; &#125;&#125; common ÊèèËø∞: Ê†πÊçÆËØçÈ¢ëËøõË°åÂåπÈÖç. 123456789101112GET /_search&#123; "query": &#123; "common": &#123; "body": &#123; "query": "this is bonsai cool", // ËØçÈ¢ëÁéá: [0, 1] "cutoff_frequency": 0.001 &#125; &#125; &#125;&#125; query_string ÊèèËø∞: Ê†πÊçÆË°®ËææÂºèËøõË°åÂåπÈÖç, ËæìÂÖ•ÁöÑÂÄº‰∏∫Ë°®ËææÂºè, ÊîØÊåÅ‰∏Ä‰∫õÂÜÖÁΩÆÂèÇÊï∞ÂíåËØ≠Ê≥ï„ÄÇ 12345678GET /_search&#123; "query": &#123; "query_string": &#123; "query": "(content:this OR name:this) AND (content:that OR name:that)" &#125; &#125;&#125; simple_query_string ÊèèËø∞: ‰∏équery_stringÁ±ª‰ºº, ÊîØÊåÅ‰∏Ä‰∫õÊõ¥ÁÆÄ‰æøÁöÑÁ¨¶Âè∑„ÄÇ 12345678910GET /_search&#123; "query": &#123; "simple_query_string" : &#123; "query": "\"fried eggs\" +(eggplant | potato) -frittata", "fields": ["title^5", "body"], "default_operator": "and" &#125; &#125;&#125; Êù°‰ª∂Êü•ËØ¢ Á≤æÂáÜÊêúÁ¥¢‰∏ÄËà¨Áî®‰∫éÁªìÊûÑÂåñÊï∞ÊçÆËÄåÈùûÂÖ®ÊñáÂåπÈÖç: numbers, dates, and enums term ÊèèËø∞: ÂåπÈÖçÂçï‰∏™ÂÄº, Á±ª‰ºº‚Äù=‚Äù, ‰ΩÜÊòØÂÖ∂ÂÖ∑Â§áElasticsearchÁöÑÁâπÊÄßÂ¶Ç: ÂàÜÊï∞ 123456789101112131415161718192021222324252627282930// ÁÆÄÂçïPOST _search&#123; "query": &#123; "term" : &#123; "user" : "Kimchy" &#125; &#125;&#125;// Â§çÊùÇÔºåËÆæÂÆöÂåπÈÖçÂàÜÊï∞‰πãÁ±ªÁöÑGET _search&#123; "query": &#123; "bool": &#123; "should": [ &#123; "term": &#123; "status": &#123; "value": "urgent", "boost": 2.0 &#125; &#125; &#125;, &#123; "term": &#123; "status": "normal" &#125; &#125; ] &#125; &#125;&#125; terms ÊèèËø∞: ÂåπÈÖçÂ§ö‰∏™ÂÄº, Á±ª‰ºº‚Äùin‚Äù 1234567// ÁÆÄÂçïGET /_search&#123; "query": &#123; "terms" : &#123; "user" : ["kimchy", "elasticsearch"]&#125; &#125;&#125; terms_set ÊèèËø∞: ÂÆöÂà∂ÂåñÂåπÈÖçËßÑÂàô 1234567891011GET /my-index/_search&#123; "query": &#123; "terms_set": &#123; "codes" : &#123; "terms" : ["abc", "def", "ghi"], "minimum_should_match_field": "required_matches" &#125; &#125; &#125;&#125; range ÊèèËø∞: ËåÉÂõ¥ÂåπÈÖç, ÊîØÊåÅ: stringÔºådateÔºånumeric 123456789101112GET _search&#123; "query": &#123; "range" : &#123; "age" : &#123; "gte" : 10, "lte" : 20, "boost" : 2.0 &#125; &#125; &#125;&#125; exists ÊèèËø∞: Â≠òÂú®Êü•ËØ¢, ÂøÖÈ°ªËá≥Â∞ëÂ≠òÂú®‰∏Ä‰∏™ÈùûnullÂÄº. eg: user: [null, ‚Äòhocgin‚Äô] 123456GET /_search&#123; "query": &#123; "exists" : &#123; "field" : "user" &#125; &#125;&#125; prefix ÊèèËø∞: ÂâçÁºÄÂåπÈÖç. 12345GET /_search&#123; "query": &#123; "prefix" : &#123; "user" : "ki" &#125; &#125;&#125; wildcard ÊèèËø∞: ÈÄöÈÖçÁ¨¶ÂåπÈÖç„ÄÇÁ±ª‰ººlike 123456GET /_search&#123; "query": &#123; "wildcard" : &#123; "user" : "ki*y" &#125; &#125;&#125; regexp ÊèèËø∞: Ê≠£ÂàôÂåπÈÖçÔºåÂÖÅËÆ∏‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè„ÄÇ‚ö†Ô∏è: ÊÄßËÉΩÂèñÂÜ≥‰∫éÊ≠£ÂàôË°®ËææÂºèÂÜôÊ≥ïÔºåÂª∫ËÆÆÁî®È••È•øÊ®°Âºè 12345678GET /_search&#123; "query": &#123; "regexp":&#123; "name.first": "s.*y?" &#125; &#125;&#125; fuzzy ÊèèËø∞: Ê®°Á≥äÊü•ËØ¢. ÈÄÇÁî®‰∫éÊãºÂÜôÈîôËØØÊó∂ÊêúÁ¥¢„ÄÇ 123456GET /_search&#123; "query": &#123; "fuzzy" : &#123; "user" : "ki" &#125; &#125;&#125; type ÊèèËø∞: ÊñáÊ°£Á±ªÂûãÊü•ËØ¢ 12345678GET /_search&#123; "query": &#123; "type" : &#123; "value" : "_doc" &#125; &#125;&#125; ids ÊèèËø∞: Ê†πÊçÆidÂ≠óÊÆµËøáÊª§ÊñáÊ°£Êï∞ÊçÆ 123456789GET /_search&#123; "query": &#123; "ids" : &#123; "type" : "_doc", "values" : ["1", "4", "100"] &#125; &#125;&#125; Â§çÂêàÊü•ËØ¢ constant_score ÊèèËø∞: ÂøΩÁï•ËØÑÂàÜÊü•ËØ¢, Êü•ËØ¢ÈÄüÂ∫¶Êõ¥Âø´(‰ΩøÁî®ÁºìÂ≠ò)„ÄÇ 1234567891011GET /_search&#123; "query": &#123; "constant_score" : &#123; "filter" : &#123; "term" : &#123; "user" : "kimchy"&#125; &#125;, "boost" : 1.2 &#125; &#125;&#125; Bool Êü•ËØ¢ ÊèèËø∞: ‰ΩøÁî®ÂÖ∂‰ªñÊü•ËØ¢ÁöÑboolÂÄºÁªÑÂêàÁöÑÊü•ËØ¢„ÄÇËØ¶ÁªÜÂèÇËÄÉÊ¶ÇË¶Å 123456789101112131415161718192021222324POST _search&#123; "query": &#123; "bool" : &#123; "must" : &#123; "term" : &#123; "user" : "kimchy" &#125; &#125;, "filter": &#123; "term" : &#123; "tag" : "tech" &#125; &#125;, "must_not" : &#123; "range" : &#123; "age" : &#123; "gte" : 10, "lte" : 20 &#125; &#125; &#125;, "should" : [ &#123; "term" : &#123; "tag" : "wow" &#125; &#125;, &#123; "term" : &#123; "tag" : "elasticsearch" &#125; &#125; ], "minimum_should_match" : 1, "boost" : 1.0 &#125; &#125;&#125; Dis Max Query ÊèèËø∞: ÂèñÂ§ö‰∏™Êù°‰ª∂Êü•ËØ¢ÁªìÊûú‰∏≠ÔºåÂæóÂàÜÊúÄÈ´òÁöÑÊü•ËØ¢ÁªìÊûú„ÄÇÂèØ‰ª•ÈÄöËøá: tie_breaker Êù•ÂÖ≥ËÅîÂÖ∂‰ªñÊü•ËØ¢ÁªìÊûúÁöÑÂàÜÊï∞„ÄÇ 123456789101112131415161718GET /_search&#123; "query": &#123; "dis_max" : &#123; // Ê≠§Â§ÑÁõ∏ÂΩì‰∫éÈô§ÊúÄ‰Ω≥ÂåπÈÖçÂ§ñÔºåÂÖ∂‰ªñÂåπÈÖçÁªìÊûúÁöÑÂèÇ‰∏éÁ®ãÂ∫¶. --- Ë®ÄÂ§ñ‰πãÊÑè, Â§öÊñπÈù¢ËÄÉËôë "tie_breaker" : 0.7, "boost" : 1.2, "queries" : [ &#123; "term" : &#123; "age" : 34 &#125; &#125;, &#123; "term" : &#123; "age" : 35 &#125; &#125; ] &#125; &#125;&#125; Function Score Query ÊèèËø∞: ÊâìÂàÜÂô®. ÊúÄÂêéÊâìÂàÜÈò∂ÊÆµÔºåÂºïÂÖ•‰∏Ä‰∫õÊúÄ‰Ω≥ÂÄºÁöÑËÆ°ÁÆóÊñπÂºè. ‚Äî Ë®ÄÂ§ñ‰πãÊÑèÔºå‰ΩúÂºäÂô® 1234567891011GET /_search&#123; "query": &#123; "function_score": &#123; "query": &#123; "match_all": &#123;&#125; &#125;, "boost": "5", "random_score": &#123;&#125;, "boost_mode":"multiply" &#125; &#125;&#125; Boosting Query ÊèèËø∞: ËÆæÁΩÆÊù°‰ª∂ÁöÑÊùÉÈáç. 123456789101112131415161718GET /_search&#123; "query": &#123; "boosting" : &#123; "positive" : &#123; "term" : &#123; "field1" : "value1" &#125; &#125;, "negative" : &#123; "term" : &#123; "field2" : "value2" &#125; &#125;, "negative_boost" : 0.2 &#125; &#125;&#125; ËøûÊé•Êü•ËØ¢ Nested Query ÊèèËø∞ 1234567891011121314151617181920GET /_search&#123; "query": &#123; "nested" : &#123; // ÂµåÂ•óÂØπË±°Ë∑ØÂæÑ "path" : "obj1", // ÂΩ±ÂìçÁöÑËÆ°ÂàÜÊñπÂºè "score_mode" : "avg", "query" : &#123; "bool" : &#123; "must" : [ // ‚ö†Ô∏è: Â≠óÊÆµÂøÖÈ°ªÊòØÂÆåÊï¥Ë∑ØÂæÑ &#123; "match" : &#123;"obj1.name" : "blue"&#125; &#125;, &#123; "range" : &#123;"obj1.count" : &#123;"gt" : 5&#125;&#125; &#125; ] &#125; &#125; &#125; &#125;&#125; Has Child Query ÊèèËø∞: ËøõË°åÂ≠êÊñáÊ°£Êü•ËØ¢, ËøîÂõûÁà∂ÊñáÊ°£. ÊÖ¢Êü•ËØ¢ÔºåÊÖéÁî® 1234567891011121314GET /_search&#123; "query": &#123; "has_child" : &#123; "type" : "blog_tag", "score_mode" : "min", "query" : &#123; "term" : &#123; "tag" : "something" &#125; &#125; &#125; &#125;&#125; Has Parent Query ÊèèËø∞: Áà∂ÊñáÊ°£Êü•ËØ¢ÔºåËøîÂõûÂ≠êÊñáÊ°£. 12345678910111213GET /_search&#123; "query": &#123; "has_parent" : &#123; "parent_type" : "blog", "query" : &#123; "term" : &#123; "tag" : "something" &#125; &#125; &#125; &#125;&#125; Parent Id Query ÊèèËø∞: Áà∂IDÊü•ËØ¢ÔºåËøîÂõûÂ≠êÊñáÊ°£ 123456789GET /my_index/_search&#123; "query": &#123; "parent_id": &#123; "type": "my_child", "id": "1" &#125; &#125;&#125; Âú∞ÁêÜ‰ΩçÁΩÆÊü•ËØ¢ ÈúÄË¶Ågeo_shapeÁ±ªÂûã GeoShape QueryÊèèËø∞: GeoShape Êü•ËØ¢ÔºåÊü•ËØ¢Âú®Â§öËæπÂΩ¢(Âü∫‰∫éGeoJSON)ÂÜÖÁöÑÁÇπ„ÄÇÊó¢: Áî®‰∏Ä‰∏™Â§öËæπÂΩ¢ÂéªÊêúÁ¥¢„ÄÇ 123456789101112131415161718192021GET /example/_search&#123; "query":&#123; "bool": &#123; "must": &#123; "match_all": &#123;&#125; &#125;, "filter": &#123; "geo_shape": &#123; "location": &#123; "shape": &#123; "type": "envelope", "coordinates" : [[13.0, 53.0], [14.0, 52.0]] &#125;, "relation": "within" &#125; &#125; &#125; &#125; &#125;&#125; Geo Bounding Box Query ÊèèËø∞: Âú∞ÁêÜËæπÁïåÊ°ÜÊü•ËØ¢ÔºåÂç≥Áî®‰∏Ä‰∏™ËæπÁïåËåÉÂõ¥ÂéªÊêúÁ¥¢„ÄÇ 123456789101112131415161718192021222324GET /_search&#123; "query": &#123; "bool" : &#123; "must" : &#123; "match_all" : &#123;&#125; &#125;, "filter" : &#123; "geo_bounding_box" : &#123; "pin.location" : &#123; "top_left" : &#123; "lat" : 40.73, "lon" : -74.1 &#125;, "bottom_right" : &#123; "lat" : 40.01, "lon" : -71.12 &#125; &#125; &#125; &#125; &#125; &#125;&#125; Geo Distance Query ÊèèËø∞: Âú∞ÁêÜË∑ùÁ¶ªÊü•ËØ¢ 12345678910111213141516171819GET /my_locations/_search&#123; "query": &#123; "bool" : &#123; "must" : &#123; "match_all" : &#123;&#125; &#125;, "filter" : &#123; "geo_distance" : &#123; "distance" : "200km", "pin.location" : &#123; "lat" : 40, "lon" : -70 &#125; &#125; &#125; &#125; &#125;&#125; Geo Polygon Query ÊèèËø∞: Âú∞ÁêÜÂ§öËæπÂΩ¢Êü•ËØ¢, ËøîÂõûÂõ¥Ê†èÂÜÖÁöÑÊï∞ÊçÆ 123456789101112131415161718192021GET /_search&#123; "query": &#123; "bool" : &#123; "must" : &#123; "match_all" : &#123;&#125; &#125;, "filter" : &#123; "geo_polygon" : &#123; "person.location" : &#123; "points" : [ &#123;"lat" : 40, "lon" : -70&#125;, &#123;"lat" : 30, "lon" : -80&#125;, &#123;"lat" : 20, "lon" : -90&#125; ] &#125; &#125; &#125; &#125; &#125;&#125; ÂÆöÂà∂ÂåñÊü•ËØ¢ More Like This Query ÊèèËø∞: Ê†πÊçÆÂ≠óÊÆµËøõË°åÂåπÈÖçÊñáÂ≠óÁöÑÁõ∏ËØÜÂ∫¶Ôºå‰∏ÄËà¨Áî®‰∫éËøõË°åÊñáÁ´†ÊàñÂÜÖÂÆπÁöÑÁõ∏ËØÜÂ∫¶Êé®Ëçê 1234567891011GET /_search&#123; "query": &#123; "more_like_this" : &#123; "fields" : ["title", "description"], "like" : "Once upon a time", "min_term_freq" : 1, "max_query_terms" : 12 &#125; &#125;&#125; Script Query ÊèèËø∞: ËÑöÊú¨Êü•ËØ¢Ôºå‰ΩøÁî®ÁâπÂÆöÁöÑËØ≠Ê≥ïËÑöÊú¨ËøõË°åÊü•ËØ¢„ÄÇ 123456789101112131415GET /_search&#123; "query": &#123; "bool" : &#123; "filter" : &#123; "script" : &#123; "script" : &#123; "source": "doc['num1'].value &gt; 1", "lang": "painless" &#125; &#125; &#125; &#125; &#125;&#125; Percolate Query ÊèèËø∞: PercolateÊü•ËØ¢ÔºåÂèØÁî®‰∫éÂåπÈÖçÂ≠òÂÇ®Âú®Á¥¢Âºï‰∏≠ÁöÑÊü•ËØ¢, 1234567891011GET /my-index/_search&#123; "query" : &#123; "percolate" : &#123; "field" : "query", "document" : &#123; "message" : "A new bonsai tree in the office" &#125; &#125; &#125;&#125; Wrapper Query ÊèèËø∞: ÂåÖË£ÖÂô®Êü•ËØ¢, Â∞ÜÊü•ËØ¢Êù°‰ª∂Â≠óÁ¨¶‰∏≤ base64 ÁºñÁ†Å 123456789GET /_search&#123; "query" : &#123; "wrapper": &#123; // &#123;"term" : &#123; "user" : "Kimchy" &#125;&#125; "query" : "eyJ0ZXJtIiA6IHsgInVzZXIiIDogIktpbWNoeSIgfX0=" &#125; &#125;&#125; Ë∑®Â∫¶Êü•ËØ¢ Span Term Query ÊèèËø∞: Á≠â‰ª∑‰∫éterm 123456GET /_search&#123; "query": &#123; "span_term" : &#123; "user" : "kimchy" &#125; &#125;&#125; Span Multi Term Query ÊèèËø∞: Â§ö‰∏™Ë∑®Â∫¶Êü•ËØ¢ÁªÑÂêà, ÂÖÅËÆ∏ (wildcard, fuzzy, prefix, range or regexp query) ‰πã‰∏Ä 12345678910GET /_search&#123; "query": &#123; "span_multi":&#123; "match":&#123; "prefix" : &#123; "user" : &#123; "value" : "ki", "boost" : 1.08 &#125; &#125; &#125; &#125; &#125;&#125; Span First Query ÊèèËø∞: Ë∑®Â∫¶‰ºòÂÖàÊü•ËØ¢Ôºå 1234567891011GET /_search&#123; "query": &#123; "span_first" : &#123; "match" : &#123; "span_term" : &#123; "user" : "kimchy" &#125; &#125;, "end" : 3 &#125; &#125;&#125; Span Near Query ÊèèËø∞: Êé•ÂèóÂ§ö‰∏™Ë∑®Â∫¶Êü•ËØ¢ÔºåÂÖ∂ÂåπÈÖçÂøÖÈ°ªÂú®ÂΩºÊ≠§ÁöÑÊåáÂÆöË∑ùÁ¶ªÂÜÖÔºåÂπ∂‰∏îÂèØËÉΩ‰ª•Áõ∏ÂêåÁöÑÈ°∫Â∫è„ÄÇ 1234567891011121314GET /_search&#123; "query": &#123; "span_near" : &#123; "clauses" : [ &#123; "span_term" : &#123; "field" : "value1" &#125; &#125;, &#123; "span_term" : &#123; "field" : "value2" &#125; &#125;, &#123; "span_term" : &#123; "field" : "value3" &#125; &#125; ], "slop" : 12, "in_order" : false &#125; &#125;&#125; Span Or Query ÊèèËø∞: ÁªÑÂêàÂ§ö‰∏™Ë∑®Â∫¶Êü•ËØ¢ - ËøîÂõû‰∏é‰ªª‰ΩïÊåáÂÆöÊü•ËØ¢ÂåπÈÖçÁöÑÊñáÊ°£„ÄÇ 123456789101112GET /_search&#123; "query": &#123; "span_or" : &#123; "clauses" : [ &#123; "span_term" : &#123; "field" : "value1" &#125; &#125;, &#123; "span_term" : &#123; "field" : "value2" &#125; &#125;, &#123; "span_term" : &#123; "field" : "value3" &#125; &#125; ] &#125; &#125;&#125; Span Not Query ÊèèËø∞: ÂåÖË£ÖÂè¶‰∏Ä‰∏™spanÊü•ËØ¢ÔºåÂπ∂ÊéíÈô§‰∏éËØ•Êü•ËØ¢ÂåπÈÖçÁöÑ‰ªª‰ΩïÊñáÊ°£„ÄÇ 1234567891011121314151617181920GET /_search&#123; "query": &#123; "span_not" : &#123; "include" : &#123; "span_term" : &#123; "field1" : "hoya" &#125; &#125;, "exclude" : &#123; "span_near" : &#123; "clauses" : [ &#123; "span_term" : &#123; "field1" : "la" &#125; &#125;, &#123; "span_term" : &#123; "field1" : "hoya" &#125; &#125; ], "slop" : 0, "in_order" : true &#125; &#125; &#125; &#125;&#125; Span Containing Query ÊèèËø∞: Êé•ÂèóË∑®Â∫¶Êü•ËØ¢ÂàóË°®Ôºå‰ΩÜ‰ªÖËøîÂõû‰∏éÁ¨¨‰∫å‰∏™Ë∑®Â∫¶Êü•ËØ¢ÂåπÈÖçÁöÑË∑®Â∫¶„ÄÇ 123456789101112131415161718192021curl -X GET "localhost:9200/_search" -H 'Content-Type: application/json' -d'&#123; "query": &#123; "span_containing" : &#123; "little" : &#123; "span_term" : &#123; "field1" : "foo" &#125; &#125;, "big" : &#123; "span_near" : &#123; "clauses" : [ &#123; "span_term" : &#123; "field1" : "bar" &#125; &#125;, &#123; "span_term" : &#123; "field1" : "baz" &#125; &#125; ], "slop" : 5, "in_order" : true &#125; &#125; &#125; &#125;&#125;' Span Within Query ÊèèËø∞: Âè™Ë¶ÅÂÖ∂Ë∑®Â∫¶ËêΩÂú®Áî±ÂÖ∂‰ªñË∑®Â∫¶Êü•ËØ¢ÂàóË°®ËøîÂõûÁöÑË∑®Â∫¶ÂÜÖÔºåÂ∞±‰ºöËøîÂõûÂçïË∑®Â∫¶Êü•ËØ¢ÁöÑÁªìÊûú„ÄÇ 123456789101112131415161718192021curl -X GET "localhost:9200/_search" -H 'Content-Type: application/json' -d'&#123; "query": &#123; "span_within" : &#123; "little" : &#123; "span_term" : &#123; "field1" : "foo" &#125; &#125;, "big" : &#123; "span_near" : &#123; "clauses" : [ &#123; "span_term" : &#123; "field1" : "bar" &#125; &#125;, &#123; "span_term" : &#123; "field1" : "baz" &#125; &#125; ], "slop" : 5, "in_order" : true &#125; &#125; &#125; &#125;&#125;' Span Field Masking Query ÊèèËø∞: ÂÖÅËÆ∏Êü•ËØ¢‰∏çÂêåÁöÑÂ≠óÊÆµspan-nearÊàñspan-orË∑®‰∏çÂêåÂ≠óÊÆµ„ÄÇ 123456789101112131415161718192021222324252627curl -X GET "localhost:9200/_search" -H 'Content-Type: application/json' -d'&#123; "query": &#123; "span_near": &#123; "clauses": [ &#123; "span_term": &#123; "text": "quick brown" &#125; &#125;, &#123; "field_masking_span": &#123; "query": &#123; "span_term": &#123; "text.stems": "fox" &#125; &#125;, "field": "text" &#125; &#125; ], "slop": 5, "in_order": false &#125; &#125;&#125;' Êèí‰ª∂ elasticsearch-plugin install {url} ‰∏≠ÊñáÂàÜËØçÊèí‰ª∂ ÊñáÊ°£ElasticSearch ÂÆòÊñπÊñáÊ°£ÂÖ®ÊñáÊêúÁ¥¢ÂºïÊìé Elasticsearch ÂÖ•Èó®ÊïôÁ®ã]]></content>
      <categories>
        <category>ÊúçÂä°Á´Ø</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[K8s ‰∏é kubeadm ‰ΩøÁî®ÁöÑ‰∏Ä‰∫õËÆ∞ÂΩï]]></title>
    <url>%2F2019%2F03%2F08%2Fk8s%E4%B8%8Ekubeadm%E4%BD%BF%E7%94%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[ËøôÁØáÊòØ‰∫ÜËß£ k8s ËøáÁ®ãÈöèÊâãËÆ∞ÂΩï‰∏é‰πãÁõ∏ÂÖ≥ÁöÑ‰∏Ä‰∫õÊ¶ÇÂøµ DockerÂ∫ïÂ±ÇÊäÄÊúØ ÈôêÂà∂, Cgoups Áî®Êù•ÂàÜÈÖçËµÑÊ∫êÁöÑ, Â¶Çcpu,ÂÜÖÂ≠ò ÈöîÁ¶ª, NamespaceÊäÄÊúØ ÊúâÁÇπÁ±ª‰ººÂëΩÂêçÁ©∫Èó¥ÁöÑÊ¶ÇÂøµ, ÈöîÁ¶ªËøõÁ®ã ÂÆπÂô®Êú¨Ë¥®Êó¢ÁâπÊÆäËøõÁ®ã pid=1 Êñá‰ª∂Á≥ªÁªü, pivot_root/chroot ÊûÑÂª∫Êñá‰ª∂Á≥ªÁªü Êñá‰ª∂Â±Ç, Union File System k8s Â§ÑÁêÜÂÆπÂô®Èó¥ÁöÑÂÖ≥Á≥ª, Êó¢ÁºñÊéí Master Node ÁªÑ‰ª∂ÂíåËÅåË¥£ Master ËäÇÁÇπ kube-apiserver Ë¥üË¥£APIÊúçÂä° etcd ÊåÅ‰πÖÂåñÊï∞ÊçÆ kubelet Ê†∏ÂøÉ ‰∏éÂÆπÂô®‰∫§‰∫í(CRI) ÁÆ°ÁêÜÂÆø‰∏ªÊú∫(Device Plugin) ÁΩëÁªúÈÖçÁΩÆ(CNI) ÊåÅ‰πÖÂåñÂ≠òÂÇ®(CSI) kube-scheduler Ë¥üË¥£Ë∞ÉÂ∫¶ kube-controller-manager Ë¥üË¥£ÂÆπÂô®ÁºñÊéí Worker ËäÇÁÇπ kubeadmÂáÜÂ§áÊ∫êÁéØÂ¢É OS: Ubuntu 16.04 LTS Master ËäÇÁÇπ ÂáÜÂ§áÊ∫êÁéØÂ¢É 123456789curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -cat &lt;&lt;EOF &gt; /etc/apt/sources.list.d/kubernetes.listdeb http://apt.kubernetes.io/ kubernetes-xenial mainEOFapt-get update# E: The method driver /usr/lib/apt/methods/https could not be found.# sudo apt-get install apt-transport-httpsapt-get install -y docker.io kubeadm ÂáÜÂ§ákubeadm.ymlËÑöÊú¨ 123456789apiVersion: kubeadm.k8s.io/v1alpha1kind: MasterConfigurationcontrollerManagerExtraArgs: horizontal-pod-autoscaler-use-rest-clients: "true" horizontal-pod-autoscaler-sync-period: "10s" node-monitor-grace-period: "10s"apiServerExtraArgs: runtime-config: "api/all=true"kubernetesVersion: "stable-1.11" ÊâßË°å kubeadm ÂàùÂßãÂåñ 1kubeadm init config kubeadm.yml ÊâßË°åÁªìÊûú 1234567891011121314151617# ...Your Kubernetes master has initialized successfully!To start using your cluster, you need to run the following as a regular user: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/configYou should now deploy a pod network to the cluster.Run "kubectl apply -f [podnetwork].yaml" with one of the options listed at: https://kubernetes.io/docs/concepts/cluster-administration/addons/You can now join any number of machines by running the following on each nodeas root: kubeadm join 10.140.0.2:6443 --token 9tf8vg.633b2jjzzsglp9n6 --discovery-token-ca-cert-hash sha256:7bc87892cf9715e1393da6c9aace18e13bc6eeeec2ed8bbf8f01d3bccc5b0c20 ÈúÄË¶ÅÁöÑÈõÜÁæ§ÈÖçÁΩÆ 123mkdir -p $HOME/.kubesudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/configsudo chown $(id -u):$(id -g) $HOME/.kube/config ÈÉ®ÁΩ≤ÁΩëÁªúÊèí‰ª∂ 1kubectl apply -f https://git.io/weave-kube-1.6 Cluster ËäÇÁÇπ Âêå [Master ËäÇÁÇπ 1. ÂáÜÂ§áÊ∫êÁéØÂ¢É] Â∞Ü Cluster Âä†ÂÖ• Master ÁÆ°ÁêÜ ÊâßË°å [Master ËäÇÁÇπ 4. ÊâßË°åÁªìÊûú ‰∏≠ÁöÑ kubeadm join ...]:ÈáçÁÇπ: Êúâ‰∏ÄÁßçÊÉÖÂÜµ, ÂΩìkubeadm initÁîüÊàêÁöÑtokenËøáÊúüÊó∂, ÂèØ‰ΩøÁî®kubeadm token createÈáçÊñ∞ÁîüÊàê Âü∫Êú¨Êåá‰ª§123456789101112131415# Êü•ÁúãËäÇÁÇπÁä∂ÊÄÅkubectl get nodes# Êü•ÁúãËäÇÁÇπÂØπË±°ÁöÑËØ¶ÊÉÖkubectl describe node k8s-3# Êü•ÁúãËØ•ËäÇÁÇπ, kube-system Á≥ªÁªü‰∏ä pods Áä∂ÊÄÅkubectl get pods -n kube-system# ÂÆâË£ÖÊèí‰ª∂, ‰æãÂ¶Ç: ÂÆâË£ÖÁΩëÁªúÊèí‰ª∂kubectl apply -f https://git.io/weave-kube-1.6# ÁßªÈô§ÊâÄÊúâ Taint, "-" ÂåπÈÖç ":xx"# Ê≥®ÊÑè: ÂçïÊú∫ Master ÈúÄË¶Å‰ΩøÁî®kubectl taint nodes --all node-role.kubernetes.io/master- Êèí‰ª∂1234567# Dashboard, ‰ª™Ë°®Áõò, È°πÁõÆÂú∞ÂùÄ: https://github.com/kubernetes/dashboardkubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v1.10.1/src/deploy/recommended/kubernetes-dashboard.yaml# Rook, ‰∫ëÂ≠òÂÇ®, È°πÁõÆÂú∞ÂùÄ: https://github.com/rook/rookkubectl apply -f https://raw.githubusercontent.com/rook/rook/master/cluster/examples/kubernetes/ceph/operator.yamlkubectl apply -f https://raw.githubusercontent.com/rook/rook/master/cluster/examples/kubernetes/ceph/cluster.yaml È´òÂèØÁî®È°πÁõÆ12# RocketMQkubectl apply -f https://raw.githubusercontent.com/apache/rocketmq-externals/master/rocketmq-docker/4.4.0/kubernetes/deployment.yaml ÁºñÊéíÊñá‰ª∂123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051apiVersion: extensions/v1beta1 # ÂøÖÈÄâÔºåÁâàÊú¨Âè∑kind: Deployment # ÂøÖÈÄâmetadata: # ÂÖÉÊï∞ÊçÆ name: rocketmq# =========== ÊéßÂà∂Âô®ÈÉ®ÂàÜ ===========spec: replicas: 1 # Pods Êï∞Èáè# =========== Pods ÈÉ®ÂàÜ =========== template: metadata: labels: app: rocketmq spec: containers: - name: broker image: rocketmqinc/rocketmq:4.4.0 command: ["sh","mqbroker", "-n","localhost:9876"] imagePullPolicy: IfNotPresent ports: - containerPort: 10909 # ÂÆπÂô®Á´ØÂè£ # - hostPort: 10909 # ‰∏ªÊú∫Á´ØÂè£ - containerPort: 10911 volumeMounts: - mountPath: /root/logs name: brokeroptlogs - mountPath: /root/store name: brokeroptstore - name: namesrv image: rocketmqinc/rocketmq:4.4.0 command: ["sh","mqnamesrv"] imagePullPolicy: IfNotPresent ports: - containerPort: 9876 volumeMounts: - mountPath: /root/logs name: namesrvoptlogs - mountPath: /root/store name: namesrvoptstore volumes: - name: brokeroptlogs hostPath: path: /data/broker/logs - name: brokeroptstore hostPath: path: /data/broker/store - name: namesrvoptlogs hostPath: path: /data/namesrv/logs - name: namesrvoptstore hostPath: path: /data/namesrv/store Áü•ËØÜÁÇπ: service¬∑pods¬∑node¬∑cluster¬∑container Service: ‰∏ÄÁªÑ pods. Áü•ËØÜÁÇπ: nodePort¬∑port¬∑targetPort¬∑containerPortserviceÁõ∏ÂÖ≥ Service ÁöÑÁ±ªÂûã‰∏∫ ClusterIP port: Êö¥Èú≤Âú® Service(Cluster IP) ‰∏äÁöÑÁ´ØÂè£, Âç≥ÈõÜÁæ§‰∏≠‰ΩøÁî®. service Êö¥Èú≤Âú® cluster ip ‰∏äÁöÑÁ´ØÂè£Ôºå:port ÊòØÊèê‰æõÁªôÈõÜÁæ§ÂÜÖÈÉ®ÂÆ¢Êà∑ËÆøÈóÆ service ÁöÑÂÖ•Âè£ targetPort: ÊåáÂÆö pod ‰∏äÁöÑÁ´ØÂè£, ‰ºöË¢´Êò†Â∞ÑÂà∞ port ‰∏ä. targetPort ÊòØ pod ‰∏äÁöÑÁ´ØÂè£Ôºå‰ªé port Âíå nodePort ‰∏äÂà∞Êù•ÁöÑÊï∞ÊçÆÊúÄÁªàÁªèËøá kube-proxy ÊµÅÂÖ•Âà∞ÂêéÁ´Ø pod ÁöÑ targetPort ‰∏äËøõÂÖ•ÂÆπÂô® Service ÁöÑÁ±ªÂûã‰∏∫ NodePort nodePort: Áî®‰∫éÈõÜÁæ§Â§ñÈÉ®ËÆøÈóÆ Cluster IP Âè™ËÉΩÈõÜÁæ§ÂÜÖÈÉ®ËÆøÈóÆ(Ê∫ê‰∏éÁõÆÊ†áÈúÄË¶ÅÊª°Ë∂≥‰∏§‰∏™Êù°‰ª∂: kube-proxyÊ≠£Â∏∏ËøêË°åÔºåË∑®‰∏ªÊú∫ÂÆπÂô®ÁΩëÁªúÈÄö‰ø°Ê≠£Â∏∏)ÔºåNodePort ‰ºöÂú®ÊØè‰∏™ kubelet ËäÇÁÇπÁöÑÂÆø‰∏ªÊú∫ÂºÄÂêØ‰∏Ä‰∏™Á´ØÂè£ÔºåÁî®‰∫éÂ∫îÁî®ÈõÜÁæ§Â§ñÈÉ®ËÆøÈóÆ„ÄÇ ÂÆπÂô®Áõ∏ÂÖ≥Á±ª‰ººdocker -p containerPort: ÂÆπÂô®ÈúÄË¶ÅÊö¥Èú≤ÁöÑÁ´ØÂè£ hostPort: ÂÆπÂô®Êö¥Èú≤ÁöÑÁ´ØÂè£Êò†Â∞ÑÂà∞ÁöÑ‰∏ªÊú∫Á´ØÂè£ÔºåÈªòËÆ§‰∏éContainerÁõ∏Âêå ÈöèÁ¨î Á¥ßÂØÜ‰∫§‰∫íÂÖ≥Á≥ª, Pod ÂÖ±‰∫´‰∏ÄÁªÑ Network Namespace, ‰∏ÄÁªÑÊï∞ÊçÆÂç∑ Service ÂàÜÈÖç Pod Âõ∫ÂÆöÁöÑËôöÊãüIP Pod Ê¥ÅÁôñÊú∫Âà∂, Taint/Toleration kubeadm ÊñπÊ°à, ‰∏ÄÈîÆÈÉ®ÁΩ≤, ÂèØÈÄöËøáÈÖçÁΩÆÂÆûÁé∞Áîü‰∫ßÁéØÂ¢É‰ΩøÁî®(Êú™Âà∞GAÈò∂ÊÆµ) minikuke ÊñπÊ°à, ‰∏ÄÈîÆÈÉ®ÁΩ≤, ‰ªÖËÉΩÁî®‰∫éÊú¨Âú∞ÂÆûÈ™å kops ÊñπÊ°à, ÂèØÁî®‰∫éÈÉ®ÁΩ≤Áîü‰∫ßÁéØÂ¢É]]></content>
      <categories>
        <category>K8s</category>
      </categories>
      <tags>
        <tag>K8s</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰ΩïÂÅöÂçïÂÖÉÊµãËØï]]></title>
    <url>%2F2019%2F02%2F02%2F%E5%A6%82%E4%BD%95%E5%81%9A%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%2F</url>
    <content type="text"><![CDATA[Â¶Ç‰ΩïÂú®È°πÁõÆ‰∏≠ÂÅöÂ•ΩÂçïÂÖÉÊµãËØïÔºåÂú®Ê≠§ÊÄªÁªìÂíåËÆ∞ÂΩï ÂçïÂÖÉÊµãËØïÊ†óÂ≠ê ÂêÑÂ±ÇÊµãËØïÊñπÂºèController Â±Ç ‰ΩøÁî® Rest Ê®°ÊãüËØ∑Ê±Ç Mock Áõ∏ÂÖ≥ Service Êé•Âè£ Service Â±Ç ‰ΩøÁî® Mockit Mock ÂáΩÊï∞ Mapper Â±Ç- ‰ΩøÁî® @Sql Âà∂ÈÄ†Êï∞ÊçÆÈìæÊé• ÂèÇËÄÉÁ§∫‰æã Â∞èË∞à Java ÂçïÂÖÉÊµãËØï - ËäãÈÅìÊ∫êÁ†Å - CSDNÂçöÂÆ¢ ApolloÔºàÈòøÊ≥¢ÁΩóÔºâ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éÈ°πÁõÆÁªìÊûÑÂàíÂàÜ]]></title>
    <url>%2F2019%2F01%2F12%2F%E5%85%B3%E4%BA%8E%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%88%92%E5%88%86%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éÈ°πÁõÆÁªìÊûÑÂàíÂàÜÁöÑÊÄùËÄÉÂíåÊÄªÁªì È°πÁõÆÂàÜÂ±Ç Controller ÂèÇÊï∞Â∏∏ËßÑÂêàÊ≥ïÊÄßÊ†°È™å ÊØè‰∏™ControllerÂáΩÊï∞ÂØπÂ∫î‰∏Ä‰∏™ServiceÂáΩÊï∞ Service ‰∏öÂä°Â±ÇÔºåÂ§çÁî®ÊÄß‰Ωé ÂèÇÊï∞‰∏öÂä°ÂêàÊ≥ïÊÄßÊ†°È™åÔºå‰ΩøÁî® throw Â§ÑÁêÜÂºÇÂ∏∏ Manager ÂèØÂ§çÁî®ÈÄªËæëÂ±Ç ‰∏ªË¶ÅÊòØCache„ÄÅMQ„ÄÅÂ§çÂêàManager„ÄÅRCP„ÄÅHTTPÁ≠âÊúçÂä° Mapper Êï∞ÊçÆÂ∫ìËÆøÈóÆÂ±Ç 1. Âè™ÂÖÅËÆ∏Ëá™Â∑±ÁöÑServiceËÆøÈóÆÔºåÂÖ∂‰ªñServiceËÆøÈóÆ‰ªÖËÉΩÈÄöËøáÂÖ∂ServiceÈ¢ÜÂüüÊ®°ÂûãDO Data Object ‰∏éÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÂØπÂ∫îÔºå‰Ωú‰∏∫ Mapper ÁöÑËøîÂõûÂÄº DTO Data Transfer Object Êï∞ÊçÆ‰º†ËæìÂØπË±°Ôºå‰Ωú‰∏∫ Service Êàñ Manager ÁöÑËøîÂõûÂÄº BO Business Object ‰∏öÂä°ÂØπË±°Ôºå‰Ωú‰∏∫ Service ÁöÑËøîÂõûÂÄºÔºåÂ∞ÅË£Ö‰∫Ü‰∏öÂä°ÈÄªËæëÁöÑÂØπË±° AO Application Object Â∫îÁî®ÂØπË±°Ôºå VO View Object ÊòæÁ§∫Â±ÇÂØπË±°ÔºåÈÄöÂ∏∏‰∏∫ Web Â±ÇËøîÂõûÂÜÖÂÆπÊàñÊ®°ÁâàÊ∏≤Êüì‰º†ËæìÂØπË±° Query Êï∞ÊçÆÊü•ËØ¢ÂØπË±°Ôºå‰∏äÂ±ÇÂ∞ÅË£ÖÁöÑÊü•ËØ¢ÂØπË±° ÁÆÄÂåñÂêéÁöÑÊñπÊ°à Mapper Â±ÇËøîÂõûÁöÑ DO ‰ªÖÂÖÅËÆ∏‰º†ÂÖ•Âà∞ Service Êàñ Manager Service Êàñ Manager ËøîÂõûÁöÑ VO ‰ªÖÂÖÅËÆ∏‰º†ÂÖ•Âà∞ Controller Êàñ TService ÊÄªÁªì12C -Query‚Äî&gt; S ‚ÄîDTO‚Äî&gt; MC &lt;‚ÄîVO- S &lt;‚ÄîDO- M ÈìæÊé•ÂéüÊñáÂú∞ÂùÄ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018 ÂõæÁâáÂ¢ô]]></title>
    <url>%2F2018%2F12%2F31%2F2018%20%E5%9B%BE%E7%89%87%E5%A2%99%2F</url>
    <content type="text"></content>
      <categories>
        <category>ÁîüÊ¥ª</category>
      </categories>
      <tags>
        <tag>ÂõæÁâáÂ¢ô</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[React‰ΩøÁî®ËøáÁ®ã‰∏≠ÁöÑËÆ∞ÂΩïÁÇπ]]></title>
    <url>%2F2018%2F11%2F20%2FReact%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%AE%B0%E5%BD%95%E7%82%B9%2F</url>
    <content type="text"><![CDATA[React ‰ΩøÁî®ËøáÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õËÆ∞ÂΩï.. ÂÆö‰πâÊ∏ÖÊô∞ÂèØÁª¥Êä§ÁöÑÊé•Âè£ ÈÅøÂÖç renderÊõø‰ª£ÊñπÂºè 123const SplitTimes = (props) =&gt; &#123; //TODO: ËøîÂõûJSX&#125; ÂõûË∞ÉÁ±ª props Â±ûÊÄß‰ΩøÁî®ÂâçÁºÄon 1&lt;div onDone=&#123;&#125;/&gt; Â∞ΩÈáèÂÜô props-type ÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®ÂÆûÁé∞ Ëß£ÊûÑËµãÂÄº 123constructor() &#123; super(...arguments); //Ê∞∏ËøúÊ≠£Á°ÆÔºÅ&#125; ÈÅøÂÖçÂÜÖËÅîÂáΩÊï∞ 1234567&lt;ControlButtons activated=&#123;this.state.isStarted&#125; onStart=&#123;() =&gt; &#123; /* TODO */&#125;&#125; onPause=&#123;() =&gt; &#123; /* TODO */&#125;&#125; onReset=&#123;() =&gt; &#123; /* TODO */&#125;&#125; onSplit=&#123;() =&gt; &#123; /* TODO */&#125;&#125;/&gt; Âà©Áî®Â±ûÊÄßÂàùÂßãÂåñÔºàproperty initializerÔºâÊù•ÂÆö‰πâ state ÂíåÊàêÂëòÂáΩÊï∞„ÄÇ 1234567891011121314state = &#123; isStarted: false, startTime: null, currentTime: null, splits: [], &#125;onReset = () =&gt; &#123; this.setState(&#123; startTime: null, currentTime: null, splits: [], &#125;); &#125; ÁªÑ‰ª∂ÂåñÊ†∑Âºè ÈÅøÂÖçÂÜÖËÅî style123&lt;h1 style=&#123;&#123; 'font-family': 'monospace' &#125;&#125;&gt;&#123;ms2Time(milliseconds)&#125;&lt;/h1&gt; ËÅ™ÊòéÁªÑ‰ª∂ÂíåÂÇªÁìúÁªÑ‰ª∂ ‰∏çÁî® PureComponent ÂÜô‰∏Ä‰∏™ÂÇªÁìúÁªÑ‰ª∂123456const Joke = React.memo(() =&gt; ( &lt;div&gt; &lt;img src=&#123;SmileFace&#125; /&gt; &#123;this.props.value || 'loading...' &#125; &lt;/div&gt;)); render props Ê®°Âºè È´òÈò∂ÁªÑ‰ª∂ ÂèØ‰ª•ÊòØÊôÆÈÄöÂ±ûÊÄßÔºå‰πüÂèØ‰ª•ÊòØchildren 123456789101112131415161718192021const Auth= (props) =&gt; &#123; const userName = getUserName(); if (userName) &#123; const allProps = &#123;userName, ...props&#125;; return ( &lt;React.Fragment&gt; &#123;props.login(allProps)&#125; &lt;/React.Fragment&gt; ); &#125; else &#123; &lt;React.Fragment&gt; &#123;props.nologin(props)&#125; &lt;/React.Fragment&gt; &#125;&#125;; &lt;Auth login=&#123;(&#123;userName&#125;) =&gt; &lt;h1&gt;Hello &#123;userName&#125;&lt;/h1&gt;&#125; nologin=&#123;() =&gt; &lt;h1&gt;Please login&lt;/h1&gt;&#125; /&gt; Êèê‰æõËÄÖÊ®°Âºè Êñ∞Áâà-Êèê‰æõËÄÖÊ®°Âºè1234567891011121314151617181920const ThemeContext = React.createContext();const ThemeProvider = ThemeContext.Provider;const ThemeConsumer = ThemeContext.Consumer;class Subject extends React.Component &#123; render() &#123; return ( &lt;ThemeConsumer&gt; &#123; (theme) =&gt; ( &lt;h1 style=&#123;&#123;color: theme.mainColor&#125;&#125;&gt; &#123;this.props.children&#125; &lt;/h1&gt; ) &#125; &lt;/ThemeConsumer&gt; ); &#125;&#125; ÁªÑÂêàÁªÑ‰ª∂ Ê®°Âºè = ÈóÆÈ¢òÂú∫ÊôØ + Ëß£ÂÜ≥ÂäûÊ≥ï ÁªÑÂêàÁªÑ‰ª∂1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// Ê°à‰æã &lt;Tabs&gt; &lt;TabItem&gt;One&lt;/TabItem&gt; &lt;TabItem&gt;Two&lt;/TabItem&gt; &lt;TabItem&gt;Three&lt;/TabItem&gt; &lt;/Tabs&gt;// TabItemconst TabItem = (props) =&gt; &#123; const &#123;active, onClick&#125; = props; const tabStyle = &#123; 'max-width': '150px', color: active ? 'red' : 'green', border: active ? '1px red solid' : '0px', &#125;; return ( &lt;h1 style=&#123;tabStyle&#125; onClick=&#123;onClick&#125;&gt; &#123;props.children&#125; &lt;/h1&gt; );&#125;;// Tabsclass Tabs extends React.Component &#123; state = &#123; activeIndex: 0 &#125; render() &#123; const newChildren = React.Children.map(this.props.children, (child, index) =&gt; &#123; if (child.type) &#123; return React.cloneElement(child, &#123; active: this.state.activeIndex === index, onClick: () =&gt; this.setState(&#123;activeIndex: index&#125;) &#125;); &#125; else &#123; return child; &#125; &#125;); return ( &lt;Fragment&gt; &#123;newChildren&#125; &lt;/Fragment&gt; ); &#125;&#125; React ÂçïÂÖÉÊµãËØï ÊµãËØïÊ°ÜÊû∂ Jest ÁªÑ‰ª∂Áä∂ÊÄÅ props ÊòØÁªÑ‰ª∂Â§ñ‰º†ÈÄíËøõÊù•ÁöÑÊï∞ÊçÆÔºåstate ‰ª£Ë°®ÁöÑÂ∞±ÊòØ React ÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅ„ÄÇ Âà§Êñ≠‰∏Ä‰∏™Êï∞ÊçÆÊîæÂú®Âì™ Â¶ÇÊûúÊï∞ÊçÆÁî±Â§ñÈÉ®‰º†ÂÖ•ÔºåÊîæÂú® props ‰∏≠Ôºõ Â¶ÇÊûúÊòØÁªÑ‰ª∂ÂÜÖÈÉ®Áä∂ÊÄÅÔºåÊòØÂê¶Ëøô‰∏™Áä∂ÊÄÅÊõ¥ÊîπÂ∫îËØ•Á´ãÂàªÂºïÂèë‰∏ÄÊ¨°ÁªÑ‰ª∂ÈáçÊñ∞Ê∏≤ÊüìÔºüÂ¶ÇÊûúÊòØÔºåÊîæÂú® state ‰∏≠Ôºõ‰∏çÊòØÔºåÊîæÂú®ÊàêÂëòÂèòÈáè‰∏≠„ÄÇ ÂáΩÊï∞ÂèÇÊï∞ÁöÑ state Êõ¥Êñ∞12345678// 1function increment(state, props) &#123; return &#123;count: state.count + 1&#125;;&#125;this.setState(increment);// 2 this.setState((preState, props) =&gt; (&#123;&#125;) Redux ‰ΩøÁî®Ê®°Âºè connect( mapStateToProps , mapDispatchToProps ) ÂâçËÄÖÊää state Êò†Â∞ÑÂà∞ props ‰∏ä ÂêéËÄÖÊää dispatch Êò†Â∞ÑÂà∞ props ‰∏ä123456789// ÂêéÁª≠ÂÜôÊ≥ïconnect(( state )=&gt;(&#123; count: state.count,&#125;), ( dispatch )=&gt;(&#123; onIncrement: () =&gt; dispatch(&#123;type: 'INCREMENT'&#125;), $fetch: (&#123;payload, callback&#125;)=&gt; dispatch(&#123;type: 'fetch', payload, callback&#125;),&#125;))// this.props.$fetch(&#123;&#125;) React Router Ë∑ØÁî±ÁöÑÁßçÁ±ª HashRouter /#/about BrowserRouter /about Êé®Ëçê Êã•Êä±ÂºÇÊ≠•Ê∏≤Êüì Âú® componentDidMount ÂèëËµ∑ÁΩëÁªúËØ∑Ê±Ç]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJava IO„ÄÅNIO„ÄÅAIO]]></title>
    <url>%2F2018%2F07%2F02%2F%E5%85%B3%E4%BA%8EJava%20IO%E3%80%81NIO%E3%80%81AIO%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJavaÂ∏∏Áî®Êï∞ÊçÆÁªìÊûÑÔºåÂêéÊúüÁªßÁª≠Êï¥ÁêÜ ÂÖ≥‰∫é IO BIO ÂêåÊ≠•Âπ∂ÈòªÂ°û NIO ÂêåÊ≠•ÈùûÈòªÂ°û AIO(NIO.2) JDK7, ÂºÇÊ≠•ÈùûÈòªÂ°û NIO Channel ÈÄöÈÅì ‰º†Ëæì Buffer ÁºìÂÜ≤Âå∫ Â≠òÂÇ® Selectors Â§öË∑ØÂ§çÁî®Âô® ÁõëÂê¨ Channel IO Áä∂ÂÜµ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349/** * Created by hocgin on 2018/7/2. * email: hocgin@gmail.com * NIO * Non-blocking IOÔºàÈùûÈòªÂ°ûIOÔºâ * - Selectors Â§öË∑ØÂ§çÁî®Âô®ÔºåÁî®‰∫éÁõëÊéß SelectableChannel IOÁä∂ÂÜµ * -- SelectableChannel * ----SocketChannel * ----ServerSocketChannel * ----DatagramChannel * &lt;p&gt; * ----Pipe.SinkChannel ÂçïÂêëÁÆ°ÈÅì-ÂÜô * ----Pipe.SourceChannel ÂçïÂêëÁÆ°ÈÅì-ËØª * &lt;p&gt; * - Channels * &lt;p&gt; * - Buffers * -- capacity ÊÄªÂÆπÈáè * -- limit ÁïåÈôêÔºåÂèØÊìç‰ΩúÊúÄÂ§ßËåÉÂõ¥ * -- position ÂΩìÂâçÊìç‰Ωú‰ΩçÁΩÆ * -- mark Ê†áËÆ∞ÔºåËÆ∞ÂΩïposition * &lt;p&gt; * 0 &lt;= mark &lt;= position &lt;= limit &lt;= capacity */public class NIOTest &#123; /** * ÈòªÂ°ûÊ®°ÂºèÁöÑ Socket NIO */ @Test public void nio_client() &#123; String path = "/Users/hocgin/Document/Projects/GitHub/23-Day/src/test/java/in/hocg/Test.java"; try ( SocketChannel channel = SocketChannel.open(new InetSocketAddress("127.0.0.1", 9898)); FileChannel inChannel = FileChannel.open(Paths.get(path), StandardOpenOption.READ); ) &#123; ByteBuffer buffer = ByteBuffer.allocate(1024); while (inChannel.read(buffer) != -1) &#123; buffer.flip(); channel.write(buffer); buffer.clear(); &#125; channel.shutdownOutput(); /** * Êé•Êî∂ÂèçÈ¶à */ while (channel.read(buffer) != -1) &#123; buffer.flip(); System.out.println(new String(buffer.array(), 0, buffer.limit())); buffer.clear(); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; /** * ÈòªÂ°ûÊ®°ÂºèÁöÑ Socket NIO */ @Test public void nio_server() &#123; try ( ServerSocketChannel channel = ServerSocketChannel.open(); ) &#123; channel.bind(new InetSocketAddress(9898)); SocketChannel socketChannel = channel.accept(); ByteBuffer buffer = ByteBuffer.allocate(1024); while (socketChannel.read(buffer) != -1) &#123; buffer.flip(); System.out.println(new String(buffer.array(), 0, buffer.limit())); buffer.clear(); &#125; buffer.put("Êé•Êî∂ÂÆåÊØï".getBytes()); buffer.flip(); socketChannel.write(buffer); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; /** * ÈùûÈòªÂ°ûÊ®°ÂºèÁöÑ Socket NIO */ @Test public void nio_client2() &#123; try ( SocketChannel channel = SocketChannel.open(new InetSocketAddress("127.0.0.1", 9898)); ) &#123; // ÈùûÈòªÂ°û channel.configureBlocking(false); ByteBuffer buffer = ByteBuffer.allocate(1024); /** * ÂèëÈÄÅ‰ø°ÊÅØ */ buffer.put(LocalDateTime.now().toString().getBytes()); buffer.flip(); channel.write(buffer); /** * Êé•Êî∂ÂèçÈ¶à */ &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; /** * ÈùûÈòªÂ°ûÊ®°ÂºèÁöÑ Socket NIO */ @Test public void nio_server2() &#123; try ( ServerSocketChannel channel = ServerSocketChannel.open(); ) &#123; // ÈùûÈòªÂ°û channel.configureBlocking(false); channel.bind(new InetSocketAddress(9898)); Selector selector = Selector.open(); /** * Ê≥®ÂÜåÈÄöÈÅì ÊåáÂÆö‰∫ã‰ª∂Á±ªÂûã */ channel.register(selector, SelectionKey.OP_ACCEPT); while (selector.select() &gt; 0) &#123; Iterator&lt;SelectionKey&gt; iterator = selector.selectedKeys().iterator(); while (iterator.hasNext()) &#123; SelectionKey action = iterator.next(); if (action.isAcceptable()) &#123; SocketChannel socketChannel = channel.accept(); socketChannel.configureBlocking(false); socketChannel.register(selector, SelectionKey.OP_READ); &#125; else if (action.isReadable()) &#123; SocketChannel socketChannel = (SocketChannel) action.channel(); ByteBuffer buffer = ByteBuffer.allocate(1024); try &#123; while (socketChannel.read(buffer) != -1) &#123; buffer.flip(); String s = new String(buffer.array(), 0, buffer.limit()); if (!Strings.isNullOrEmpty(s)) &#123; System.out.println(s); &#125; buffer.clear(); &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; iterator.remove(); &#125; &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; @Test public void aio_server() throws IOException, InterruptedException &#123;// AsynchronousChannelGroup group = AsynchronousChannelGroup.withCachedThreadPool(Executors.newCachedThreadPool(), 10); AsynchronousServerSocketChannel channel = AsynchronousServerSocketChannel.open(); channel.bind(new InetSocketAddress(9898)); channel.accept(null, new CompletionHandler&lt;AsynchronousSocketChannel, Void&gt;() &#123; final ByteBuffer buffer = ByteBuffer.allocate(1024); @Override public void completed(AsynchronousSocketChannel result, Void attachment) &#123; try &#123; result.read(buffer).get(); buffer.flip(); System.out.println(String.format("ÊúçÂä°Á´Ø ÊàêÂäü :%s", new String(buffer.array()).trim())); result.close(); channel.accept(null, this); &#125; catch (IOException | InterruptedException | ExecutionException e) &#123; e.printStackTrace(); &#125; &#125; @Override public void failed(Throwable exc, Void attachment) &#123; System.out.println("failed"); &#125; &#125;); LockSupport.park(); &#125; @Test public void aio_client() throws IOException &#123; AsynchronousSocketChannel channel = AsynchronousSocketChannel.open(); channel.connect(new InetSocketAddress("127.0.0.1", 9898), null, new CompletionHandler&lt;Void, Void&gt;() &#123; @Override public void completed(Void result, Void attachment) &#123; ByteBuffer buffer = ByteBuffer.allocate(1024); buffer.put("‰Ω†Â•Ω".getBytes()); buffer.flip(); channel.write(buffer); &#125; @Override public void failed(Throwable exc, Void attachment) &#123; System.out.println(exc); &#125; &#125;); &#125; /** * Buffer * * @throws IOException */ @Test public void buffer() throws IOException &#123; ByteBuffer buffer = ByteBuffer.allocate(1024); System.out.println(buffer.position()); // 0 System.out.println(buffer.limit()); // 1024 System.out.println(buffer.capacity()); // 1024 buffer.put("asd".getBytes()); buffer.flip(); // ËÆæÁΩÆËØªÂèñÁöÑËåÉÂõ¥ÈôêÂà∂Ëá≥ position byte[] dst = new byte[buffer.limit()]; buffer.get(dst); System.out.println(new String(dst, 0, dst.length)); buffer.rewind(); // ÈáçËØª position = 0 mark = -1 buffer.clear(); // Ê∏ÖÁ©∫ position = 0 limit = capacity mark = -1 buffer.mark(); // Ê†áËÆ∞ mark = position buffer.reset(); // positionÊÅ¢Â§ç‰∏∫Ê†áËÆ∞‰ΩçÁΩÆ position = mark buffer.hasRemaining(); // ÊòØÂê¶ÊúâÂâ©‰ΩôÊï∞ÊçÆ position &lt; limit buffer.remaining(); // Ââ©‰ΩôÊï∞Èáè limit - position &#125; /** * getChannel * - Êú¨Âú∞ * - FileInputStream/FileOutputStream * - RandomAccessFile * - ÁΩëÁªú * - Socket * - ServerSocket * - DatagramSocket * - JDK 7 * - xxChannel.open() * - Files.newByteChannel() * - Channels.newXXX */ @Test public void channel() throws IOException &#123; String path = "/Users/hocgin/Document/Projects/GitHub/23-Day/src/test/java/in/hocg/Test.java"; FileInputStream in = new FileInputStream(path); ReadableByteChannel channel = Channels.newChannel(in); ByteBuffer buffer = ByteBuffer.allocate(1024); while (channel.read(buffer) != -1) &#123; buffer.flip(); System.out.println(String.format("%s", new String(buffer.array(), 0, buffer.limit()))); buffer.clear(); &#125; channel.close(); in.close(); &#125; /** * Áõ¥Êé•ÁºìÂÜ≤Âå∫ */ @Test public void channel2() &#123; String path = "/Users/hocgin/Document/Projects/GitHub/23-Day/src/test/java/in/hocg/Test.java"; try ( FileChannel inChannel = FileChannel.open(Paths.get(path), StandardOpenOption.READ); FileChannel outChannel = FileChannel.open(Paths.get(path), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE) ) &#123; MappedByteBuffer inMap = inChannel.map(FileChannel.MapMode.READ_ONLY, 0, inChannel.size()); MappedByteBuffer outMap = outChannel.map(FileChannel.MapMode.READ_WRITE, 0, inChannel.size()); byte[] bytes = new byte[inMap.limit()]; inMap.get(bytes); outMap.put(bytes); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; /** * ÈÄöÈÅìÈó¥ÁöÑÊï∞ÊçÆ‰º†Ëæì(Áõ¥Êé•ÁºìÂÜ≤Âå∫) */ @Test public void transfer() &#123; String path = "/Users/hocgin/Document/Projects/GitHub/23-Day/src/test/java/in/hocg/Test.java"; try ( FileChannel inChannel = FileChannel.open(Paths.get(path), StandardOpenOption.READ); FileChannel outChannel = FileChannel.open(Paths.get(path), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE) ) &#123; inChannel.transferTo(0, inChannel.size(), outChannel);// inChannel.transferFrom(outChannel,0, inChannel.size()); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; /** * ÂàÜÊï£ËØªÂèñ(Scatter) * ËÅöÈõÜÂÜôÂÖ•(Gather) */ @Test public void scatter() &#123; String path = "/Users/hocgin/Document/Projects/GitHub/23-Day/src/test/java/in/hocg/Test.java"; try ( RandomAccessFile f = new RandomAccessFile(path, "rw"); ) &#123; FileChannel channel = f.getChannel(); ByteBuffer allocate1 = ByteBuffer.allocate(1024); ByteBuffer allocate2 = ByteBuffer.allocate(1024); ByteBuffer[] all = &#123;allocate1, allocate2&#125;; // ÂàÜÊï£ËØªÂèñ channel.read(all); // ËÅöÈõÜÂÜôÂÖ• channel.write(all); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; public static void main(String[] args) &#123; SortedMap&lt;String, Charset&gt; map = Charset.availableCharsets(); System.out.println(map); System.out.println(Charset.defaultCharset()); Charset charset = Charset.forName("UTF-8"); CharsetEncoder charsetEncoder = charset.newEncoder(); CharsetDecoder charsetDecoder = charset.newDecoder(); &#125; &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>IO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî® GitLab Êù•ÂØπ Spring Boot È°πÁõÆËøõË°å CI/CD]]></title>
    <url>%2F2018%2F06%2F20%2F%E4%BD%BF%E7%94%A8%20GitLab%20%E6%9D%A5%E5%AF%B9%20Spring%20Boot%20%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%20CI%3ACD%2F</url>
    <content type="text"><![CDATA[Âà©Áî® GitLab Pipelines Êù•ËøõË°åÈ°πÁõÆÁöÑÊåÅÁª≠ÈõÜÊàêÂíåÈÉ®ÁΩ≤„ÄÇ ‰ΩøÁî® GitLab CI ÊûÑÂª∫ Spring Boot È°πÁõÆÊê≠Âª∫ GitLab CE ‰ΩøÁî® Docker ÊñπÂºèÊê≠Âª∫ GitLab CE 12345678910sudo docker run --detach \ --publish 443:443 \ --publish 80:80 \ --publish 2222:22 \ --name gitlab \ --restart always \ --volume /data/gitlab/config:/etc/gitlab \ --volume /data/gitlab/logs:/var/log/gitlab \ --volume /data/gitlab/data:/var/opt/gitlab \ gitlab/gitlab-ce:latest Êê≠Âª∫ GitLab Runner123456sudo docker run --rm -t -d -i -p 8084:8080 \ -v /data/gitlab-runner:/etc/gitlab-runner \ -v /var/run/docker.sock:/var/run/docker.sock \ --add-host ad4aac43c567:172.17.0.2 \ --name gitlab-runner \ gitlab/gitlab-runner Ê≠§Â§ÑÈúÄÊ≥®ÊÑè--add-hostËØ∑Ëá™Ë°åÊõøÊç¢‰∏∫GitLab CE Docker ÂÆπÂô® IDÔºåÊ≠§Â§ÑÊòØ‰∏∫‰∫ÜËÆ© GitLab CE Docker ÂÆπÂô®ÂèØ‰ª•Ë¢´ GitLab Runner ËÆøÈóÆÂà∞, Â¶ÇÊûú‰ΩøÁî®ÂÖ¨ÁΩë IP ÂèØ‰ª•ÂøΩÁï•„ÄÇ Â¶ÇÊûúÈÄöËøá/etc/hosts‰ªçÁÑ∂Êó†Ê≥ïËß£ÂÜ≥HOSTÈóÆÈ¢ò, ËØ∑Ëá™Ë°åÊõ¥Êîπ/data/gitlab-runner/config.tomlÊñá‰ª∂ÔºåÂú®[runners.docker]ËäÇÁÇπ‰∏ãÈù¢Ê∑ªÂä†extra_hosts = [&quot;ad4aac43c567:172.17.0.2&quot;]„ÄÇ Ê≥®ÂÜå Runner12345678910sudo docker exec -it gitlab-runner gitlab-runner register -n \ --url http://192.168.1.13/ \ --registration-token pfHxurfRMBctWwkqrt1c \ --tag-list=docker-privileged \ --description "dockersock" \ --docker-privileged=false \ --docker-image "docker:latest" \ --docker-volumes /var/run/docker.sock:/var/run/docker.sock \ --docker-volumes /root/m2:/root/.m2 \ --executor docker url: GitLab CE ÈáåÈù¢ CI Ê†èÁõÆÊü•Áúã registration-token: GitLab CE ÈáåÈù¢ CI Ê†èÁõÆÊü•Áúã tag-list: Ê†áÁ≠æ, ÂêéÁª≠Áî®‰∫éÊâßË°åÊ≠•È™§Êó∂ÊåáÂÆö Runner description: ÊèèËø∞ docker-image: Â§ñÂ±Ç‰ΩøÁî®ÁöÑ Docker ÈïúÂÉè executor: ÊâßË°åÂô® ÁºñÂÜô .gitlab-ci.ymlÁÇπÂáª.gitlab-ci.ymlÊü•Áúã ‰∏ÄÈîÆÈÉ®ÁΩ≤ÁÇπÂáªËé∑Âèñ, ËÆ∞Âæó‰øÆÊîπHOST„ÄÇ Ê∫êÁ†ÅGitLab-CI]]></content>
      <categories>
        <category>DevOps</category>
      </categories>
      <tags>
        <tag>DevOps</tag>
        <tag>GitLab</tag>
        <tag>CI/CD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJava-Êï∞ÊçÆÁªìÊûÑ]]></title>
    <url>%2F2018%2F03%2F20%2F%E5%85%B3%E4%BA%8EJava-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJavaÂ∏∏Áî®Êï∞ÊçÆÁªìÊûÑÔºåÂêéÊúüÁªßÁª≠Êï¥ÁêÜ List ListÂøÖÈ°ª‰øùÊåÅÂÖÉÁ¥†ÁâπÂÆöÁöÑÈ°∫Â∫è LinkedList List„ÄÅQueue ÂèåÈìæË°®Node ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ ËΩ¨Êç¢‰∏∫Á∫øÁ®ãÂÆâÂÖ®Collections.synchronizedList(new LinkedList(...)); ÁâπÁÇπ: ÂÆûÁé∞‰∫ÜList„ÄÅDequeÊé•Âè£ÔºåÂèåÂêëÈìæË°®ÔºåÈÄÇÂêàÈ¢ëÁπÅÊèíÂÖ•/Âà†Èô§Ôºå‰∏çÈÄÇÂêà‰ΩøÁî®set„ÄÅset„ÄÇ ArrayList List Êï∞ÁªÑÂÆûÁé∞ ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ ÁâπÁÇπ: Âä®ÊÄÅÈïøÂ∫¶(ÈªòËÆ§ÈïøÂ∫¶‰∏∫10ÔºåÂ¢ûÈïøÈªòËÆ§‰∏∫ÂΩìÂâçÈïøÂ∫¶ÁöÑ1/2Ôºå‰∏çÂèØÂ§ß‰∫éInteger.MAX_VALUE - 8ÔºåÂê¶Âàô OutOfMemoryError), get„ÄÅsetÁõ¥Êé•ËÆøÈóÆ„ÄÇ Vector List Á∫øÁ®ãÂÆâÂÖ® Áî®synchronized‰øÆÈ•∞ÂáΩÊï∞ CopyOnWriteArrayList List Êï∞ÁªÑÂÆûÁé∞ Á∫øÁ®ãÂÆâÂÖ® ÁâπÁÇπ: Êï∞ÁªÑÈïøÂ∫¶ÈªòËÆ§‰∏∫0ÔºåÊØèÊ¨°‰øÆÊîπÈÉΩ‰ºöÈáçÊñ∞Â¢ûÈïøÈïøÂ∫¶ÂíåÊã∑Ë¥ùÊï∞ÁªÑ„ÄÇ Stack Á∫øÁ®ãÂÆâÂÖ® Êï∞ÁªÑÂÆûÁé∞ ÁâπÁÇπ: Ê®°ÊãüÊ†à„ÄÇ Â∑•ÂÖ∑Á±ª ËΩ¨Êç¢‰∏∫Á∫øÁ®ãÂÆâÂÖ®Collections.synchronizedList(new ArrayList(...)); ÂÜÖÈÉ®ÊòØÁî®ListÂÆûÁé∞Â≠òÂÇ®ÁöÑ ‰∏éVectorÂ∑ÆÂà´ÊòØÂèØ‰ª•‰º†ÂÖ•ÂÆöÂà∂ÁöÑÈîÅ„ÄÇ ËΩ¨‰∏∫‰∏çÂèØÂèòList Collections.unmodifiableList(new ArrayList&lt;&gt;()) Èó®Èù¢Ê®°Âºè(List) Á∫øÁ®ãÂÆâÂÖ® ÁâπÁÇπ: ‰∏çÂèØÂèò„ÄÇ Â∏∏Áî®ÊäÄÂ∑ß123456789101112131415161718192021222324252627282930313233@Testpublic void lists() &#123; /** * Êâì‰π±Êï∞ÁªÑ */ List&lt;Integer&gt; list = Arrays.asList(1, 2, 3); Collections.shuffle(list); System.out.println(String.format("Êâì‰π± %s", list)); /** * ÁßªÈô§ÊâÄÊúâ NULL */ list.removeIf(Objects::isNull); /** * ÂéªÈáç */ list = list.stream().distinct().collect(Collectors.toList()); /** * ÂàÜÁªÑ */ Map&lt;String, List&lt;Integer&gt;&gt; collect = list.stream() .collect(Collectors.groupingBy(Object::toString)); /** * Êü•Êâæ‰∏Ä‰∏™ÂÖÉÁ¥† */ Integer integer = list.stream().filter(item -&gt; &#123; return item == 1; &#125;).findAny().orElse(null); &#125; Set Set‰∏çËÉΩÊúâÈáçÂ§çÂÖÉÁ¥† HashSet Set Á∫øÁ®ã‰∏çÂÆâÂÖ® Âà©Áî® HashMap ÁöÑ Key ÂÄºËøõË°åÂ≠òÂÇ®„ÄÇ Êó†Â∫è Âà©Áî®HashÂ≠òÂÇ®ÔºåÂ≠òÂèñÂíåÊü•ÊâæÈ´òÊïà„ÄÇ LinkedHashSet Set Á∫øÁ®ã‰∏çÂÆâÂÖ® Âà©Áî® LinkedHashMap ÁöÑ Key ÂÄºËøõË°åÂ≠òÂÇ®„ÄÇ ÊåâÊèíÂÖ•ÊéíÂ∫è TreeSet Set Á∫øÁ®ã‰∏çÂÆâÂÖ® Âà©Áî® TreeMap ÁöÑ Key ÂÄºËøõË°åÂ≠òÂÇ®„ÄÇ ÊèíÂÖ•ÊúâÂ∫è, ÈªòËÆ§Ëá™ÁÑ∂ÊéíÂ∫è„ÄÇ Queue Queue‰øùÊåÅ‰∏Ä‰∏™ÈòüÂàó(ÂÖàËøõÂÖàÂá∫)ÁöÑÈ°∫Â∫è. PriorityQueue Queue Á∫øÁ®ã‰∏çÂÆâÂÖ® Êï∞ÁªÑÂÆûÁé∞ Deque Queue ÂèåÁ´ØÈòüÂàóArrayDeque Queue Êï∞ÁªÑÂÆûÁé∞ Á∫øÁ®ã‰∏çÂÆâÂÖ® Âä®ÊÄÅÈïøÂ∫¶ BlockingQueueDelayQueueMap Áî®‰∫é‰øùÂ≠òÂÖ∑Êúâ‚ÄùÊò†Â∞ÑÂÖ≥Á≥ª‚ÄùÁöÑÊï∞ÊçÆ HashMap ‰∏çËÉΩ‰øùËØÅkey-valueÂØπÁöÑÈ°∫Â∫è Á∫øÁ®ã‰∏çÂÆâÂÖ® LinkedHashMap ÊèíÂÖ•È°∫Â∫è Á∫øÁ®ã‰∏çÂÆâÂÖ® TreeMap Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊèíÂÖ•ÊúâÂ∫è, ÈªòËÆ§Ëá™ÁÑ∂ÊéíÂ∫è„ÄÇ ConcurrentHashMap Á∫øÁ®ãÂÆâÂÖ® ÁâπÁÇπ: ÂàÜÂ§ö‰∏™Âùó Êï¥ÁêÜ‰∫Ü‰∏§Âº†Âõæ Êé®Ëçê]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJavaÂ§öÁ∫øÁ®ã-Âá†‰∏™ËæÖÂä©Á±ª]]></title>
    <url>%2F2018%2F03%2F06%2F%E5%85%B3%E4%BA%8EJava%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%87%A0%E4%B8%AA%E8%BE%85%E5%8A%A9%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJavaÂ§öÁ∫øÁ®ã-Âá†‰∏™ËæÖÂä©Á±ªÔºåÂêéÊúüÁªßÁª≠Êï¥ÁêÜ Âá†‰∏™ËæÖÂä©Á±ª CountDownLatch ËÆ°Êï∞Âô® CyclicBarrier ÂêåÊ≠•Âô® Phaser 1.7 Èò∂ÊÆµÊÄß„ÄÅÂêåÊ≠•„ÄÅËÆ°Êï∞ Example123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188 ExecutorService executorService = Executors.newFixedThreadPool(4); /** * ËÆ°Êï∞Âô® latch.await() ‰ºöÁ≠âÂæÖËÆ°Êï∞‰∏∫ 0 * @throws InterruptedException */ @Test public void countDownLatch() throws InterruptedException &#123; CountDownLatch latch = new CountDownLatch(4); LongStream.range(0, 4).forEach((i)-&gt;&#123; executorService.submit(latch::countDown); System.out.println(String.format("index: %d", latch.getCount())); &#125;); latch.await(); System.out.println(String.format("index: %d", latch.getCount()));// index: 4// index: 3// index: 2// index: 1// index: 0 &#125; /** * Á≠âÂæÖÊåáÂÆöÊï∞ÁõÆÁöÑÁ∫øÁ®ãÂÆåÊàêÂêé, ÊâçÁªßÁª≠ÊâßË°å * @throws InterruptedException */ @Test public void cyclicBarrier() throws InterruptedException &#123; CyclicBarrier cyclicBarrier = new CyclicBarrier(4, ()-&gt;&#123; System.out.println("ÊâÄÊúâ‰ªªÂä°ÊâßË°åÂÆåÊàêÔºåÁªßÁª≠"); &#125;); LongStream.range(0, 4).forEach((i)-&gt;&#123; executorService.submit(()-&gt;&#123; try &#123; System.out.println(String.format("Â∑≤ÁªèÂÆåÊàêÊï∞ÁõÆ: %d/%d", cyclicBarrier.getNumberWaiting(), cyclicBarrier.getParties())); Thread.sleep(100); cyclicBarrier.await(); &#125; catch (InterruptedException | BrokenBarrierException e) &#123; e.printStackTrace(); &#125; System.out.println(String.format("ËøõË°åÂÖ∂‰ªñ‰ªªÂä° %s", Thread.currentThread().getName())); &#125;); &#125;); Thread.sleep(1000); // Â∑≤ÁªèÂÆåÊàêÊï∞ÁõÆ: 0/4// Â∑≤ÁªèÂÆåÊàêÊï∞ÁõÆ: 0/4// Â∑≤ÁªèÂÆåÊàêÊï∞ÁõÆ: 0/4// Â∑≤ÁªèÂÆåÊàêÊï∞ÁõÆ: 0/4// ÊâÄÊúâ‰ªªÂä°ÊâßË°åÂÆåÊàêÔºåÁªßÁª≠// ËøõË°åÂÖ∂‰ªñ‰ªªÂä° pool-1-thread-4// ËøõË°åÂÖ∂‰ªñ‰ªªÂä° pool-1-thread-2// ËøõË°åÂÖ∂‰ªñ‰ªªÂä° pool-1-thread-1// ËøõË°åÂÖ∂‰ªñ‰ªªÂä° pool-1-thread-3 &#125; /** * ÈÖçÁΩÆÂêåÊó∂ÂÖÅËÆ∏Áî≥ËØ∑ËÆ∏ÂèØÁöÑÊï∞ÁõÆÔºåÂ¶ÇÊûúÊï∞ÁõÆÂ∑≤Êª°ÂàôËøõË°åÈòªÂ°ûÁ≠âÂæÖÈáäÊîæËÆ∏ÂèØ„ÄÇ * Semaphore ÂèØÈÖçÁΩÆÊòØÂê¶‰ΩøÁî®ÂÖ¨Âπ≥Êú∫Âà∂ÔºåÁ±ª‰ººLock * @throws InterruptedException */ @Test public void semaphore() throws InterruptedException &#123; Semaphore semaphore = new Semaphore(2); LongStream.range(0, 4).forEach((i)-&gt;&#123; executorService.submit(()-&gt;&#123; try &#123; System.out.println(String.format("Ê≠£Âú®Áî≥ËØ∑ËÆ∏ÂèØ ID:%s", Thread.currentThread().getName())); semaphore.acquire(); System.out.println(String.format("Áî≥ËØ∑ËÆ∏ÂèØÊàêÂäü %s", Thread.currentThread().getName())); Thread.sleep(100); System.out.println(String.format("ËøõË°å‰ªªÂä° %s", Thread.currentThread().getName())); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125;finally &#123; System.out.println(String.format("ÈáäÊîæËÆ∏ÂèØ %s", Thread.currentThread().getName())); semaphore.release(); &#125; &#125;); &#125;); Thread.sleep(1000); // Ê≠£Âú®Áî≥ËØ∑ËÆ∏ÂèØ ID:pool-1-thread-2// Ê≠£Âú®Áî≥ËØ∑ËÆ∏ÂèØ ID:pool-1-thread-1// Áî≥ËØ∑ËÆ∏ÂèØÊàêÂäü pool-1-thread-2// Ê≠£Âú®Áî≥ËØ∑ËÆ∏ÂèØ ID:pool-1-thread-4// Ê≠£Âú®Áî≥ËØ∑ËÆ∏ÂèØ ID:pool-1-thread-3// Áî≥ËØ∑ËÆ∏ÂèØÊàêÂäü pool-1-thread-1// ËøõË°å‰ªªÂä° pool-1-thread-1// ËøõË°å‰ªªÂä° pool-1-thread-2// ÈáäÊîæËÆ∏ÂèØ pool-1-thread-1// ÈáäÊîæËÆ∏ÂèØ pool-1-thread-2// Áî≥ËØ∑ËÆ∏ÂèØÊàêÂäü pool-1-thread-4// Áî≥ËØ∑ËÆ∏ÂèØÊàêÂäü pool-1-thread-3// ËøõË°å‰ªªÂä° pool-1-thread-4// ËøõË°å‰ªªÂä° pool-1-thread-3// ÈáäÊîæËÆ∏ÂèØ pool-1-thread-4// ÈáäÊîæËÆ∏ÂèØ pool-1-thread-3 &#125; /** * Èò∂ÊÆµÊÄß, ‰ºöÁ≠âÂæÖÊâÄÊúâ‰∫∫ÂÆåÊàêËØ•Ê≠•È™§ÂÜçËøõÂÖ•‰∏ã‰∏Ä‰∏™Ê≠•È™§ * - ÊØè‰∏™Èò∂ÊÆµÂùáÂèØËøõË°åÂä†ÂÖ•ÊàñÁßªÈô§ * * ÂáΩÊï∞ * - arriveAndAwaitAdvance Á≠âÂæÖÈò∂ÊÆµ * - arriveAndDeregister ÁßªÈô§ * - bulkRegister Âä†ÂÖ• */ @Test public void phaser() throws InterruptedException &#123; Phaser phaser = new Phaser(4); /** * Èò∂ÊÆµÊÄß‰ªªÂä° */ System.out.println("„ÄêÈò∂ÊÆµÊÄß‰ªªÂä°„Äë"); LongStream.range(0, 4).forEach((i)-&gt;&#123; executorService.submit(()-&gt;&#123; try &#123; System.out.println(String.format("Á¨¨‰∏ÄÊ≠• %s", Thread.currentThread().getName())); Thread.sleep(100); phaser.arriveAndAwaitAdvance(); Thread.sleep(100); System.out.println(String.format("Á¨¨2Ê≠• %s", Thread.currentThread().getName())); phaser.arriveAndAwaitAdvance(); Thread.sleep(100); System.out.println(String.format("Á¨¨‰∏âÊ≠• %s", Thread.currentThread().getName())); phaser.arriveAndAwaitAdvance(); System.out.println("Done"); &#125;catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125;); Thread.sleep(1000); /** * ËÆ°Êï∞‰ªªÂä° */ System.out.println("„ÄêËÆ°Êï∞‰ªªÂä°„Äë"); LongStream.range(0, 4).forEach((i)-&gt;&#123; executorService.submit(()-&gt;&#123; try &#123; System.out.println(String.format("Â∑≤ÁªèÂÆåÊàê %s", Thread.currentThread().getName())); Thread.sleep(100); phaser.awaitAdvance(phaser.getPhase()); //cyclicBarrier.await(); &#125;catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125;); phaser.arrive(); System.out.println("ËÆ°Êï∞ÂÆåÊàê"); // „ÄêÈò∂ÊÆµÊÄß‰ªªÂä°„Äë// Á¨¨‰∏ÄÊ≠• pool-1-thread-2// Á¨¨‰∏ÄÊ≠• pool-1-thread-3// Á¨¨‰∏ÄÊ≠• pool-1-thread-1// Á¨¨‰∏ÄÊ≠• pool-1-thread-4// Á¨¨2Ê≠• pool-1-thread-2// Á¨¨2Ê≠• pool-1-thread-1// Á¨¨2Ê≠• pool-1-thread-4// Á¨¨2Ê≠• pool-1-thread-3// Á¨¨‰∏âÊ≠• pool-1-thread-1// Á¨¨‰∏âÊ≠• pool-1-thread-4// Á¨¨‰∏âÊ≠• pool-1-thread-2// Á¨¨‰∏âÊ≠• pool-1-thread-3// Done// Done// Done// Done// „ÄêËÆ°Êï∞‰ªªÂä°„Äë// ËÆ°Êï∞ÂÆåÊàê// Â∑≤ÁªèÂÆåÊàê pool-1-thread-2// Â∑≤ÁªèÂÆåÊàê pool-1-thread-4// Â∑≤ÁªèÂÆåÊàê pool-1-thread-3// Â∑≤ÁªèÂÆåÊàê pool-1-thread-1 &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJavaÂ§öÁ∫øÁ®ã-ÂèØËßÅÊÄß„ÄÅCAS„ÄÅAQS„ÄÅÈîÅ]]></title>
    <url>%2F2018%2F03%2F03%2F%E5%85%B3%E4%BA%8EJava%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%8F%AF%E8%A7%81%E6%80%A7%E3%80%81CAS%E3%80%81AQS%E3%80%81%E9%94%81%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJavaÂ§öÁ∫øÁ®ã-ÂèØËßÅÊÄß„ÄÅCAS„ÄÅAQS„ÄÅÈîÅ ÂâçÊèê Ëß£ÂÜ≥Â§öÁ∫øÁ®ãÊìç‰ΩúÂá∫Áé∞ÁöÑËÑèËØªÂíåÊï∞ÊçÆ„ÄÅÊìç‰Ωú‰∏ç‰∏ÄËá¥ÈóÆÈ¢ò„ÄÇ volatileÂèØËßÅÊÄß Java ÂÜÖÂ≠òÂàÜ‰∏∫‰∏ªÂÜÖÂ≠òÂíåÂ∑•‰ΩúÂÜÖÂ≠ò„ÄÇÊ≠£Â∏∏ÊÉÖÂÜµÊØè‰∏™Á∫øÁ®ãÈÉΩÊã•ÊúâËá™Â∑±ÁöÑÂ∑•‰ΩúÂÜÖÂ≠òÔºåÁÑ∂ÂêéÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥‰ºöÂêåÊ≠•Âà∞‰∏ªÂÜÖÂ≠ò‰∏äÔºåÂõ†Ê≠§‰ºöÂ≠òÂú®‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ„ÄÇËÄåvolatileÂàôÊòØ‰∏∫‰∫ÜËÆ©Ê†áËÆ∞Â≠óÊÆµÁöÑËØªÂèñÂíåÂÜôÂÖ•ÈÉΩÊòØÂú®‰∏ªÂÜÖÂ≠ò‰∏≠Ôºå‰øùËØÅÂÖ∂‰∏ÄËá¥ÊÄß„ÄÇÊ≥®ÊÑè:‰ΩÜÂÖ∂‰ªç‰∏çËÉΩ‰øùËØÅÂÜôÂÖ•Êìç‰ΩúÁöÑÂéüÂ≠êÊÄß„ÄÇ CAS Compare And Swap, ÊØîËæÉÂπ∂‰∫§Êç¢„ÄÇÁî®‰∫éËß£ÂÜ≥Â§öÁ∫øÁ®ã‰ΩøÁî®ÈîÅÈÄ†ÊàêÁöÑÊÄßËÉΩÊçüËÄó„ÄÇJava ÊòØÂà©Áî®UnsafeÊù•ÂÆûÁé∞CASÔºåËøõË°åÁ°¨‰ª∂Á∫ßÂà´ÁöÑÂéüÂ≠êÊÄßÊìç‰Ωú„ÄÇ AQS AbstractQueuedSynchronizer, Ëøô‰∏™‰∏∫ Java Á±ª, ÂÖ¨Âπ≥ÈîÅFairSyncÂíåÈùûÂÖ¨Âπ≥ÈîÅNonfairSyncÂùáÊòØÈÄöËøáÊ≠§ÂÆûÁé∞ÁöÑ„ÄÇÂÖ∂Âà©Áî®ÈòüÂàóÊù•ÂÆûÁé∞ÈòªÂ°ûÈîÅÂíåÂêåÊ≠•„ÄÇ ABA ÈóÆÈ¢ò ÊÉÖÊôØ: ÂàùÂßãÂÄº‰∏∫A[Á∫øÁ®ã1Ëé∑ÂèñÁöÑÂÄº‰∏∫A][Á∫øÁ®ã2Ëé∑ÂèñÁöÑÂÄº‰∏∫A,Âπ∂Êõ¥ÊîπÂÄºA‰∏∫ÂÄºB,ÂÜçÊõ¥ÊîπÂÄºB‰∏∫ÂÄºA][Á∫øÁ®ã1Êõ¥ÊîπÂÄºA‰∏∫ÂÄºB]„ÄÇÂá∫Áé∞ÈóÆÈ¢ò: Á∫øÁ®ã1ÊÑüËßâ‰∏çÂà∞ÂÄºÊúâ‰∏ÄÊÆµÂèòÂåñÁöÑËøáÁ®ãÔºåËøôÊòØ‰πêËßÇÈîÅÂá∫Áé∞ÁöÑÈóÆÈ¢ò„ÄÇËß£ÂÜ≥ÊñπÊ°à: AtomicStampedReference/AtomicMarkableReference‰Ω†ÂÄºÂæóÊã•Êúâ„ÄÇ AtomicStampedReference ÊØèÊ¨°‰øÆÊîπ‰ºöÂ≠òÂÇ®ÁâàÊú¨Âè∑,ÁâàÊú¨Âè∑ÂÆûÁé∞Áî®int„ÄÇ AtomicMarkableReference ÊØèÊ¨°‰øÆÊîπ‰ºöÂ≠òÂÇ®ÁâàÊú¨Âè∑,ÁâàÊú¨Âè∑ÂÆûÁé∞Áî®boolean„ÄÇ ÈîÅÁöÑÂêçËØçÂèØÈáçÂÖ•ÈîÅ Â∑≤Ëé∑ÂèñÁöÑÈîÅÂèØ‰ª•‰∏çÂøÖÂéªÈáçÊñ∞Áî≥ËØ∑„ÄÇ synchronized/ReentrantLock ÊòØÂèØÈáçÂÖ•ÈîÅ. ÂèØ‰∏≠Êñ≠ÈîÅ ÂèØ‰ª•ÂèñÊ∂àÁî≥ËØ∑ÈîÅÁöÑÊìç‰Ωú„ÄÇ synchronized ‰∏çÊòØÂèØ‰∏≠Êñ≠ÈîÅ„ÄÇ ÂÖ¨Âπ≥ÈîÅ ÂÖ¨Âπ≥ÈîÅÊòØÊ†πÊçÆËØ∑Ê±ÇÈ°∫Â∫èÂàÜÂèëÈîÅ, Âî§ÈÜíÈúÄË¶ÅÊó∂Èó¥ÔºåËÉΩ‰øù- ËØÅÊìç‰ΩúÁöÑÈ°∫Â∫è„ÄÇ ÈùûÂÖ¨Âπ≥ÈîÅ‰ºöÂá∫Áé∞ÊèíÈòüÊÉÖÂÜµÔºåÊÄßËÉΩÈ´òÔºå‰ΩÜÊòØ‰∏çËÉΩ‰øùËØÅÊìç‰ΩúÁöÑÈ°∫Â∫è„ÄÇ synchronized ‰∏çÊòØÂÖ¨Âπ≥ÈîÅ„ÄÇ ReentrantLock/ReentrantReadWriteLockÈªòËÆ§ÊÉÖÂÜµÊòØÈùûÂÖ¨Âπ≥ÈîÅNonfairSync,‰ΩÜÂèØ‰ª•ËÆæÁΩÆ‰∏∫ÂÖ¨Âπ≥ÈîÅFairSync ‰πêËßÇÈîÅ ÊØèÊ¨°‰∏çÂä†ÈîÅÔºåÂÅáËÆæÊ≤°ÊúâÂÜ≤Á™ÅÂéªÂÆåÊàêÊüêÈ°πÊìç‰ΩúÔºåÂ¶ÇÊûúÂõ†‰∏∫ÂÜ≤Á™ÅÂ§±Ë¥•Â∞±ÈáçËØïÔºåÁõ¥Âà∞ÊàêÂäü‰∏∫Ê≠¢„ÄÇ Atomic* ‰πêËßÇÈîÅ Áî±‰∫éÂú®Â§öÁ∫øÁ®ãÊìç‰Ωú‰∏≠Êó†Ê≥ï‰øùËØÅÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºåÂõ†Ê≠§ÂºïÂÖ•‰∫ÜÈîÅÂíåCAS„ÄÇAtomicStampedReference/AtomicMarkableReference Áî®‰∫éËß£ÂÜ≥ CAS ÁöÑ ABA ÈóÆÈ¢ò Âçï AtomicInteger IntegerÁ±ªÂûã AtomicLong LongÁ±ªÂûã AtomicBoolean BooleanÁ±ªÂûã,ÂÜÖÈÉ®‰ΩøÁî®intÂÆûÁé∞„ÄÇ AtomicReference ÂØπË±°Á±ªÂûã Êï∞ÁªÑ AtomicIntegerArray IntegerÊï∞ÁªÑ AtomicLongArray LongÊï∞ÁªÑ AtomicReferenceArray ÂØπË±°Êï∞ÁªÑ ÂØπË±°ÂÜÖÂ≠óÊÆµ AtomicIntegerFieldUpdater ÂØπË±°ÂÜÖIntegerÁ±ªÂûãÂ≠óÊÆµ AtomicLongFieldUpdater ÂØπË±°ÂÜÖLongÁ±ªÂûãÂ≠óÊÆµ AtomicReferenceFieldUpdater ÂØπË±°ÂÜÖÂØπË±°Á±ªÂûãÂ≠óÊÆµ Ê†πÊçÆÁâàÊú¨Âè∑ËøõË°åÊìç‰Ωú AtomicStampedReference ÊØèÊ¨°‰øÆÊîπ‰ºöÂ≠òÂÇ®ÁâàÊú¨Âè∑,ÁâàÊú¨Âè∑ÂÆûÁé∞Áî®int„ÄÇ AtomicMarkableReference ÊØèÊ¨°‰øÆÊîπ‰ºöÂ≠òÂÇ®ÁâàÊú¨Âè∑,ÁâàÊú¨Âè∑ÂÆûÁé∞Áî®boolean„ÄÇ ÈîÅÂíåÂêåÊ≠• ÈîÅÂíåÂêåÊ≠•ÁöÑ‰ΩúÁî®‰øùËØÅ‰ª£Á†ÅÂå∫ÂüüÂú®Âêå‰∏ÄÊó∂Èó¥Âè™ËøêË°å‰∏Ä‰∏™Á∫øÁ®ãÂéªÊâßË°å,ÂÖ∂‰ΩôÁ∫øÁ®ãÂ§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ(BLOCKED)„ÄÇ ÈîÅÂíåÂêåÊ≠•ÁöÑÂ∑ÆÂºÇ„ÄÇ ‰ΩúÁî®ËåÉÂõ¥, Lock ÂèØ‰ª•Ë∑®ÊñπÊ≥ïÔºåsynchronized Âè™ËÉΩÂú®Âêå‰∏Ä‰∏™ÊñπÊ≥ï‰∏≠„ÄÇ ÂÖ¨Âπ≥ÈîÅ, Lock ‰ΩøÁî®ÂÖ¨Âπ≥ÈîÅÔºåsynchronized ‰ΩøÁî®ÈùûÂÖ¨Âπ≥ÈîÅ„ÄÇ ÂèØ‰∏≠Êñ≠ÔºåLock ÂèØ‰ª•‰ΩøÁî®lockInterruptibly()‰∏≠Êñ≠ÈîÅÔºåsynchronized Êó†Ê≥ï‰∏≠Êñ≠„ÄÇ ÂΩì synchronized Êó†Ê≥ïËÆøÈóÆÊó∂‰ºöË¢´ÈòªÂ°ûÔºåLock Êèê‰æõtryLock()ÂáèÂ∞ëÈòªÂ°ûÊó∂Èó¥„ÄÇ ‰∏çÈáäÊîæÈîÅÊìç‰Ωú ÂêåÊ≠•‰ª£Á†Å‰∏≠‰ΩøÁî®Thread.sleep/Thread.yield, Á∫øÁ®ãÂ§Ñ‰∫éWAITING/TIMED_WAITINGÁä∂ÊÄÅ ÂêåÊ≠•‰ª£Á†Å‰∏≠Á∫øÁ®ãË¢´suspend() ‰ºöÈáäÊîæÈîÅÊìç‰Ωú ÂêåÊ≠•‰ª£Á†ÅË¢´break„ÄÅreturn ÂêåÊ≠•‰ª£Á†ÅË¢´ÂºÇÂ∏∏ÊàñÈîôËØØÁªàÊ≠¢ ÂêåÊ≠•‰ª£Á†ÅÂùóÊâßË°åÁªìÊùü ÂêåÊ≠•‰ª£Á†ÅÂùóË¢´ wait(), Á∫øÁ®ãÂ§Ñ‰∫éWAITING/TIMED_WAITINGÁä∂ÊÄÅ ÈîÅLockÁöÑÁõ∏ÂÖ≥ÂÆûÁé∞ NonfairSync„ÄÅFairSync ReentrantLock1234567891011121314151617181920212223242526272829303132 /** * ÂèØÈáçÂÖ•ÈîÅ * Â∑≤Ëé∑ÂèñÁöÑÈîÅÂèØ‰ª•‰∏çÂøÖÂéªÈáçÊñ∞Áî≥ËØ∑„ÄÇ * ‰æãÂ¶ÇÔºö * synchronized(lock)&#123; * synchronized(lock)&#123; * //.. * &#125; * &#125; */@Testpublic void reentrantLock() &#123; ReentrantLock lock = new ReentrantLock(); System.out.println(String.format("ÊòØÂê¶ÂÖ¨Âπ≥ÈîÅ %b", lock.isFair())); // ÊòØÂê¶ÂÖ¨Âπ≥ÈîÅ false /** * ÂèØÈáçÂÖ•ÈîÅ, Âú®Âêå‰∏Ä‰∏™Á∫øÁ®ãÂÜÖ‰∏çÁî®ÂèçÂ§çÁî≥ËØ∑ÈîÅ(Âè™ÊòØËÆ°Êï∞+1)„ÄÇ * Â¶ÇÊûú‰∏çÂêåÁ∫øÁ®ã‰ºöÂ∞ùËØïÂÖ≥ÊéâÂΩìÂâçÁ∫øÁ®ã(interrupt) */ lock.lock(); System.out.println(String.format("ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ %b", lock.isHeldByCurrentThread())); // ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ true System.out.println(String.format("ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ %b", lock.hasQueuedThreads())); // ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ false lock.lock(); System.out.println(String.format("ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ %b", lock.isHeldByCurrentThread())); // ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ true System.out.println(String.format("ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ %b", lock.hasQueuedThreads())); // ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ false lock.unlock(); System.out.println(String.format("ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ %b", lock.isHeldByCurrentThread())); // ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ true System.out.println(String.format("ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ %b", lock.hasQueuedThreads())); // ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ false lock.unlock(); System.out.println(String.format("ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ %b", lock.isHeldByCurrentThread())); // ËØ•ÈîÅÊòØÂê¶Â∑≤Ë¢´Ëé∑Âèñ false System.out.println(String.format("ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ %b", lock.hasQueuedThreads())); // ÊòØÂê¶ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖËé∑ÂèñËØ•ÈîÅ false&#125; ReentrantReadWriteLock ËØªÂÜôÈîÅ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091 /** * ËØªÂÜôÈîÅ * ËØªÈîÅ &amp; ËØªÈîÅ ‰πãÈó¥‰∏ç‰ºöÂ†µÂ°û * ÂÜôÈîÅ &amp; ËØªÈîÅ/ÂÜôÈîÅ ÈÉΩ‰ºöÂèëÁîüÂ†µÂ°û */ @Test public void reentrantReadWriteLock() throws InterruptedException &#123; ReentrantReadWriteLock lock = new ReentrantReadWriteLock(); Runnable rRunable = () -&gt; &#123; lock.readLock().lock(); System.out.println(String.format("Ëé∑Âèñ %sÈîÅ %s", lock.isWriteLocked()?"ÂÜô":"ËØª", Thread.currentThread().getName())); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(String.format("ÂÖ≥Êéâ %sÈîÅ %s", lock.isWriteLocked()?"ÂÜô":"ËØª", Thread.currentThread().getName())); lock.readLock().unlock(); &#125;; Runnable wRunable = () -&gt; &#123; lock.writeLock().lock(); System.out.println(String.format("Ëé∑Âèñ %sÈîÅ %s", lock.isWriteLocked()?"ÂÜô":"ËØª", Thread.currentThread().getName())); try &#123; Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; System.out.println(String.format("ÂÖ≥Êéâ %sÈîÅ %s", lock.isWriteLocked()?"ÂÜô":"ËØª", Thread.currentThread().getName())); lock.writeLock().unlock(); &#125;; Thread rthread = new Thread(rRunable); Thread rthread2 = new Thread(rRunable); Thread wthread = new Thread(wRunable); Thread wthread2 = new Thread(wRunable); /** * ËØª-&gt;ÂÜô-&gt;ËØª * * Ëé∑Âèñ ËØªÈîÅ Thread-1 * ÂÖ≥Êéâ ËØªÈîÅ Thread-1 * Ëé∑Âèñ ÂÜôÈîÅ Thread-3 * ÂÖ≥Êéâ ÂÜôÈîÅ Thread-3 * Ëé∑Âèñ ËØªÈîÅ Thread-2 * ÂÖ≥Êéâ ËØªÈîÅ Thread-2 */// System.out.println("ËØª-&gt;ÂÜô-&gt;ËØª");// rthread.start();// Thread.sleep(100);// wthread.start();// Thread.sleep(100);// rthread2.start(); /** * ËØª-&gt;ËØª-&gt;ÂÜô * Ëé∑Âèñ ËØªÈîÅ Thread-1 * Ëé∑Âèñ ËØªÈîÅ Thread-2 * ÂÖ≥Êéâ ËØªÈîÅ Thread-1 * ÂÖ≥Êéâ ËØªÈîÅ Thread-2 * Ëé∑Âèñ ÂÜôÈîÅ Thread-3 * ÂÖ≥Êéâ ÂÜôÈîÅ Thread-3 */// System.out.println("ËØª-&gt;ËØª-&gt;ÂÜô");// rthread.start();// Thread.sleep(100);// rthread2.start();// Thread.sleep(100);// wthread.start(); /** * ÂÜô-&gt;ÂÜô-&gt;ËØª * Ëé∑Âèñ ÂÜôÈîÅ Thread-3 * ÂÖ≥Êéâ ÂÜôÈîÅ Thread-3 * Ëé∑Âèñ ÂÜôÈîÅ Thread-4 * ÂÖ≥Êéâ ÂÜôÈîÅ Thread-4 * Ëé∑Âèñ ËØªÈîÅ Thread-1 * ÂÖ≥Êéâ ËØªÈîÅ Thread-1 */ System.out.println("ÂÜô-&gt;ÂÜô-&gt;ËØª"); wthread.start(); Thread.sleep(100); wthread2.start(); Thread.sleep(100); rthread.start(); Thread.sleep(5000); &#125; StampedLock ÈÇÆÁ•®ÈîÅ, ReentrantReadWriteLock ÁöÑÂçáÁ∫ßÁâàÂÜôÈîÅ„ÄÅËØªÈîÅ„ÄÅÊñ∞Â¢û(‰πêËßÇËØªÈîÅ„ÄÅÈîÅÁöÑËΩ¨Êç¢) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * ÈÇÆÁ•®ÈîÅ * @throws InterruptedException */@Testpublic void stampedLock() throws InterruptedException &#123; StampedLock lock = new StampedLock(); int demo = 0; /** * ÂÜôÈîÅ */ long stamp = lock.writeLock(); try &#123; demo = 1; &#125;finally &#123; lock.unlockWrite(stamp); &#125; /** * ËØªÈîÅ */ stamp = lock.readLock(); try &#123; System.out.println(demo); &#125;finally &#123; lock.unlockRead(stamp); &#125; /** * ‰πêËßÇËØªÈîÅ * ‰∏ÄËà¨ÊÉÖÂÜµËØªÂÜôÂπ∂‰∏çÂÜ≤Á™ÅÔºå‰ΩÜ‰πüÂèØ‰ª•ÈÄöËøáÊ£ÄÊµãÁî≥ËØ∑‰πêËßÇËØªÈîÅÂêéÊòØÂê¶ÊúâÂÜôÈîÅË¢´Áî≥ËØ∑ÔºåÂ¶ÇÊûúÊúâÂèØ‰ª•ÂÜçËøõË°åÈáçÊñ∞Áî≥ËØ∑‰∏∫ËØªÈîÅ„ÄÇ */ stamp = lock.tryOptimisticRead(); if (!lock.validate(stamp)) &#123; stamp = lock.readLock(); try &#123; System.out.println(demo); &#125; finally &#123; lock.unlockRead(stamp); &#125; &#125; else &#123; System.out.println(demo); &#125;&#125; Synchronized‰ΩøÁî®Á∫ßÂà´ ÂÆû‰æãÂØπË±°ÂáΩÊï∞thisÈîÅ ÈùôÊÄÅÂáΩÊï∞classÈîÅ ‰ª£Á†ÅÂùóÊåáÂÆöÁöÑÈîÅ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110public class SynchronizedTest &#123; /** * ÂΩìÁ∫øÁ®ã1ÂêåÊ≠•ÂùóÊ≠£Âú®ÊâßË°åÔºåÁ∫øÁ®ã2Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ(BLOCKED) * * @throws InterruptedException */ @Test public void state() throws InterruptedException &#123; Runnable runnable = () -&gt; &#123; synchronized (SynchronizedTest.class) &#123; try &#123; // ‰∏ç‰ºöËÆ©Âá∫ÈîÅ Thread.sleep(1000); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125;; Thread thread = new Thread(runnable); Thread thread2 = new Thread(runnable); thread.start(); thread2.start(); Thread.sleep(100); System.out.println(String.format("ÈòªÂ°ûÁöÑÁ∫øÁ®ã2(%s) Áä∂ÊÄÅ: %s", thread2.getName(), thread2.getState())); // ÈòªÂ°ûÁöÑÁ∫øÁ®ã2(Thread-2) Áä∂ÊÄÅ: BLOCKED &#125; /** * Â§ö‰∏™ÂêåÊ≠•ÂùóÂÖ±Áî®‰∏ÄÊääÈîÅ, ÂΩìÁ∫øÁ®ã1ÂêåÊ≠•Âùó1Ê≠£Âú®ÊâßË°åÔºåÁ∫øÁ®ã2Âú®ÂêåÊ≠•Âùó2Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ(BLOCKED) */ @Test public void multiSync() throws InterruptedException &#123; class Demo &#123; private final Object LOCK = new Object(); public void sync1() throws InterruptedException &#123; synchronized (LOCK) &#123; Thread.sleep(1000); &#125; &#125; public void sync2() &#123; synchronized (LOCK) &#123; System.out.println("ÊâßË°å‰∏≠.."); &#125; &#125; &#125; Demo demo = new Demo(); Thread thread = new Thread(() -&gt; &#123; try &#123; demo.sync1(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); Thread thread2 = new Thread(demo::sync2); thread.start(); thread2.start(); Thread.sleep(100); System.out.println(String.format("ÈòªÂ°ûÁöÑÁ∫øÁ®ã2(%s) Áä∂ÊÄÅ: %s", thread2.getName(), thread2.getState())); // ÈòªÂ°ûÁöÑÁ∫øÁ®ã2(Thread-2) Áä∂ÊÄÅ: BLOCKED &#125; /** * Ê≠ªÈîÅ * * @throws InterruptedException */ @Test public void deadlock() throws InterruptedException &#123; Object LOCK = new Object(); Object LOCK2 = new Object(); Thread thread = new Thread(() -&gt; &#123; synchronized (LOCK) &#123; try &#123; Thread.sleep(10); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; synchronized (LOCK2) &#123; ; &#125; &#125; &#125;); Thread thread2 = new Thread(() -&gt; &#123; synchronized (LOCK2) &#123; synchronized (LOCK) &#123; ; &#125; &#125; &#125;); thread.start(); thread2.start(); Thread.sleep(100); boolean b = thread.getState().equals(Thread.State.BLOCKED) &amp;&amp; thread2.getState().equals(Thread.State.BLOCKED); if (b) &#123; System.out.println(String.format("%s Âíå %s Ê≠ªÈîÅ", thread.getName(), thread2.getName())); &#125; else &#123; System.out.println("Êú™ÂèëÁîüÊ≠ªÈîÅ"); &#125; // Thread-1 Âíå Thread-2 Ê≠ªÈîÅ &#125; &#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJava-Unsafe/LockSupport]]></title>
    <url>%2F2018%2F03%2F02%2F%E5%85%B3%E4%BA%8EJava-Unsafe%3ALockSupport%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJava Unsafe/LockSupport Unsafe ‰∏Ä‰∏™È´òÊïàÂ∫ïÂ±ÇÂáΩÊï∞ÔºåÂèØ‰ª•ÂÆûÁé∞ÂÜÖÂ≠òÁÆ°ÁêÜ„ÄÅÂØπË±°ÂÆû‰æãÂåñ(‰∏çÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞)„ÄÅÊìç‰ΩúÂáΩÊï∞+Á±ª+ÂèòÈáè(ÈÄöËøá‰ΩøÁî®Âú∞ÂùÄ)„ÄÅÂ§öÁ∫øÁ®ãÂêåÊ≠•(ÊåÇËµ∑ÈîÅ„ÄÅCAS)„ÄÅÊåÇËµ∑ÂíåÊÅ¢Â§ç„ÄÅÊï∞ÁªÑ„ÄÅÂÜÖÂ≠òÂ±èÈöú„ÄÇ ÂÖ∑‰ΩìÂÆûË∑µ‰ª£Á†Å Unsafe ‰∏≠Âú®È´òÂπ∂ÂèëÂíåÈ´òÊÄßËÉΩÁöÑÂú∫ÊôØ‰∏ãÂÖ∑ÊúâÊòæËëóÁöÑÊïàÊûú„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180package in.hocg.lock;import org.junit.jupiter.api.Test;import sun.misc.Unsafe;import java.lang.reflect.Field;/** * Created by hocgin on 2018/3/2. * email: hocgin@gmail.com */public class UnsafeTest &#123; static class Demo &#123; private Integer integer; static &#123; System.out.println("static&#123;&#125;"); &#125; &#123; System.out.println("&#123;&#125;"); &#125; public Demo() &#123; integer = 0; System.out.println("Demo()"); &#125; public Integer getInteger() &#123; System.out.println("getInteger()"); return integer; &#125; public void setInteger(Integer integer) &#123; System.out.println("setInteger()"); this.integer = integer; &#125; &#125; /** * ‰ΩøÁî® Unsafe ÂàõÂª∫ÂØπË±°Ôºå‰∏ç‰ºöË∞ÉÁî®ÊûÑÈÄ†ÂáΩÊï∞„ÄÇ * * @throws NoSuchFieldException * @throws IllegalAccessException * @throws InstantiationException */ @Test public void instantiation() throws NoSuchFieldException, IllegalAccessException, InstantiationException &#123; Demo o = ((Demo) getUnsafe().allocateInstance(Demo.class)); System.out.println(String.format("hashCode:: %d", o.hashCode())); // Ê≠§Â§Ñ‰ºöÊâìÂç∞ "static&#123;&#125;" Âõ†Ê≠§‰ªçÁÑ∂‰ºöÊâßË°åÈùôÊÄÅ‰ª£Á†ÅÂùóÂÜÖÂÆπ &#125; /** * ‰ΩøÁî® Unsafe ‰øÆÊîπÁßÅÊúâÂ≠óÊÆµ */ @Test public void altering() throws NoSuchFieldException, IllegalAccessException &#123; Demo demo = new Demo(); Field field = demo.getClass().getDeclaredField("integer"); Unsafe unsafe = getUnsafe(); unsafe.putObject(demo, unsafe.objectFieldOffset(field), 1); System.out.println(String.format("getInteger() = %d", demo.getInteger())); &#125; /** * ‰ΩøÁî® Unsafe ÊäõÂá∫ÂºÇÂ∏∏ * * @throws NoSuchFieldException * @throws IllegalAccessException */ @Test public void throwing() throws NoSuchFieldException, IllegalAccessException &#123; getUnsafe().throwException(new NullPointerException()); &#125; /** * ÂàÜÈÖç‰∏ÄÂùóGCÊó†Ê≥ïÁÆ°ÁêÜÁöÑÂÜÖÂ≠òÂå∫Âüü */ @Test public void memory() throws NoSuchFieldException, IllegalAccessException &#123; Unsafe unsafe = getUnsafe(); int size = 1024; // ÂàÜÈÖçÂÜÖÂ≠òÂú∞ÂùÄ long address = unsafe.allocateMemory(size * 1); // ÂÜôÂÖ• unsafe.putInt(address + 4 * 1, 100); // ËØªÂèñ int i = unsafe.getInt(address + 4 * 1); System.out.println(i); // ÈáäÊîæÂÜÖÂ≠ò unsafe.freeMemory(address); &#125; /** * ËøõË°åCASÊìç‰ΩúÔºåÂçïÁ∫Ø‰ΩøÁî® Java Âπ∂‰∏çËÉΩÊúâÊïàÁöÑËß£ÂÜ≥CASÊìç‰Ωú, ÂÖ∂‰∏ªË¶ÅÈÄöËøá Unsafe ‰ΩøÁî®Á°¨‰ª∂Á∫ßÂà´Êù•Ëß£ÂÜ≥CASÊìç‰Ωú * @throws NoSuchFieldException * @throws IllegalAccessException */ @Test public void cas() throws NoSuchFieldException, IllegalAccessException &#123; Unsafe unsafe = getUnsafe(); Demo demo = new Demo(); Field field = demo.getClass().getDeclaredField("integer"); /** * compareAndSwapXXX * ÂèÇÊï∞ * 1. ÊåáÂÆöÂØπË±° * 2. Â≠óÊÆµÁöÑÂÅèÁßªÂú∞ÂùÄ * 3. ÂΩìÂâçÂÄº * 4. ÊúüÊúõÂÄº * ËøîÂõûÂÄº * "ËÆ§‰∏∫ÁöÑÊóßÂÄº"=="ÂÆûÈôÖÊóßÂÄº",‰øÆÊîπÊàê"ÊúüÊúõÂÄº"ÂÜçËøîÂõû True: ‰øÆÊîπÊàêÂäü * "ËÆ§‰∏∫ÁöÑÊóßÂÄº"!="ÂÆûÈôÖÊóßÂÄº",Áõ¥Êé•ËøîÂõû False: ‰øÆÊîπÂ§±Ë¥• */ boolean state; // CAS Áä∂ÊÄÅ Integer integer1 = 0; // ËÆ§‰∏∫ÁöÑÊóßÂÄº Integer integer2 = demo.getInteger(); // ÂÆûÈôÖÊóßÂÄº int o1 = 1; // ÊúüÊúõÂÄº while (!(state = unsafe.compareAndSwapObject(demo, unsafe.objectFieldOffset(field), integer1, o1))) &#123; System.out.println("ÂÜçÊ¨°Â∞ùËØï‰øÆÊîπ"); &#125; System.out.println(String.format("1 .CAS State: %b, ËÆ§‰∏∫ÁöÑÊóßÂÄº %d, ÂÆûÈôÖÊóßÂÄº %d, ÊúüÊúõÂÄº %d", state, integer1, integer2, o1)); integer2 = demo.getInteger(); // ÂÆûÈôÖÊóßÂÄº state = unsafe.compareAndSwapObject(demo, unsafe.objectFieldOffset(field), integer1, o1); System.out.println(String.format("2 .CAS State: %b, ËÆ§‰∏∫ÁöÑÊóßÂÄº %d, ÂÆûÈôÖÊóßÂÄº %d, ÊúüÊúõÂÄº %d", state, integer1, integer2, o1)); &#125; /** * Âà©Áî®OSÂ∫ïÂ±ÇÁöÑÊñπÂºèÊù•ÂÆûÁé∞ÊåÇËµ∑ÔºåÁõ∏ËæÉ‰∫éObject.wait()Êã•ÊúâÊõ¥Â•ΩÁöÑÊÄßËÉΩ * @throws NoSuchFieldException * @throws IllegalAccessException * @throws InterruptedException */ @Test public void park() throws NoSuchFieldException, IllegalAccessException, InterruptedException &#123; Unsafe unsafe = getUnsafe(); Thread thread = new Thread(() -&gt; &#123; /** * ÂèÇÊï∞ * 1. isAbsolute, ÊòØÂê¶‰∏∫ÁªùÂØπÊó∂Èó¥„ÄÇ * 2. time, Á¨¨‰∏Ä‰∏™ÂèÇÊï∞(isAbsolute)‰∏∫ True Êó∂ËØ•ÂèÇÊï∞Â∫î‰∏∫Á∫≥Áßí, False Êó∂ËØ•ÂèÇÊï∞Â∫î‰∏∫ÊØ´Áßí„ÄÇ0‰∏∫Êó†Á∫øÁ≠âÂæÖÔºåÁõ¥Âà∞unpark„ÄÇ */ unsafe.park(false, 0); // ÊåÇËµ∑ -&gt; WAITING &#125;); thread.start(); Thread.sleep(100); System.out.println(String.format("Á∫øÁ®ã %s Áä∂ÊÄÅ %s", thread.getName(), thread.getState())); Thread.sleep(100); unsafe.unpark(thread); Thread.sleep(100); System.out.println(String.format("Á∫øÁ®ã %s Áä∂ÊÄÅ %s", thread.getName(), thread.getState())); &#125; /** * Basic * Unsafe unsafe = Unsafe.getUnsafe(); * * @return * @throws IllegalAccessException * @throws NoSuchFieldException */ public static Unsafe getUnsafe() throws IllegalAccessException, NoSuchFieldException &#123; Field f = Unsafe.class.getDeclaredField("theUnsafe"); f.setAccessible(true); return (Unsafe) f.get(null); &#125;&#125; LockSupport ÂÖ∂Êú¨Ë¥®ÊòØUnsafeÁöÑËñÑÂ∞ÅË£Ö„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041@Testpublic void park() throws InterruptedException &#123; Thread thread = new Thread(() -&gt; &#123; /** * ËøõË°åÊåÇËµ∑ * Êú¨Ë¥®‰ΩøÁî® UNSAFE.park(false, 0L); */ LockSupport.park(); &#125;); thread.start(); Thread.sleep(1000); System.out.println(String.format("ÊåÇËµ∑Á∫øÁ®ãÁä∂ÊÄÅ %s", thread.getState())); // WAITING /** * ËøõË°åËß£Èô§ * Êú¨Ë¥®‰ΩøÁî® UNSAFE.unpark(thread) */ LockSupport.unpark(thread); Thread.sleep(100); System.out.println(String.format("Ëß£Èô§ÊåÇËµ∑Á∫øÁ®ãÁä∂ÊÄÅ %s", thread.getState())); // TERMINATED&#125;@Testpublic void blocker() throws InterruptedException &#123; Thread thread = new Thread(()-&gt;&#123; /** * Á∫øÁ®ãÂÜÖÈÉ®Êúâ‰∏™ parkBlocker Â≠óÊÆµ, LockSupport Êú¨Ë¥®‰∏ä‰ΩøÁî® Unsafe ËøõË°åÂÜÖÂ≠ò‰øÆÊîπ„ÄÇ */ LockSupport.park("sdas"); &#125;); thread.start(); Thread.sleep(100); System.out.println(String.format("ÊåÇËµ∑ %s", LockSupport.getBlocker(thread))); // ÊåÇËµ∑ sdas LockSupport.unpark(thread); Thread.sleep(100); System.out.println(String.format("Ëß£Èô§ÊåÇËµ∑ %s", LockSupport.getBlocker(thread))); // Ëß£Èô§ÊåÇËµ∑ null &#125; ÈòªÂ°ûÂíåËß£Èô§ÈòªÂ°û ÊÄªÁªì: ‰ΩøÁî®LockSupportÊõ¥ÂÖ∑ÊúâÁÅµÊ¥ªÊÄß„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public static final Object LOCK = new Object();/** * notifyAll ÂÆûÁé∞ * @throws InterruptedException */@Testpublic void notifyAll2() throws InterruptedException &#123; Runnable runnable = () -&gt; &#123; System.out.println(String.format("ÂºÄÂßãËøêË°å %s", Thread.currentThread().getName())); synchronized (LOCK) &#123; try &#123; LOCK.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; System.out.println(String.format("Ëß£Èô§ÈîÅ %s", Thread.currentThread().getName())); &#125;; CompletableFuture.allOf(CompletableFuture.runAsync(runnable), CompletableFuture.runAsync(runnable), CompletableFuture.runAsync(runnable), CompletableFuture.runAsync(runnable)); Thread.sleep(1000); synchronized (LOCK) &#123; LOCK.notify(); System.out.println("ÈÄöÁü•ÂÆåÊØï"); &#125;&#125;/** * unpark ÈÄöÁü•ÊâÄÊúâÈúÄËá™Â∑±ÂÆûÁé∞ * @throws InterruptedException */@Testpublic void unparkAll() throws InterruptedException &#123; List&lt;Thread&gt; threads = Collections.synchronizedList(new ArrayList&lt;&gt;()); Runnable runnable = () -&gt; &#123; Thread thread = Thread.currentThread(); threads.add(thread); System.out.println(String.format("ÂºÄÂßãËøêË°å %s", thread.getName())); LockSupport.park(); System.out.println(String.format("Ëß£Èô§ÈîÅ %s", thread.getName())); &#125;; CompletableFuture&lt;Void&gt; future = CompletableFuture.allOf(CompletableFuture.runAsync(runnable), CompletableFuture.runAsync(runnable), CompletableFuture.runAsync(runnable), CompletableFuture.runAsync(runnable)); Thread.sleep(1000); for (Thread thread : threads) &#123; LockSupport.unpark(thread); &#125; System.out.println("ÈÄöÁü•ÂÆåÊØï");&#125; park/unpark ‰∏é wait/notify ÊÄªÁªìÁõ∏ÊØî‰∫é‰ΩøÁî® Object.wait/Object.notify,LockSupport.unpark/LockSupport.park Êõ¥ÂÖ∑ÊúâÁÅµÊ¥ªÊÄß„ÄÇ ‰∏çÂ±ÄÈôê‰∫éÂêåÊ≠•ÂùóÂÜÖ ÁÅµÊ¥ªÁöÑ API(‰æãÂ¶ÇÊó∂Èó¥) ÂèØÊåáÂÆöÂî§ÈÜí(ÂΩìÂ§ö‰∏™ËøõÂÖ•waitÊó∂Object.notifyÊòØÈöèÊú∫Âî§ÈÜíÂÖ∂‰∏≠‰∏Ä‰∏™)„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Â§öÁ∫øÁ®ã</tag>
        <tag>ÈîÅ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éJavaÂπ∂Âèë-Á∫øÁ®ã]]></title>
    <url>%2F2018%2F02%2F27%2F%E5%85%B3%E4%BA%8EJava%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E7%BA%BF%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫éJavaÂπ∂Âèë-Á∫øÁ®ã Âπ∂ÂèëÂíåÂπ∂Ë°åÂπ∂Ë°å: Â§öÊ†∏ÂêåÊó∂ÊâßË°åÂπ∂Âèë: ÂçïÊ†∏ÂàáÊç¢ÊâßË°å Á∫øÁ®ãÁ∫øÁ®ãÁä∂ÊÄÅThread.State @since 1.5ÂÖ≥‰∫é Java Thread Áä∂ÊÄÅ‰∏çÂæó‰∏çËØ¥ÁöÑÊïÖ‰∫ã(ÁΩëÁªú‰∏äÂêÑÁßçÁâàÊú¨).. Á∫øÁ®ãÁöÑÁä∂ÊÄÅÂéüÊñáURL Â§öÁ∫øÁ®ãÊìç‰Ωú ÂÖ≥‰∫éwaitÂíånotifyÊ≠§Â§ÑÊ∂âÂèäÂà∞Á∫øÁ®ã‰∏≠ÁöÑÂá†‰∏™Áä∂ÊÄÅÔºåËØ∑ÂãøÊ∑∑Ê∑Ü„ÄÇ ‰ΩøÁî®wait/notifyÂØπÁ∫øÁ®ãËøõË°åÊìç‰Ωú‰ΩøÁî®wait/notifyÂØπÁ∫øÁ®ãËøõË°åÊìç‰Ωú ÂèØËÉΩÁöÑËØØÂå∫ Â≠êÁ∫øÁ®ãË¢´ÂÖ≥Èó≠ÔºåÂ≠êÁ∫øÁ®ãÊâÄÂºÄÂêØÁöÑÂ≠êÁ∫øÁ®ã(Â≠êÂ≠êÁ∫øÁ®ã)‰ºö‰∏ç‰ºöË¢´ÂÖ≥Èó≠ÔºüÁ≠îÊ°à: ‰∏ç‰ºöÁöÑ, Â≠êÁ∫øÁ®ãÁöÑÂ≠êÁ∫øÁ®ãÊú¨Ë¥®‰∏äÂíåÂ≠êÁ∫øÁ®ãÊòØÂêå‰∏ÄÁ≠âÁ∫ßÁöÑÂπ∂‰∏ç‰ºöË¢´ÂÖ∂ÂΩ±Âìç„ÄÇ ÂÆàÊä§Á∫øÁ®ã‰ªÄ‰πàÊÉÖÂÜµ‰ºöË¢´ÂÖ≥Èó≠ÔºüÁ≠îÊ°à: 1. ÂÆàÊä§Á∫øÁ®ãÊâßË°åÂÆå(Ëá™ÁÑ∂ÂÖ≥Èó≠)„ÄÇ 2.ÊâÄÊúâÁî®Êà∑Á∫øÁ®ãÁöÑÂÖ≥Èó≠(Âº∫Ë°åÂÖ≥Èó≠) ‰ªÄ‰πàÊòØÂÆàÊä§Á∫øÁ®ãÔºüÁ≠îÊ°à: ÂΩìÁ∫øÁ®ãt.setDaemon(true)ËØ•Á∫øÁ®ãÂç≥‰∏∫ÂÆàÊä§Á∫øÁ®ã„ÄÇÈìõÈìõÈìõÔºåÊúÄÂá∫ÂêçÁöÑÂÆàÊä§Á∫øÁ®ãGC„ÄÇ Áî®Êà∑Á∫øÁ®ã Âíå ÂÆàÊä§Á∫øÁ®ã ÁöÑÂå∫Âà´ÔºüÁ≠îÊ°à: ÂÆàÊä§Á∫øÁ®ã[setDaemon(true)]ÂíåÁî®Êà∑Á∫øÁ®ãÂ§ß‰ΩìÂπ∂Ê≤°Âï•Âå∫Âà´, ‰ΩÜÊòØÂÆàÊä§Á∫øÁ®ãÁöÑÁîüÂëΩÂë®ÊúüÊòØÈöèÁùÄÊâÄÊúâÁî®Êà∑Á∫øÁ®ãÁöÑÂÖ≥Èó≠ËÄåÈÄÄÂá∫ÁöÑ„ÄÇ Â¶Ç‰ΩïÊùÄÊ≠ª‰∏Ä‰∏™JavaÁ∫øÁ®ãÔºüÁ≠îÊ°à: JavaÂ∑≤Áªè‰∏çÊé®Ëçê‰ΩøÁî®stopËøõË°åÁ∫øÁ®ãÁöÑÂÖ≥Èó≠‰∫Ü„ÄÇÂ¶ÇÊûúÁ∫øÁ®ãÊòØÈÇ£ÁßçÊåÅ‰πÖÂûãÊìç‰ΩúÁ±ªÂûãÁöÑÔºåÂª∫ËÆÆÂºÄËæü‰∏Ä‰∏™ÂÆàÊä§Á±ªÂûãÁöÑÁ∫øÁ®ãËøõË°åÂõûÊî∂(ÊÉ≥Ê≥ïÂèÇÁÖßGo)„ÄÇ 1234567891011121314151617181920@Testpublic void interrupt() throws InterruptedException &#123; Thread thread = new Thread(() -&gt; &#123; while (!Thread.currentThread().isInterrupted()) &#123; System.out.println("Do something"); &#125; &#125;); thread.start(); Thread.sleep(100); System.out.println(String.format("Á∫øÁ®ã %s Áä∂ÊÄÅ %s", thread.getName(), thread.getState())); /** * Á∫øÁ®ã RUNNABLE Áä∂ÊÄÅ‰ºöÊ†áËÆ∞‰∏∫ÂÖ≥Èó≠ÔºåÂπ∂‰∏çËøõË°åÂÖ≥Èó≠„ÄÇ * Á∫øÁ®ã ÂÖ∂‰ªñ Áä∂ÊÄÅ‰ºöÊ†áËÆ∞Âπ∂ËøõË°åÂÖ≥Èó≠„ÄÇ * - Â∑≤Áªè‰∏çÊé®Ëçê‰ΩøÁî® thread.stop(); ÂèØËÉΩ‰ºöÂºïËµ∑ËµÑÊ∫êÈóÆÈ¢ò„ÄÇ */ thread.interrupt(); Thread.sleep(100); System.out.println(String.format("Á∫øÁ®ã %s Áä∂ÊÄÅ %s", thread.getName(), thread.getState()));&#125; Á∫øÁ®ãÊ±†ÂâçÁΩÆ Runable Êó†ËøîÂõûÂÄº Callable ÊúâËøîÂõûÂÄº Future ËøîÂõûÁªìÊûú newCachedThreadPool() ÂàõÂª∫‰∏Ä‰∏™ÂèØÁºìÂ≠òÁöÑÁ∫øÁ®ãÊ±†ÔºåÂÖ∂ÊåáÂÆöÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÁöÑÂ≠òÊ¥ªÊó∂Èó¥ÔºåÈªòËÆ§‰∏∫ 60s„ÄÇ 12345public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());&#125; ËøôËæπÊ∫êÁ†ÅÊúâÊ≥®Èáä:ÂΩì‰Ω†ÊÉ≥ÂÆûÁé∞‰∏Ä‰∫õÁºìÂ≠òÁõ∏ÂÖ≥ÁöÑÁªÜËäÇ(Â¶ÇË∂ÖÊó∂Êó∂Èó¥)ÔºåÂ∫îËØ•Ëá™Â∑±‰ΩøÁî®ThreadPoolExecutorÁöÑÊûÑÈÄ†ÂáΩÊï∞Êù•ÂàõÂª∫„ÄÇ newSingleThreadExecutor ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂçïÁ∫øÁ®ãExecutorÔºåÂÖ∂ÊåáÂÆöÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊúÄÂ§ßÊï∞Èáè‰∏∫1„ÄÇ 123456public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()));&#125; Ê≠§Â§Ñ‰∏∫‰Ωï‰ΩøÁî®Èó®Èù¢Ê®°ÂºèÂë¢ÔºüÊ≥®ÈáäÂÜôÊòéÂè™Êö¥Èú≤ExecutorServiceÊé•Âè£ÁöÑÊñπÊ≥ï, Â∫îËØ•ÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Âº∫Âà∂‰ΩøÁî®ThreadPoolExecutorÁõ∏ÂÖ≥ÂáΩÊï∞„ÄÇ Áõ∏ÊØî‰∫énewFixedThreadPool(1), ËØ•ÂáΩÊï∞‰øùËØÅ‰∏ç‰ºöË¢´ÈáçÊñ∞ÂàÜÈÖçÂà∞ÂÖ∂‰ªñÁöÑÁ∫øÁ®ã„ÄÇ newFixedThreadPool ÂàõÂª∫‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†12345public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());&#125; Ê≥®Èáä‰∏≠ËØ¥Êòé: Êèê‰∫§ÁöÑ‰ªªÂä°Á∫øÁ®ãÂ∞Ü‰∏ÄÁõ¥Â≠òÂú®ÔºåÁõ¥Âà∞‰ΩøÁî® ExecutorService#shutdown ËøõË°åÈÄÄÂá∫ newScheduledThreadPool ÂàõÂª∫‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞è‰∏îÂèØÂÆöÊó∂ÁöÑÁ∫øÁ®ãÊ±† 123public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) &#123; return new ScheduledThreadPoolExecutor(corePoolSize);&#125; newSingleThreadScheduledExecutor ÂàõÂª∫‰∏Ä‰∏™Â§ßÂ∞è‰∏∫1‰∏îÂèØÂÆöÊó∂ÁöÑÁ∫øÁ®ãÊ±† 1234public static ScheduledExecutorService newSingleThreadScheduledExecutor() &#123; return new DelegatedScheduledExecutorService (new ScheduledThreadPoolExecutor(1));&#125; ÂêåÊ†∑‰ΩøÁî®‰∫ÜÈó®Èù¢Ê®°Âºè newWorkStealingPool Âπ∂Ë°å ÂàõÂª∫‰∏Ä‰∏™Âπ∂Ë°åÁ∫øÁ®ãÊ±†(Âπ∂Ë°åÊï∞ÁõÆÈªòËÆ§‰∏∫:Á≥ªÁªüÂèØÁî®Á∫øÁ®ãÊï∞ÁõÆ)@since 1.8 123456public static ExecutorService newWorkStealingPool() &#123; return new ForkJoinPool (Runtime.getRuntime().availableProcessors(), ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true);&#125; Fork/Join Âπ∂Ë°å ‰ΩøÁî®Âπ∂Ë°åËøõË°åÊìç‰Ωú@since 1.7 Áõ∏ÂÖ≥Á±ª/Êé•Âè£ËØ¥Êòé ForkJoinTask È°∂Â±ÇÊé•Âè£, ÂÖ∂ÂÆûÁé∞‰∫ÜFuture„ÄÇ RecursiveTask ÊúâËøîÂõûÂÄº RecursiveAction Êó†ËøîÂõûÂÄº ForkJoinPool Á±ª‰ººExecutor Ê°à‰æã12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/*** Main.java* ÂìçÂ∫îÁªìÊûú:* TASK:ForkJoinPool.commonPool-worker-1* TASK:ForkJoinPool.commonPool-worker-1* TASK:ForkJoinPool.commonPool-worker-2* TASK:ForkJoinPool.commonPool-worker-1* ÊúâÊïàÂÄº 4* TASK:ForkJoinPool.commonPool-worker-2* ÊúâÊïàÂÄº 5* TASK:ForkJoinPool.commonPool-worker-1* ÊúâÊïàÂÄº 6* TASK:ForkJoinPool.commonPool-worker-1* ÊúâÊïàÂÄº 7* 22**/ @Test public void forkJoinPool() throws ExecutionException, InterruptedException &#123; ForkJoinPool forkJoinPool = ForkJoinPool.commonPool(); IRecursiveTask iRecursiveTask = new IRecursiveTask(); ForkJoinTask&lt;Integer&gt; task = forkJoinPool.submit(iRecursiveTask); System.out.println(task.get()); &#125;/*** IRecursiveTask.java* .fork() ËøõË°å‰ªªÂä°ÂàÜË£ÇÔºåÂπ∂‰ΩøÁî®Á∫øÁ®ãËøõË°åÊâßË°å* .join() Á≠âÂæÖÊâßË°åÂÆåÊàêÂπ∂Ëé∑ÂèñÁªìÊûú**/public class IRecursiveTask extends RecursiveTask&lt;Integer&gt; &#123; public static AtomicInteger FLAG = new AtomicInteger(0); @Override protected Integer compute() &#123; System.out.println("TASK:" + Thread.currentThread().getName()); FLAG.addAndGet(1); if (FLAG.get() &gt; 3) &#123; System.out.println(String.format("ÊúâÊïàÂÄº %d", FLAG.get())); return FLAG.get(); &#125; // ‰∏∫‰ªÄ‰πà‰∏çÁî® this.fork()Ôºü // this.fork() ËøîÂõûÁöÑÊòØ this Integer join1 = new IRecursiveTask().fork().join(); Integer join2 = new IRecursiveTask().fork().join(); return join1 + join2; &#125;&#125; CompletableFuture/CompletionStage ÂºÇÊ≠•+Âπ∂Ë°å Áõ∏ÊØî‰∫é1.7ËøõË°å‰∫ÜÊõ¥ÁÆÄ‰æø„ÄÅÂèãÂ•ΩÁöÑÂ∞ÅË£ÖÔºåÂπ∂Â¢ûÂä†‰∫ÜÂºÇÊ≠•ÈÄöÁü•ÁöÑÂäüËÉΩÔºåÊëÜËÑ±‰∫ÜÈòªÂ°ûÈóÆÈ¢ò„ÄÇ@since 1.8 CompletableFuture CompletableFutureÂÆûÁé∞‰∫ÜCompletionStageÁî®‰∫éËøõË°åÂºÇÊ≠•Âπ∂Ë°å,Âπ∂Êèê‰æõÂáΩÊï∞ËÆ©Â§ö‰∏™CompletionStageÂèØ‰ª•ËøõË°åÁªÑÂêàÊìç‰ΩúÂíåÊàñÊìç‰Ωú„ÄÇ ÈùôÊÄÅÂáΩÊï∞, ËøîÂõûCompletionStage CompletableFuture.anyOf ‰ªªÊÑè‰∏Ä‰∏™ÊâßË°åÂÆåÊàê CompletableFuture.allOf ÊâÄÊúâÊâßË°åÂÆåÊàê CompletableFuture.supplyAsync ÊâßË°åÂçï‰∏™ÂºÇÊ≠•,ÊúâËøîÂõûÂÄº(ÈªòËÆ§‰ΩøÁî®:ForkJoinPool#commonPool())„ÄÇ CompletableFuture.runAsync ÊâßË°åÂçï‰∏™ÂºÇÊ≠•,Êó†ËøîÂõûÂÄº CompletableFuture.completedFuture ËÆæÂÆöÁªìÊûú CompletionStage ÂáΩÊï∞ thenXXX ÊµÅÁöÑÊµÅÂêë(Á≠âÂæÖ‰∏ä‰∏ÄÊ≠•ÊâßË°åÂÆåÊàê) thenApplyXXX ËøõË°åËæìÂÖ•ÁöÑËΩ¨Êç¢(ApplyÔºöÊúâËæìÂÖ•ÊúâËæìÂá∫) thenRunXXX ÂØπ‰∏ä‰∏Ä‰∏™ÁªìÊûú‰∏çÂÖ≥ÂøÉÔºå‰πüÊ≤°ÊúâËøîÂõûÂÄº(RunÔºöÊó†ËæìÂÖ•Êó†ËæìÂá∫) thenAcceptXXX ËøõË°åËæìÂÖ•ÂØπÂ§ÑÁêÜ(AcceptÔºöÊúâËæìÂÖ•Êó†ËæìÂá∫) thenAcceptBothXXX(CompletionStage,BiConsumer) Âä†ÂÖ•CompletionStage, ËøõË°åÊåáÂÆöÂ§ÑÁêÜ(ÁªÑÂêàÊìç‰ΩúÔºåÊúâËæìÂÖ•Êó†ËæìÂá∫)„ÄÇ thenCombineXXX(CompletionStage,BiFunction) Âä†ÂÖ•CompletionStage, ËøõË°åÊåáÂÆöÂ§ÑÁêÜ(ÁªÑÂêàÊìç‰ΩúÔºåÊúâËæìÂÖ•ÊúâËæìÂá∫)„ÄÇ runAfterXXX ËøêË°å‰πãÂêé runAfterBothXXX(CompletionStage, Runnable) Âä†ÂÖ•CompletionStage, Âπ∂Âú®ÂÖ∂ËøêË°åÂêéÊåáÂÆöÊâßË°å(ÁªÑÂêàÊìç‰ΩúÔºåÊó†ËæìÂÖ•Êó†ËæìÂá∫)„ÄÇ runAfterEither(CompletionStage, Runnable) (ÊàñÊìç‰Ωú) ÂÆåÊàê whenCompleteXXX ÂÆåÊàê‰πãÂêéÂ§ÑÁêÜ„ÄÇ(ÊúâËæìÂÖ•Êó†ËæìÂá∫) handleXXX ÂÆåÊàê‰πãÂêéÂ§ÑÁêÜ„ÄÇ(ÊúâËæìÂÖ•ÊúâËæìÂá∫) ÂºÇÂ∏∏Â§ÑÁêÜ exceptionally ÂºÇÂ∏∏Â§ÑÁêÜ„ÄÇ ÂÖ∂‰ªñ .complete() // Á´ãÂç≥ÁªìÊùüÂπ∂ËøîÂõûÊåáÂÆöÁöÑÁªìÊûú .completeExceptionally() //Á´ãÂç≥ÂºÇÂ∏∏ÁªìÊùü ËØ¥Êòé: xxxEither Âä†ÂÖ•CompletionStageËøõË°åORÊìç‰Ωú(‰∏é‰πãÂâçÁöÑËøõË°åÂØπÊØî),ÂèñÊúÄÂÖàËøîÂõûÁöÑÁªìÊûúÂèñÂÖ∂ÁªìÊûúÂÄº„ÄÇ xxxAsync ÈÉΩÊòØÂºÇÊ≠•ÊâßË°å Á®çÂæÆÊèê‰∏Ä‰∏ã,Á∫øÁ®ãÁªÑ ‰∏∫ÁÆ°ÁêÜ Thread ËÄåÂ≠òÂú®ÁöÑÔºåÂèØ‰ª•ËøõË°åÊâπÈáèÊ†áËÆ∞„ÄÅÊ£ÄÊü•„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Â§öÁ∫øÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Êó•ÂøóÁ≥ªÁªüELKÂú®Spring Boot‰∏äÁöÑÂàùÊ≠•ÈõÜÊàê]]></title>
    <url>%2F2018%2F01%2F22%2F%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%20ELK%20%E5%9C%A8%20Spring%20Boot%20%E4%B8%8A%E7%9A%84%E5%88%9D%E6%AD%A5%E9%9B%86%E6%88%90%2F</url>
    <content type="text"><![CDATA[Êó•ÂøóÁ≥ªÁªü ELK Âú® Spring Boot ‰∏äÁöÑÂàùÊ≠•ÈõÜÊàê üòã ELK Elasticsearch + Logstash + KibanaÔºå‰∏Ä‰∏™ÊØîËæÉÊµÅË°åÁöÑÊó•ÂøóÁ≥ªÁªü„ÄÇÂΩìÁÑ∂Ôºå‰Ω†‰πüÂèØ‰ª•Â∞ùËØï‰ΩøÁî®ÈòøÈáå‰∫ë„ÄÇÂ¶ÇÊûúÈí±Â§öÁöÑËØù:) Logstash Êó•ÂøóÊê¨Ëøê, ÂèØ‰ª•ÊåáÂÆö‰ªé Redis/Log4j..Â§ÑËé∑ÂèñÊó•Âøó‰ø°ÊÅØÔºåÁÑ∂ÂêéËøõË°åËøáÊª§ÔºåÂÜçÊèê‰∫§Áªô Elasticsearch ËøõË°åÂàÜÊûê„ÄÇ 1234# ÂÆâË£Ö &amp; ÂêØÂä®brew install logstash# brew services restart logstash# ./bin/logstash -f config/logstash.conf Elasticsearch Êó•ÂøóÂ≠òÂÇ® / Êü•ËØ¢ / ÂàÜÊûê 123# ÂÆâË£Ö &amp; ÂêØÂä®brew install elasticsearchbrew services restart elasticsearch Â¶ÇÊûú‰Ω†ÊÉ≥Áõ¥Êé•Êü•Áúã„ÄÅÊìç‰ΩúÊàñËÄÖÁ†îÁ©∂ elasticsearch Â≠òÂÇ®ÁöÑÂÜÖÂÆπÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî® elasticsearch-head ËøõË°åÊìç‰Ωú„ÄÇ UI Êìç‰ΩúÁïåÈù¢12345git clone git://github.com/mobz/elasticsearch-head.gitcd elasticsearch-headnpm installnpm run startopen http://localhost:9100 Â¶ÇÊûú Elasticsearch ÂÆâË£Ö‰∫Ü X-Path ÈÇ£‰πàÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠(elasticsearch.yml), Âä†ÂÖ•:123http.cors.enabled: true http.cors.allow-origin: '*' http.cors.allow-headers: "Authorization" ÂØπ‰∫Ü, ËøôÈáåÊúâ‰∏ÄÊ¨æelasticsearch-head Chrome Plug-in Êé®Ëçê„ÄÇ Kibana UI ÁïåÈù¢ 1234wget https://www.elastic.co/downloads/kibanatar -xvf kibana.tar.gz./kibana/bin/kibanaopen http://localhost:5601/ Spring Boot ÈõÜÊàê pom.xml ÂºïÂÖ• logback ÊîØÊåÅ„ÄÇ 12345&lt;dependency&gt; &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt; &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt;&lt;/dependency&gt; Âú® resources/ Êñá‰ª∂Â§πÂÜÖÂàõÂª∫ logback-spring.xml Êñá‰ª∂„ÄÇ 123456789101112131415&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;configuration&gt; &lt;appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender"&gt; &lt;destination&gt;dev.local:4560&lt;/destination&gt; &lt;encoder charset="UTF-8" class="net.logstash.logback.encoder.LogstashEncoder"/&gt; &lt;/appender&gt; &lt;include resource="org/springframework/boot/logging/logback/base.xml"/&gt; &lt;root level="INFO"&gt; &lt;appender-ref ref="LOGSTASH"/&gt; &lt;appender-ref ref="CONSOLE"/&gt; &lt;/root&gt;&lt;/configuration&gt; ÈÖçÁΩÆ logstash, ÂàõÂª∫ logstash.conf„ÄÇ 123456789101112131415input &#123; tcp &#123; port =&gt; 4560 codec =&gt; json_lines &#125;&#125;output &#123; elasticsearch &#123; action =&gt; &quot;index&quot; hosts =&gt; [&quot;127.0.0.1:9200&quot;] index =&gt; &quot;applog&quot; ; user =&gt; &quot;elastic&quot; ; password =&gt; &quot;changeme&quot; &#125;&#125; ÂêØÂä®logstash ./bin/logstash -f logstash.conf ‰ΩøÁî®„ÄÇ12345678910111213141516@RunWith(SpringRunner.class)@SpringBootTest@Slf4jpublic class TestControllerTest &#123; Random random = new Random(); @Test public void testList() throws Exception &#123; while (true) &#123; Thread.sleep(1000); log.info("Hello world form hocgin"); if (random.nextBoolean()) &#123; log.info("sksdjkf " + random.nextInt(1000)); &#125; &#125; &#125;&#125; ÂÖ≥‰∫é Kibana ÂÆâÂÖ®ÈÖçÁΩÆ Configuring Security in Kibana ÂÆâË£Ö x-pack. 123456logstash-plugin install x-packelasticsearch-plugin install x-packkibana-plugin install x-pack ‰øÆÊîπ config/kibana.yml 12elasticsearch.username: &quot;elastic&quot; elasticsearch.password: &quot;changeme&quot; ‰øÆÊîπ logstash.conf„ÄÇ 123456789101112131415input &#123; tcp &#123; port =&gt; 4560 codec =&gt; json_lines &#125;&#125;output &#123; elasticsearch &#123; action =&gt; &quot;index&quot; hosts =&gt; [&quot;127.0.0.1:9200&quot;] index =&gt; &quot;applog&quot; user =&gt; &quot;elastic&quot; password =&gt; &quot;changeme&quot; &#125;&#125; Â¶ÇÊûúÂøòËÆ∞ ElasticSearch ÂØÜÁ†Å ÂÅúÊ≠¢ ElasticSearch ÊúçÂä° ÂàõÂª∫‰∏Ä‰∏™ÁÆ°ÁêÜÂëòÁî®Êà∑ 1x-pack/users useradd my_admin -p my_password -r superuser ÂêØÂä® ElasticSearch ÊúçÂä° ‰ΩøÁî® API ‰øÆÊîπÂØÜÁ†Å1234567891011121314curl -u my_admin -XPUT 'http://localhost:9200/_xpack/security/user/elastic/_password?pretty' -H 'Content-Type: application/json' -d'&#123; "password" : "new_password"&#125;'``## ELK Docker- [ELK Docker](https://github.com/spujadas/elk-docker)ÁÆÄËÄåË®Ä‰πã:```shell# :5601 - Kibana# :9200 - Elasticsearch# :5044 - Logstashsudo docker run -p 5601:5601 -p 9200:9200 -p 5044:5044 -it --name elk sebp/elk :2019Âπ¥3Êúà23Êó•ÔºåÊòüÊúüÂÖ≠ Ë°•ÂÖÖ ELKLÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆ: {}/config/123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384; ËæìÂÖ•input &#123; file &#123; path =&gt; [&quot;&#123;path&#125;&quot;] ; ËÆæÁΩÆÁ±ªÂûã type =&gt; &quot;nginx_access&quot; ; Ëµ∑ÁÇπ‰ΩçÁΩÆ start_position =&gt; &quot;beginning&quot; &#125;&#125;; Êï∞ÊçÆÊ∏ÖÊ¥ófilter &#123; if [type] == &quot;nginx_access&quot; &#123; grok &#123; patterns_dir =&gt; &quot;&#123;path&#125;&quot; match =&gt; &#123; &quot;message&quot; =&gt; &quot;%&#123;NGINXACCESS&#125;&quot; &#125; &#125; ; Ê†ºÂºèÂåñdateÂ≠óÊÆµÊó∂Èó¥Ê†ºÂºè date &#123; match =&gt; [&quot;timestamp&quot;, &quot;dd/MMM/YYYY:HH:mm:ss Z&quot;] &#125; ; Ëß£ÊûêparamÂ≠óÊÆµ if[param] &#123; ruby &#123; init =&gt; &quot;@kname = [&apos;quote&apos;, &apos;url_args&apos;]&quot; code =&gt; &quot; new_event = LogStash::Event.new(Hash[@kname.zip(event.get(&apos;param&apos;).split(&apos;?&apos;))]) new_event.remove(&apos;@timestamp&apos;) event.append(new_event) &quot; &#125; &#125; if[url_args] &#123; ruby &#123; init =&gt; &quot;@kname = [&apos;key&apos;, &apos;value&apos;]&quot; code =&gt; &quot; event.set( &apos;nested_args&apos;, event.get(&apos;url_args&apos;).split(&apos;&amp;&apos;).collect &#123;|i| Hash[@kname.zip(i.split(&apos;=&apos;))]&#125; ) &quot; remove_field =&gt; [&quot;url_args&quot;, &quot;param&quot;, &quot;quote&quot;] &#125; &#125; ;‰øÆÊîπÊåáÂÆöÂ≠óÊÆµÁöÑÂÜÖÂÆπ mutate &#123; ; ËΩ¨Êç¢Á±ªÂûã convert =&gt; [&quot;response&quot;, &quot;integer&quot;] remove_field =&gt; [&quot;timestamp&quot;] &#125; &#125; &#125;; ËæìÂá∫output &#123; stdout &#123; codec =&gt; rubydebug &#125; elasticsearch &#123; ; ‰ΩçÁΩÆ hosts =&gt; [&quot;&#123;url&#125;&quot;] ; Á¥¢ÂºïÊ†ºÂºè index =&gt; &quot;logstash-%&#123;type&#125;-%&#123;+YYYY.MM.dd&#125;&quot; document_type =&gt; &quot;%&#123;type&#125;&quot; ; ÊØèÊ¨°Â§öÂ∞ëÊï∞Èáè flush_size =&gt; 200 ; ÂèëÈÄÅÈó¥ÈöîÊó∂Èó¥ idle_flush_time =&gt; 1 ; ÊòØÂê¶ÈáçÊñ∞Ê∏ÖÊ¥ó sniffing = true ; Áî®Êà∑Âêç user =&gt; &quot;&#123;user&#125;&quot; ; ÂØÜÁ†Å password =&gt; &quot;&#123;password&#125;&quot; &#125;&#125; Ëß£ÊûêÂô®Êñá‰ª∂‰ΩçÁΩÆ: {}/config/patterns/ KÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆ: {}/config/kibana.yml123elasticsearch.url: '&#123;url&#125;'elasticsearch.username: '&#123;username&#125;'elasticsearch.password: '&#123;password&#125;' ÈªòËÆ§Á´ØÂè£: 8601]]></content>
      <categories>
        <category>ÊúçÂä°Á´Ø</category>
      </categories>
      <tags>
        <tag>ELK</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring BootÂêØÂä®ËøáÁ®ãÂíåBeanÁöÑÂàõÂª∫ËøáÁ®ã]]></title>
    <url>%2F2018%2F01%2F15%2FSpring%20Boot%20%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%E5%92%8C%20Bean%20%E7%9A%84%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[ËøôÂá†Â§©ÂàÜÊûê‰∫Ü‰∏Ä‰∏ã Spring Boot ÂêØÂä®ËøáÁ®ãÂíå Bean ÁöÑÂàõÂª∫ËøáÁ®ãÔºåÂú®Ê≠§ËÆ∞ÂΩï‰∏ãÊù•„ÄÇÂ¶ÇÊûúÊúâ‰ªÄ‰πà‰∏çÂØπÁöÑÂú∞ÊñπÔºåÊ¨¢ËøéÊèêÂá∫üôè„ÄÇ ÂêØÂä®ËøáÁ®ã123456789101112131415161718192021222324252627282930// Â∞Ü new SpringApplicationBuilder(sources...) Âä†ÂÖ• sources ÂàóË°®„ÄÇ// ---------------Êé®Êñ≠ÊòØÂê¶ÊòØWebÁéØÂ¢É------------// SpringApplication.deduceMainApplicationClass#248// ‰∏ªË¶ÅÊòØÂê¶ÂåÖÂê´ javax.servlet.Servlet ..// ---------------Initializer------------// ‰ΩøÁî® ClassLoader// ÂàÜÊûêÂºïÂÖ•ÊâÄÊúâÂåÖÁöÑ: META-INF/spring.factories Êñá‰ª∂// - spring-boot-actuator-1.5.8.RELEASE.jar// - spring-data-redis-1.8.8.RELEASE.jar// - ..// Ëé∑Âæó Key ‰∏∫`org.springframework.context.ApplicationContextInitializer`ÁöÑÊâÄÊúâËäÇÁÇπ(Class), ÂÆû‰æãÂåñÂπ∂ÈÄöËøá @Order ËøõË°åÊéíÂ∫è„ÄÇ// ---------------Listener------------// ‰ΩøÁî® ClassLoader// ÂàÜÊûêÂºïÂÖ•ÊâÄÊúâÂåÖÁöÑ: META-INF/spring.factories Êñá‰ª∂// - spring-boot-actuator-1.5.8.RELEASE.jar// - spring-data-redis-1.8.8.RELEASE.jar// - ..// Ëé∑Âæó Key ‰∏∫`org.springframework.context.ApplicationListener`ÁöÑÊâÄÊúâËäÇÁÇπ(Class), ÂÆû‰æãÂåñÂπ∂ÈÄöËøá @Order ËøõË°åÊéíÂ∫è„ÄÇ// ---------------Êé®Êñ≠MainÁ±ª------------// SpringApplication.deduceMainApplicationClass#252// Êé®Êñ≠ÂΩìÂâçÂ∫îÁî®ÁöÑÂÖ•Âè£ÂáΩÊï∞(ÊñπÊ≥ïÂêç‰∏∫main)„ÄÇ new SpringApplicationBuilder() .sources(Application.class) // -------Âà§Êñ≠ÊòØÂê¶ÁÉ≠ÈÉ®ÁΩ≤Áä∂ÊÄÅ--------- // ---Â¶ÇÊûúËÆæÁΩÆ‰∫Ü parent() ËøõË°åÈÖçÁΩÆ----- // configureAsChildIfNecessary(args);Â¶ÇÊûúÈÖçÁΩÆ‰∫Ü‰ºöÂä†ÂÖ•‰∏Ä‰∏™ ParentContextApplicationContextInitializer // ---------ÂàùÂßãÂåñÂΩìÂâçÂ∫îÁî®---------- // SpringApplication.run(args) .run(args); ÂàÜÊûê SpringApplication.run(args)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// ËÆ°Êó∂Âô®, Áî®‰∫éËÆ∞ÂΩïÂêØÂä®Êó∂Èó¥StopWatch stopWatch = new StopWatch();stopWatch.start();ConfigurableApplicationContext context = null;FailureAnalyzers analyzers = null;// ËÆæÁΩÆ‰∏∫Êó†ËæìÂÖ•/ËæìÂá∫ËÆæÂ§áÊ®°ÂºèconfigureHeadlessProperty();// ‰ΩøÁî® ClassLoader// ÂàÜÊûêÂºïÂÖ•ÊâÄÊúâÂåÖÁöÑ: META-INF/spring.factories Êñá‰ª∂// Ëé∑Âæó Key ‰∏∫`org.springframework.boot.SpringApplicationRunListener`ÁöÑÊâÄÊúâËäÇÁÇπ(Class), ÂÆû‰æãÂåñÂπ∂ÈÄöËøá @Order ËøõË°åÊéíÂ∫è„ÄÇ// Âπ∂Â∞ÅË£ÖËøõÂÖ• SpringApplicationRunListeners Á±ª„ÄÇSpringApplicationRunListeners listeners = getRunListeners(args);// Áî± SpringApplicationRunListeners ÊéßÂà∂Á±ªÁöÑÂêØÂä®„ÄÇlisteners.starting();try &#123; // Â∞ÅË£ÖÊàë‰ª¨Êèê‰æõÁöÑ args ÂèÇÊï∞ ApplicationArguments applicationArguments = new DefaultApplicationArguments(args); // Ê†πÊçÆÊòØÂê¶ Web ÁéØÂ¢É(webEnvironment) Ëé∑ÂæóÁéØÂ¢É(StandardServletEnvironment/StandardEnvironment) // - Âä†ËΩΩÈªòËÆ§ÁöÑÂèÇÊï∞Ê∫ê(StandardServletEnvironment.customizePropertySources) // - Âä†ËΩΩÊàë‰ª¨Êèê‰æõÁöÑÂêØÂä®ÂèÇÊï∞(args)‰Ωú‰∏∫ÂèÇÊï∞Ê∫ê„ÄÇÂΩìÁÑ∂ÔºåÂâçÊèêÊòØ addCommandLineProperties ‰∏∫ true„ÄÇ // ÈÄöËøá SpringApplicationRunListeners.environmentPrepared(..) Â§ÑÁêÜ‰∏äÈù¢Êèê‰æõÁöÑÂ∫îÁî®ÁéØÂ¢ÉÂèÇÊï∞„ÄÇ ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); // ÊâìÂç∞ banner„ÄÇÊú¨Ë∫´ÊòØÁî± Banner Á±ªÂÆûÁé∞ÁöÑ Banner printedBanner = printBanner(environment); // ÂÆû‰æãÂåñ‰∏Ä‰∏™Â∫îÁî®ÁöÑÂΩìÂâçÁéØÂ¢É, Spring Boot Êèê‰æõ‰∫Ü2ÁßçÁéØÂ¢ÉÊ†πÊçÆÊòØÂê¶ÊòØwebÁéØÂ¢ÉËøõË°åÂä®ÊÄÅÂÆû‰æãÂåñ(webEnvironment), ÂàÜÂà´ÊòØ(AnnotationConfigEmbeddedWebApplicationContext/ConfigurableWebApplicationContext) // ËøôÊòØ‰ºöÂàõÂª∫‰∏§‰∏™Áî®‰∫éÊâ´ÊèèÊ≥®Ëß£ÁöÑÈáçË¶ÅÂØπË±° // - AnnotatedBeanDefinitionReader ËØªÂèñÂô®, ËÆæÁΩÆÁéØÂ¢ÉÂèÇÊï∞ÔºåÂàõÂª∫Êó∂Ê≥®ÂÜå‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑÁî®‰∫é Bean ÁöÑËß£ÊûêÂô®(AnnotatedBeanDefinitionReader#65) // - ClassPathBeanDefinitionScanner Êâ´ÊèèÂô®, ËÆæÁΩÆË∑ØÂæÑ &amp; ÁéØÂ¢É &amp; Êã¶Êà™Âô®(Component.class) context = createApplicationContext(); // ----------ÂàõÂª∫Â§±Ë¥•Ëß£ÊûêÂô®------------ // ÂΩìÂàùÂßãÂåñÂá∫Áé∞ÈîôËØØÊó∂ËøõË°åÈîôËØØÂàÜÊûêÂô® // ‰ΩøÁî® ClassLoader // ÂàÜÊûêÂºïÂÖ•ÊâÄÊúâÂåÖÁöÑ: META-INF/spring.factories Êñá‰ª∂ // - spring-boot-actuator-1.5.8.RELEASE.jar // - spring-data-redis-1.8.8.RELEASE.jar // - .. // Ëé∑Âæó Key ‰∏∫`org.springframework.boot.diagnostics.FailureAnalyzer`ÁöÑÊâÄÊúâËäÇÁÇπ(Class), ÂÆû‰æãÂåñÂπ∂ÈÄöËøá @Order ËøõË°åÊéíÂ∫è„ÄÇ // Âπ∂Âä†ÂÖ• FailureAnalyzers ÁÆ°ÁêÜ„ÄÇ analyzers = new FailureAnalyzers(context); // ËØ¶ÊÉÖËßÅ‰∏ãÊñπ„ÄêSpringApplication.prepareContext(..)„Äë prepareContext(context, environment, listeners, applicationArguments, printedBanner); // ËØ¶ÊÉÖËßÅ‰∏ãÊñπ„ÄêÂàÜÊûê AbstractApplicationContext.refreshContext(context);„Äë refreshContext(context); // ApplicationRunner &amp; CommandLineRunner.run ÊåâÁ±ªÂûã‰ªé Bean ÂÆπÂô®‰∏≠ÂèñÂá∫ÔºåÂπ∂Ë∞ÉÁî® run(..) afterRefresh(context, applicationArguments); // ÂπøÊí≠ÈÄöÁü• SpringApplicationRunListener.finished listeners.finished(context, null); // ÂÖ≥Èó≠ËÆ°Êó∂Âô®ÔºåËÆ∞ÂΩïÂêØÂä®Êó∂Èó¥ stopWatch.stop(); // ÊòØÂê¶ÂêØÂä®Êó•Âøó if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass) .logStarted(getApplicationLog(), stopWatch); &#125; return context;&#125; catch (Throwable ex) &#123; // Â§ÑÁêÜÈÄÄÂá∫ÂºÇÂ∏∏, Â≠òÂÇ® ExitCodeEvent // ÂπøÊí≠ÈÄöÁü• listener(listener.finished(context, exception);) // ‰ΩøÁî® analyzers ËøõË°åÂ§±Ë¥•ÂàÜÊûê handleRunFailure(context, listeners, analyzers, ex); throw new IllegalStateException(ex);&#125; ÂàÜÊûê SpringApplication.prepareContext(..)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748private void prepareContext(ConfigurableApplicationContext context, ConfigurableEnvironment environment, SpringApplicationRunListeners listeners, ApplicationArguments applicationArguments, Banner printedBanner) &#123; // ËÆæÁΩÆÁéØÂ¢ÉÂèÇÊï∞ context.setEnvironment(environment); // // - Ê≥®ÂÜåËá™ÂÆö‰πâ beanNameGeneratorÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ // - Ê≥®ÂÜåËá™ÂÆö‰πâ resourceLoaderÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ // ÂÖ∂‰∏≠, resourceLoader ÂàÜ‰∏∫‰∏§ÁßçÁ±ªÂûã // - GenericApplicationContext(ResourceLoader) // - DefaultResourceLoader(ClassLoader) postProcessApplicationContext(context); // ÂàùÂßãÂåñÊâÄÊúâ‰πãÂâçÂä†ËΩΩÁöÑ ApplicationContextInitializer ËäÇÁÇπ applyInitializers(context); // ÊâÄÊúâÁõëÂê¨Âô®ÈÄöÁü•ËøõÂÖ• contextPrepared Èò∂ÊÆµ listeners.contextPrepared(context); // ÊòØÂê¶ÂêØÂä®Êó•Âøó if (this.logStartupInfo) &#123; // ‰∫§Áî±È°∂Á∫ßÊâìÂç∞Êó•Âøó‰ø°ÊÅØ logStartupInfo(context.getParent() == null); // ÊâìÂç∞ÈÖçÁΩÆÊñá‰ª∂‰ø°ÊÅØ logStartupProfileInfo(context); &#125; // Add boot specific singleton beans context.getBeanFactory().registerSingleton("springApplicationArguments", applicationArguments); if (printedBanner != null) &#123; context.getBeanFactory().registerSingleton("springBootBanner", printedBanner); &#125; // Load the sources Set&lt;Object&gt; sources = getSources(); Assert.notEmpty(sources, "Sources must not be empty"); // ÂàõÂª∫ Bean ÁöÑÂä†ËΩΩÂô®, BeanDefinitionLoader // ---------------Ëß£ÊûêÂô®--------------- // - Ê≥®Ëß£ AnnotatedBeanDefinitionReader // - xml XmlBeanDefinitionReader // - goovy GroovyBeanDefinitionReader // - Á±ªË∑ØÂæÑ ClassPathBeanDefinitionScanner // ---------------Ëá™ÂÆö‰πâ----------------- // - Âä†ËΩΩËá™ÂÆö‰πâ beanNameGeneratorÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ // - Âä†ËΩΩËá™ÂÆö‰πâ resourceLoaderÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ // - Âä†ËΩΩËá™ÂÆö‰πâ environmentÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ load(context, sources.toArray(new Object[sources.size()])); // ÈÄöÁü•ÁéØÂ¢ÉÂä†ËΩΩÁªìÊùü listeners.contextLoaded(context);&#125; ÂàÜÊûê AbstractApplicationContext.refreshContext(context);123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110@Overridepublic void refresh() throws BeansException, IllegalStateException &#123; synchronized (this.startupShutdownMonitor) &#123; // ËÆæÁΩÆ‰∏∫ÂêØÂä®Áä∂ÊÄÅ // Ê†°È™åÂøÖÈ°ªÂ≠óÊÆµ, ‰ΩøÁî® ConfigurablePropertyResolver#setRequiredProperties ËøõË°åËÆæÁΩÆ„ÄÇ // Prepare this context for refreshing. prepareRefresh(); // Âà∑Êñ∞ÂΩìÂâç beanFactory ÁöÑID, ÂÄºÂæó‰∏ÄÊèêÁöÑÊòØÈªòËÆ§ÁöÑ BeanFactory ÊòØ org.springframework.beans.factory.support.DefaultListableBeanFactory„ÄÇ // Tell the subclass to refresh the internal bean factory. ConfigurableListableBeanFactory beanFactory = obtainFreshBeanFactory(); // ----------BeanFactoryÈáçÁÇπÂàùÂßãÂåñ(AbstractApplicationContext.prepareBeanFactory#627)--------------- // - ËÆæÁΩÆ BeanClassLoader // - ËÆæÁΩÆ Â≠óÁ¨¶Ëß£ÊûêÂô®(SpelExpressionParser) // - ËÆæÁΩÆ ËµÑÊ∫ê‰ΩçÁΩÆ // - Ê∑ªÂä† Â§ÑÁêÜÂô® // - ÂøΩÁï• Êüê‰∫õÊé•Âè£ // - Ê≥®ÂÜåÊüê‰∫õËß£ÊûêÂô®Ëß£ÂÜ≥‰æùËµñÂÖ≥Á≥ª // - Ê∑ªÂä†‰∏Ä‰∏™ÁõëÂê¨Âô® // - Ê≥®ÂÜå ÈªòËÆ§ÁöÑ environment Bean(3‰∏™), Â¶ÇÊûú‰∏çÂ≠òÂú®ÁöÑËØù„ÄÇ // Prepare the bean factory for use in this context. prepareBeanFactory(beanFactory); try &#123; // AnnotationConfigEmbeddedWebApplicationContext.postProcessBeanFactory#182 // - Âä†ÂÖ• WebApplicationContextServletContextAwareProcessor ‰Ωú‰∏∫ BeanPostProcessor // - beanFactory.ignoreDependencyInterface(ServletContextAware.class); // ‰πü‰ºöËØªÂèñÊ≥®ÂÜåÁöÑÊ≥®Ëß£Á±ª Âíå ÈÖçÁΩÆË¶ÅÊâ´ÊèèÁöÑÂåÖ‰ΩçÁΩÆ„ÄÇ // Allows post-processing of the bean factory in context subclasses. postProcessBeanFactory(beanFactory); // PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(currentRegistryProcessors, registry) // ÈÄöËøá ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry#308 Êâ´ÊèèÊâÄÊúâÂ∫îÁî®Êñá‰ª∂„ÄÇ // - Êâ´ÊèèÈ¢ÑÂà∂ÁöÑÈÖçÁΩÆÊñá‰ª∂ // - Êâ´ÊèèÂ∫îÁî®ÁöÑÊâÄÊúâÊ≥®Ëß£ÈÖçÁΩÆÊàê Bean Â≠óÂÖ∏ // Invoke factory processors registered as beans in the context. invokeBeanFactoryPostProcessors(beanFactory); // ‰ΩøÁî® BeanPostProcessor.class Ëé∑Âèñ Bean(ÊâÄÊúâ Bean ÂùáÂú®beanDefinitionMap ÂÜÖÂê´Êúâ), ÊéíÂ∫èÂêé, Ê≥®ÂÜå‰∏∫ Bean Â§ÑÁêÜÂô®„ÄÇ // Âä†ÂÖ• BeanPostProcessorChecker.class Áî®‰∫éÁõëÂê¨BeanÁöÑÂàõÂª∫Âë®Êúü„ÄÇ // - priorityOrderedPostProcessors // - orderedPostProcessors // - nonOrderedPostProcessors // - internalPostProcessors // Âä†ÂÖ• ApplicationListenerDetector ‰Ωú‰∏∫ÂÖúÂ∫ï BeanPostProcessor // Register bean processors that intercept bean creation. registerBeanPostProcessors(beanFactory); // ÂàùÂßãÂåñÊ∂àÊÅØËµÑÊ∫ê(MessageSource) // ‰∏ÄËà¨ÊòØ‰Ωú‰∏∫ i18 ÁöÑËµÑÊ∫êÊñá‰ª∂„ÄÇ // Initialize message source for this context. initMessageSource(); // ÂàùÂßãÂåñÂ∫îÁî®ÂπøÊí≠Âô®(ApplicationEventMulticaster) // ‰∏ÄËà¨Áî®‰∫éÁÆ°ÁêÜ ApplicationListener // Initialize event multicaster for this context. initApplicationEventMulticaster(); // EmbeddedWebApplicationContext.onRefresh#131 // ÂàõÂª∫ÂµåÂÖ•Âºè Servlet ÂÆπÂô® // Initialize other special beans in specific context subclasses. onRefresh(); // Ê≥®ÂÜå listener beans Âà∞ ApplicationEventMulticaster„ÄÇ // ÂπøÊí≠ (Set&lt;ApplicationEvent&gt; earlyEventsToProcess).multicastEvent // Check for listener beans and register them. registerListeners(); // - ËΩ¨Âåñ BeanFactory Á±ªÂûã // - Êèê‰æõÈªòËÆ§ÁöÑÂµåÂÖ•ÂÄºËß£ÊûêÂô®ÔºåÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØù„ÄÇ // - Ë£ÖËΩΩ LoadTimeWeaverAware.class Á±ªÂûãÁöÑ Bean // - ÂÅúÊ≠¢‰∏¥Êó∂ÁöÑ ClassLoad // - ÂÜªÁªìÈÖçÁΩÆ // - È¢ÑÂÖàË£ÖËΩΩÊâÄÊúâÂçï‰æã Bean„ÄÇ // - ÂàùÂßãÂåñ@Controller @RequestMapping ‰πãÁ±ªÁöÑËøáÁ®ã, Âü∫Êú¨‰∏äÊàë‰ª¨‰ΩøÁî®ÁöÑÊ≥®Ëß£ÈÉΩÊòØËØ•Èò∂ÊÆµËøõË°åËÆæÁΩÆÁöÑ„ÄÇ // Instantiate all remaining (non-lazy-init) singletons. finishBeanFactoryInitialization(beanFactory); // ----------ÂèëÂ∏É‰∫ã‰ª∂ÈÄöÁü•---------------- // Ê≥®ÂÜå LifecycleProcessorÔºåÂπ∂ÂèëÂ∏É onRefresh() ‰∫ã‰ª∂„ÄÇ // earlyApplicationEvents.add(new ContextRefreshedEvent(this)) Âä†ÂÖ• Context Âà∑Êñ∞‰∫ã‰ª∂ // Ê≥®ÂÜå LiveBeanÔºåÂ¶ÇÊûúÊúâÁöÑËØù„ÄÇ..DevTool Debug ÈÇ£‰∏™ // Last step: publish corresponding event. finishRefresh(); &#125; catch (BeansException ex) &#123; if (logger.isWarnEnabled()) &#123; logger.warn("Exception encountered during context initialization - " + "cancelling refresh attempt: " + ex); &#125; // Destroy already created singletons to avoid dangling resources. destroyBeans(); // Reset 'active' flag. cancelRefresh(ex); // Propagate exception to caller. throw ex; &#125; finally &#123; // Reset common introspection caches in Spring's core, since we // might not ever need metadata for singleton beans anymore... resetCommonCaches(); &#125; &#125;&#125; ÂÖ≥‰∫é Bean BeanDefinitionRegistry, Bean ÂÆö‰πâÊ≥®ÂÜåË°®ÔºåÁ±ª‰ºº Bean ÁöÑ‰ªìÂ∫ì„ÄÇ BeanDefinition Â≠òÂÇ® Bean ÁöÑ‰ø°ÊÅØ„ÄÇ Bean ÁöÑ scope ÁßçÁ±ª, prototype, ÊØèÊ¨°Ëé∑ÂèñÊó∂ÂàõÂª∫„ÄÇ request, session, global session, singleton(ÈªòËÆ§), Âçï‰æã„ÄÇ BeanFactory, Bean Â∑•ÂéÇ„ÄÇ Áî®‰∫é Ê≥®ÂÜå Bean, Ëé∑Âæó Bean, Ê∏ÖÈô§ Bean, ÈÖçÁΩÆ Bean ÁöÑÁõ∏ÂÖ≥Á≠ñÁï•„ÄÇ DefaultListableBeanFactory ÊòØ Spring ÈªòËÆ§ÁöÑ BeanFactory„ÄÇ registeredSingletons Â∑≤Ê≥®ÂÜåÁöÑ Bean ÂàóË°®, Â≠òÂÇ® BeanName„ÄÇ singletonObjects Â≠òÂÇ® Bean ÂØπË±°, ‰ΩøÁî® Map ÁªìÊûÑ„ÄÇ earlySingletonObjects Â≠òÂÇ®Áî± ObjectFactory ÂàõÂª∫ÁöÑ Bean ÂØπË±°„ÄÇ singletonFactories Â≠òÂÇ®‰πãÂâçÂàõÂª∫ÁöÑ ObjectFactory ÂÖ∂Êú¨Ë¥®ÊòØ Bean ÂØπË±°„ÄÇ beanDefinitionMap Êâ´ÊèèÂ≠òÂÇ®ÁöÑËÆ∞ÂΩïÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ Bean ÁöÑÊÄªÂêçÂçï„ÄÇ mergedBeanDefinitions Ëé∑Âèñ Bean getBean(..)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169// AbstractBeanFactory.class @Override public Object getBean(String name) throws BeansException &#123; return doGetBean(name, null, null, false); &#125; @SuppressWarnings("unchecked") protected &lt;T&gt; T doGetBean( final String name, final Class&lt;T&gt; requiredType, final Object[] args, boolean typeCheckOnly) throws BeansException &#123; // Ëß£Êûê BeanName final String beanName = transformedBeanName(name); Object bean; // Ê£ÄÊü•ÁºìÂ≠ò‰∏≠ÊòØÂê¶Â≠òÂú®ËØ• Bean, Â¶ÇÊûúÂ≠òÂú®ÂàôÂÆû‰æãÂåñ„ÄÇ // Eagerly check singleton cache for manually registered singletons. Object sharedInstance = getSingleton(beanName); if (sharedInstance != null &amp;&amp; args == null) &#123; if (logger.isDebugEnabled()) &#123; if (isSingletonCurrentlyInCreation(beanName)) &#123; logger.debug("Returning eagerly cached instance of singleton bean '" + beanName + "' that is not fully initialized yet - a consequence of a circular reference"); &#125; else &#123; logger.debug("Returning cached instance of singleton bean '" + beanName + "'"); &#125; &#125; bean = getObjectForBeanInstance(sharedInstance, name, beanName, null); &#125; else &#123; // Bean ‰∏çÂú®ÁºìÂ≠ò // ÂΩìÊ≠£Âú®ÂàõÂª∫ÁöÑ Bean ÁöÑ Scope ‰∏∫ Prototype Êó∂ÔºåÊäõÂá∫ÂºÇÂ∏∏„ÄÇ // Âõ†‰∏∫ Prototype Ê®°ÂºèÊó†Ê≥ïËß£ÂÜ≥‰æùËµñÈóÆÈ¢ò„ÄÇ // Fail if we're already creating this bean instance: // We're assumably within a circular reference. if (isPrototypeCurrentlyInCreation(beanName)) &#123; throw new BeanCurrentlyInCreationException(beanName); &#125; // Â¶ÇÊûúÂΩìÂâç BeanFactory ‰∏çÂåÖÊã¨ËØ• BeanName Âπ∂‰∏îËØ• BeanFactory ÊúâÁà∂ BeanFactory Êó∂ÔºåÂ∞ùËØï‰ªéÁà∂ BeanFactory Ëé∑ÂèñËØ• Bean„ÄÇ // Check if bean definition exists in this factory. BeanFactory parentBeanFactory = getParentBeanFactory(); if (parentBeanFactory != null &amp;&amp; !containsBeanDefinition(beanName)) &#123; // Not found -&gt; check parent. String nameToLookup = originalBeanName(name); if (args != null) &#123; // Delegation to parent with explicit args. return (T) parentBeanFactory.getBean(nameToLookup, args); &#125; else &#123; // No args -&gt; delegate to standard getBean method. return parentBeanFactory.getBean(nameToLookup, requiredType); &#125; &#125; // Â¶ÇÊûú‰∏çÂè™‰æùÈù†Á±ªÂûãËøõË°åËé∑Âèñ, ËøõË°åÊ†áËÆ∞„ÄÇ if (!typeCheckOnly) &#123; markBeanAsCreated(beanName); &#125; try &#123; // Â∞ÜËß£ÊûêËΩ¨Âåñ‰∏∫ Bean ÁöÑ‰ø°ÊÅØÔºåÊ≥®ÂÜåÂπ∂Ëé∑ÂèñÂÖ∂‰æùËµñÁöÑ Bean„ÄÇ final RootBeanDefinition mbd = getMergedLocalBeanDefinition(beanName); checkMergedBeanDefinition(mbd, beanName, args); // Guarantee initialization of beans that the current bean depends on. String[] dependsOn = mbd.getDependsOn(); if (dependsOn != null) &#123; for (String dep : dependsOn) &#123; if (isDependent(beanName, dep)) &#123; throw new BeanCreationException(mbd.getResourceDescription(), beanName, "Circular depends-on relationship between '" + beanName + "' and '" + dep + "'"); &#125; registerDependentBean(dep, beanName); getBean(dep); &#125; &#125; // ÂΩì Bean ÁöÑ Scope ‰∏∫ Singleton Êó∂ // Create bean instance. if (mbd.isSingleton()) &#123; sharedInstance = getSingleton(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; try &#123; return createBean(beanName, mbd, args); &#125; catch (BeansException ex) &#123; // Explicitly remove instance from singleton cache: It might have been put there // eagerly by the creation process, to allow for circular reference resolution. // Also remove any beans that received a temporary reference to the bean. destroySingleton(beanName); throw ex; &#125; &#125; &#125;); bean = getObjectForBeanInstance(sharedInstance, name, beanName, mbd); &#125; // ÂΩì Bean ÁöÑ Scope ‰∏∫ Prototype Êó∂ else if (mbd.isPrototype()) &#123; // It's a prototype -&gt; create a new instance. Object prototypeInstance = null; try &#123; beforePrototypeCreation(beanName); prototypeInstance = createBean(beanName, mbd, args); &#125; finally &#123; afterPrototypeCreation(beanName); &#125; bean = getObjectForBeanInstance(prototypeInstance, name, beanName, mbd); &#125; // ÂΩì Bean ÁöÑ Scope ‰∏∫ ÂÖ∂‰ªñ Êó∂ else &#123; String scopeName = mbd.getScope(); final Scope scope = this.scopes.get(scopeName); if (scope == null) &#123; throw new IllegalStateException("No Scope registered for scope name '" + scopeName + "'"); &#125; try &#123; Object scopedInstance = scope.get(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; beforePrototypeCreation(beanName); try &#123; return createBean(beanName, mbd, args); &#125; finally &#123; afterPrototypeCreation(beanName); &#125; &#125; &#125;); bean = getObjectForBeanInstance(scopedInstance, name, beanName, mbd); &#125; catch (IllegalStateException ex) &#123; throw new BeanCreationException(beanName, "Scope '" + scopeName + "' is not active for the current thread; consider " + "defining a scoped proxy for this bean if you intend to refer to it from a singleton", ex); &#125; &#125; &#125; catch (BeansException ex) &#123; cleanupAfterBeanCreationFailure(beanName); throw ex; &#125; &#125; // Ê£ÄÊü•Ëé∑ÂæóÁöÑ Bean Á±ªÂûãÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúüÁªìÊûú„ÄÇ // Check if required type matches the type of the actual bean instance. if (requiredType != null &amp;&amp; bean != null &amp;&amp; !requiredType.isInstance(bean)) &#123; try &#123; return getTypeConverter().convertIfNecessary(bean, requiredType); &#125; catch (TypeMismatchException ex) &#123; if (logger.isDebugEnabled()) &#123; logger.debug("Failed to convert bean '" + name + "' to required type '" + ClassUtils.getQualifiedName(requiredType) + "'", ex); &#125; throw new BeanNotOfRequiredTypeException(name, requiredType, bean.getClass()); &#125; &#125; return (T) bean; &#125; ÂàõÂª∫ Bean createBean(..)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163// AbstractAutowireCapableBeanFactory.class @Override protected Object createBean(String beanName, RootBeanDefinition mbd, Object[] args) throws BeanCreationException &#123; if (logger.isDebugEnabled()) &#123; logger.debug("Creating instance of bean '" + beanName + "'"); &#125; RootBeanDefinition mbdToUse = mbd; // Ê†πÊçÆ‰ø°ÊÅØ(mbd, beanName)Ëé∑Âèñ Bean ÁöÑÁ±ªÂûã // Make sure bean class is actually resolved at this point, and // clone the bean definition in case of a dynamically resolved Class // which cannot be stored in the shared merged bean definition. Class&lt;?&gt; resolvedClass = resolveBeanClass(mbd, beanName); if (resolvedClass != null &amp;&amp; !mbd.hasBeanClass() &amp;&amp; mbd.getBeanClassName() != null) &#123; mbdToUse = new RootBeanDefinition(mbd); mbdToUse.setBeanClass(resolvedClass); &#125; // Ê†°È™åÈáçËΩΩÂáΩÊï∞ // Prepare method overrides. try &#123; mbdToUse.prepareMethodOverrides(); &#125; catch (BeanDefinitionValidationException ex) &#123; throw new BeanDefinitionStoreException(mbdToUse.getResourceDescription(), beanName, "Validation of method overrides failed", ex); &#125; try &#123; // Spring Êèê‰æõÁöÑÔºåÁî± BeanPostProcessor ËøõË°åÂ§ÑÁêÜÊé•ÂÖ•ÁÇπ„ÄÇ // Give BeanPostProcessors a chance to return a proxy instead of the target bean instance. Object bean = resolveBeforeInstantiation(beanName, mbdToUse); if (bean != null) &#123; return bean; &#125; &#125; catch (Throwable ex) &#123; throw new BeanCreationException(mbdToUse.getResourceDescription(), beanName, "BeanPostProcessor before instantiation of bean failed", ex); &#125; // ÈªòËÆ§ÁöÑÂàõÂª∫ Bean ÊñπÂºè Object beanInstance = doCreateBean(beanName, mbdToUse, args); if (logger.isDebugEnabled()) &#123; logger.debug("Finished creating instance of bean '" + beanName + "'"); &#125; return beanInstance; &#125;// AbstractAutowireCapableBeanFactory.class protected Object doCreateBean(final String beanName, final RootBeanDefinition mbd, final Object[] args) throws BeanCreationException &#123; // Ê†πÊçÆ Bean ‰ø°ÊÅØÂÆû‰æãÂåñ Bean // Instantiate the bean. BeanWrapper instanceWrapper = null; if (mbd.isSingleton()) &#123; instanceWrapper = this.factoryBeanInstanceCache.remove(beanName); &#125; if (instanceWrapper == null) &#123; instanceWrapper = createBeanInstance(beanName, mbd, args); &#125; final Object bean = (instanceWrapper != null ? instanceWrapper.getWrappedInstance() : null); Class&lt;?&gt; beanType = (instanceWrapper != null ? instanceWrapper.getWrappedClass() : null); mbd.resolvedTargetType = beanType; // ‰ΩøÁî® MergedBeanDefinitionPostProcessor ËøõË°åÂ§ÑÁêÜ // Allow post-processors to modify the merged bean definition. synchronized (mbd.postProcessingLock) &#123; if (!mbd.postProcessed) &#123; try &#123; applyMergedBeanDefinitionPostProcessors(mbd, beanType, beanName); &#125; catch (Throwable ex) &#123; throw new BeanCreationException(mbd.getResourceDescription(), beanName, "Post-processing of merged bean definition failed", ex); &#125; mbd.postProcessed = true; &#125; &#125; // Eagerly cache singletons to be able to resolve circular references // even when triggered by lifecycle interfaces like BeanFactoryAware. boolean earlySingletonExposure = (mbd.isSingleton() &amp;&amp; this.allowCircularReferences &amp;&amp; isSingletonCurrentlyInCreation(beanName)); // Âçï‰æã &amp; ÂÖÅËÆ∏Âæ™ÁéØÂºïÁî® &amp; Ê≠£Âú®ÂàõÂª∫ if (earlySingletonExposure) &#123; if (logger.isDebugEnabled()) &#123; logger.debug("Eagerly caching bean '" + beanName + "' to allow for resolving potential circular references"); &#125; // ‰ΩøÁî® ObjectFactory Êù•ÁÆ°ÁêÜ Bean Èò≤Ê≠¢Âæ™ÁéØ‰æùËµñ„ÄÇ addSingletonFactory(beanName, new ObjectFactory&lt;Object&gt;() &#123; @Override public Object getObject() throws BeansException &#123; return getEarlyBeanReference(beanName, mbd, bean); &#125; &#125;); &#125; // Initialize the bean instance. Object exposedObject = bean; try &#123; // ÂØπ Bean ÁöÑÂ±ûÊÄßËøõË°åÂ°´ÂÖÖ populateBean(beanName, mbd, instanceWrapper); if (exposedObject != null) &#123; // ÂàùÂßãÂåñ Bean ÂÆû‰æã exposedObject = initializeBean(beanName, exposedObject, mbd); &#125; &#125; catch (Throwable ex) &#123; if (ex instanceof BeanCreationException &amp;&amp; beanName.equals(((BeanCreationException) ex).getBeanName())) &#123; throw (BeanCreationException) ex; &#125; else &#123; throw new BeanCreationException( mbd.getResourceDescription(), beanName, "Initialization of bean failed", ex); &#125; &#125; if (earlySingletonExposure) &#123; Object earlySingletonReference = getSingleton(beanName, false); // Â≠òÂú®Â∑≤ÂàõÂª∫ÁöÑÂçï‰æã, ‰∏ÄËà¨ÊÉÖÂÜµ‰∏∫Ëß£ÂÜ≥‰æùËµñÁöÑÊó∂ÂÄô„ÄÇ if (earlySingletonReference != null) &#123; if (exposedObject == bean) &#123; exposedObject = earlySingletonReference; &#125; // ÂÖÅËÆ∏Âæ™ÁéØ‰æùËµñ‰∏ç‰∏ÄËá¥ &amp; Bean Âê´Êúâ‰æùËµñ„ÄÇ // Ê≠§Êó∂Â¶ÇÊûúÂ≠òÂú®‰æùËµñÔºåÂ∞Ü‰ºöÂèëÁîüÂºÇÂ∏∏„ÄÇ else if (!this.allowRawInjectionDespiteWrapping &amp;&amp; hasDependentBean(beanName)) &#123; String[] dependentBeans = getDependentBeans(beanName); Set&lt;String&gt; actualDependentBeans = new LinkedHashSet&lt;String&gt;(dependentBeans.length); for (String dependentBean : dependentBeans) &#123; if (!removeSingletonIfCreatedForTypeCheckOnly(dependentBean)) &#123; actualDependentBeans.add(dependentBean); &#125; &#125; if (!actualDependentBeans.isEmpty()) &#123; throw new BeanCurrentlyInCreationException(beanName, "Bean with name '" + beanName + "' has been injected into other beans [" + StringUtils.collectionToCommaDelimitedString(actualDependentBeans) + "] in its raw version as part of a circular reference, but has eventually been " + "wrapped. This means that said other beans do not use the final version of the " + "bean. This is often the result of over-eager type matching - consider using " + "'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example."); &#125; &#125; &#125; &#125; // Ê≥®ÂÜå‰∏ÄÊ¨°ÊÄß Bean // Register bean as disposable. try &#123; registerDisposableBeanIfNecessary(beanName, bean, mbd); &#125; catch (BeanDefinitionValidationException ex) &#123; throw new BeanCreationException( mbd.getResourceDescription(), beanName, "Invalid destruction signature", ex); &#125; return exposedObject; &#125;]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî® Docker ‰∫§ÂèâÁºñËØë OpenWrt ‰∏äËøêË°åÁöÑ Golang Á®ãÂ∫è]]></title>
    <url>%2F2017%2F11%2F23%2F%E4%BD%BF%E7%94%A8%20Docker%20%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%20OpenWrt%20%E4%B8%8A%E8%BF%90%E8%A1%8C%E7%9A%84%20Golang%20%E7%A8%8B%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[>.&lt; ÂâçË®Ä ‰ΩøÁî® https://github.com/gomini/go-mips32 ÂØπ Go Á®ãÂ∫èËøõË°å‰∫§ÂèâÁºñËØë. ‰ΩøÁî® Docker ‰∫§ÂèâÁºñËØë Go Á®ãÂ∫è ÊãâÂèñÈïúÂÉè 1docker pull conoro/go-mips32:v1 ÂêØÂä®ÈïúÂÉèÂπ∂ÊåÇËΩΩÊú¨Âú∞ÁõÆÂΩï 123456docker run -it -v Á®ãÂ∫èÁõÆÂΩï:/go/src conoro/go-mips32:v1 /bin/shcd src# ÁºñËØë# export GOOS=linux# export GOARCH=mips32lego build main.go]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>OpenWrt</tag>
        <tag>Docker</tag>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÁºñËØë OpenWrt Á≥ªÁªü]]></title>
    <url>%2F2017%2F11%2F22%2F%E8%87%AA%E7%BC%96%E8%AF%91%20OpenWrt%20%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[üòå Êï¥ÁêÜ„ÄÅËÆ∞ÂΩï‰∏Ä‰∏ãÊ≠•È™§.. ÂâçÁΩÆÊõ¥ÊîπÊ∫ê123sed -i.bak 's/\/us.archive.ubuntu.com\//\/cn.archive.ubuntu.com\//g' /etc/apt/sources.listsudo apt update ÂÖ≥Èó≠IPv6echo 1 &gt; /proc/sys/net/ipv6/conf//disable_ipv6 ÂâçÁΩÆÂÆâË£Ö git subversion make automake autoconf gcc g++ binutils make, Áº∫ÁúÅÂÆâË£Ö libncurses5-dev libssl-dev gawk ÂâçÁΩÆ GitHub(git clone https://github.com/openwrt/openwrt) Ëé∑Âèñ OpenWrt, Êõ¥Êîπ openWrt ÁõÆÂΩï‰∏∫ÂΩìÂâçÁî®Êà∑ÊâÄÊúâÊùÉ12# ‰æãÂ¶Ç:chown -R hocgin:hocgin openwrt ÁºñËØë(openwrt/)ÁºñËØëËøáÁ®ã make ./script/feeds update -a ./script/feeds install -a 14. make deconfig # ‰ΩøÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆ 15. make menuconfig # Âü∫‰∫éÁªàÁ´ØÁöÑ‰∏ÄÁßçÈÖçÁΩÆÊñπÂºèÔºåÊèê‰æõ‰∫ÜÊñáÊú¨Ê®°ÂºèÁöÑÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢ÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáÂÖâÊ†áÁßªÂä®Êù•ÊµèËßàÊâÄÊîØÊåÅÁöÑÂêÑÁßçÁâπÊÄß„ÄÇ Âõ∫‰ª∂ÈÖçÁΩÆ, ÂèØ‰ª•ÈÄâÊã©ÁºñËØëÁöÑËΩØ‰ª∂ÂåÖ ## ÈÉ®ÂàÜÈÄâÈ°π - Êû∂ÊûÑ(AR7xxx) - FLASH(Generic) - Ë∑ØÁî±Âô®ÂûãÂè∑(WNDR3800) - Êñá‰ª∂Á≥ªÁªü(squashfs) - ÈÄöÁî®ËÆæÁΩÆ - [-] Crytographically signed package lists - [-] Compile with support for patented functionallty - [-] Enable shadow password support - [-] Crash logging - [-] Compile the kernel with debug information - [-] Compile the kernel SysRq support - [-] Enable process core dump support - [-] Enable printk timestamps - [-] Enable Ipv6 support in packages - [-] Compile certain packages parallelized - [-] Enable gcc format-security - [-] Build the OpenWrt Image Builder - [-] In - [-] Build the OpenWrt SDK - [-] Package the OpenWrt-based Toolchain ÂÖ∂‰ΩôÈªòËÆ§„ÄÇ make kernel_config ÂÜÖÊ†∏ÈÖçÁΩÆ[ÂºÄÂêØÊµÆÁÇπÊï∞Ê®°Êãü(FPU)] make V=s -j&lt;Â§ÑÁêÜÂô®Êï∞Èáè&gt; ÁºñËØëÂÆåÊàêÂêéÔºåÁßªÂá∫bin/ar71xx/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64.tar.bz2 Êñá‰ª∂, Âπ∂Ëß£Âéã(tar xvf). ËøõÂÖ•(OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64/) ÁºñËØëÊàêÈïúÂÉè 12345# Ê£ÄÊü•Âü∫Á°ÄÈïúÂÉèparallels@ubuntu:~/OpenWrt/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64$ make image PROFILE=WNDR3700# ÂåÖÂê´ÂøÖÂ§áÂåÖ`È¢ÑË£ÖËΩØ‰ª∂`ÁöÑÈïúÂÉèparallels@ubuntu:~/OpenWrt/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64$ make image PROFILE=WNDR3700 PACKAGES="-dnsmasq dnsmasq-full ipset openssh-keygen openssh-server openssh-sftp-server kmod-fs-ext4 kmod-fs-ntfs kmod-fs-vfat kmod-usb2 kmod-usb-core kmod-usb-storage kmod-usb-storage-extras luci-app-firewall luci-app-samba luci-app-upnp luci luci-theme-material curl kmod-ipt-nat-extra libpcre" ÁîüÊàêÈïúÂÉè(~/OpenWrt/OpenWrt-ImageBuilder-ar71xx-generic.Linux-x86_64/bin/) openwrt-ar71xx-generic-wndr3800-squashfs-sysupgrade.bin openwrt-ar71xx-generic-wndr3800-squashfs-factory.img]]></content>
      <categories>
        <category>OpenWrt</category>
      </categories>
      <tags>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âà∂‰Ωú.ipkÂÆâË£ÖÊñá‰ª∂]]></title>
    <url>%2F2017%2F11%2F19%2F%E5%88%B6%E4%BD%9C.ipk%2F</url>
    <content type="text"><![CDATA[.ipk Êú¨Ë¥®ÊòØtar.gzÊ†ºÂºèÁöÑÂéãÁº©ÂåÖ, ÊåâÁÖßÊüêÁßçËßÑËåÉÊ†ºÂºè(Á±ª‰ºº.debÂåÖ)ËøõË°å ‚Ä¶ ÂâçË®Ä .ipk Êú¨Ë¥®ÊòØtar.gzÊ†ºÂºèÁöÑÂéãÁº©ÂåÖ, ÊåâÁÖßÊüêÁßçËßÑËåÉÊ†ºÂºè(Á±ª‰ºº.debÂåÖ)ËøõË°åÂéãÁº©ËÄåÊàêÁöÑ„ÄÇ ÂΩìÊàë‰ª¨ÂØπÂÆÉÁöÑÂÜÖÂÆπËøõË°åÊìç‰ΩúÊó∂ÂÄôÊâÄ‰ΩøÁî®ÁöÑÁî®Êà∑Âç≥ÊòØÂÆÉÂÆâË£ÖÂêéÊâÄÊã•ÊúâÁöÑÁî®Êà∑ÂíåÊùÉÈôê(sudo chown root:root -R .)„ÄÇ Â∑≤ÁªèÂ≠òÂú®ÁöÑÊñá‰ª∂Âπ∂‰∏çËÉΩËøõË°åÊõøÊç¢, ÂàáËÆ∞„ÄÇ Êñá‰ª∂‰ªãÁªç1234.‚îú‚îÄ‚îÄ control.tar.gz # ÂÆâË£Ö/Âç∏ËΩΩ ËÑöÊú¨‚îú‚îÄ‚îÄ data.tar.gz # ‰∫åËøõÂà∂/ÈÖçÁΩÆÊñá‰ª∂..‚îî‚îÄ‚îÄ debian-binary # Âõ∫ÊúâÊñá‰ª∂ control.tar.gz ÂÜÖÂÆπ1234.‚îú‚îÄ‚îÄ control # Êñá‰ª∂‰ªãÁªç[ÂåÖÊã¨: ‰æùËµñ/ÁâàÊú¨/Êû∂ÊûÑ/‰ΩúËÄÖ..]‚îú‚îÄ‚îÄ postinst # ÂÆâË£ÖËÑöÊú¨‚îî‚îÄ‚îÄ postrm # Âç∏ËΩΩËÑöÊú¨ control Ê≠§Â§Ñ‰∏æ‰∏™Ê†óÂ≠ê1234567Package: IPKName # .ipk NAMEVersion: 1Section: netPriority: optionalArchitecture: ar71xx # Á≥ªÁªüÊû∂ÊûÑMaintainer: hocgin &lt;hocgin@gmail.com&gt;Description: my first ipk postinst ÂÆâË£ÖËÑöÊú¨ Âõ†‰∏∫ÂâçË®ÄÁöÑ3ÂéüÂõ†, ÂΩìÊàë‰ª¨ÈúÄË¶ÅÂØπÂ∑≤Â≠òÂú®Êñá‰ª∂ËøõË°å‰øÆÊîπÊó∂, Âè™ËÉΩ‰ΩøÁî®ÂÜôÂÖ•ÁöÑÊñπÂºèËøõË°å‰øÆÊîπ„ÄÇ ‰æãÂ¶Ç:12#!/bin/shecho "installed done" &gt; /tmp/ipk.log postinst Âç∏ËΩΩËÑöÊú¨ Ëá™Â∑±Á∫¶ÁöÑXü§£„ÄÇ„ÄÇ ‰æãÂ¶Ç:12#!/bin/shrm -rf /tmp/ipk.log ÊâìÂåÖ~1sudo tar -czf control.tar.gz * data.tar.gz Ê≠§Â§ÑÂÆåÂÖ®ÊòØÊ†πÊçÆ‰Ω†Ë¶ÅÂ¢ûÂä†ÁöÑËÑöÊú¨ÊåâÊ†πÁõÆÂΩïËøõË°åÂ≠òÊîæÁöÑ„ÄÇ ‰æãÂ¶Ç:1234567891011121314151617181920.‚îú‚îÄ‚îÄ bin‚îÇ ‚îú‚îÄ‚îÄ ss-redir‚îÇ ‚îî‚îÄ‚îÄ ss-tunnel‚îú‚îÄ‚îÄ data.tar.gz‚îú‚îÄ‚îÄ etc‚îÇ ‚îú‚îÄ‚îÄ dnsmasq.d‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ address.conf‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ dns.conf‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ipset.conf‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ option.conf‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ server.conf‚îÇ ‚îú‚îÄ‚îÄ pdnsd.conf‚îÇ ‚îî‚îÄ‚îÄ shadowsock.json‚îú‚îÄ‚îÄ root‚îÇ ‚îú‚îÄ‚îÄ addDnsmasq.sh‚îÇ ‚îî‚îÄ‚îÄ changeService.sh‚îî‚îÄ‚îÄ usr ‚îî‚îÄ‚îÄ sbin ‚îî‚îÄ‚îÄ pdnsd ÊâìÂåÖ~1sudo tar -czf data.tar.gz * ÊúÄÂêé Â∞Ü‰∏â‰∏™Êñá‰ª∂ÊîæÂú®‰∏ÄËµ∑ËøõË°åÊâìÂåÖ 1sudo tar -czf mIPK.ipk *]]></content>
      <categories>
        <category>OpenWrt</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>OpenWrt</tag>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEA ‰∏≠ÁöÑ Spring Boot ÂºÄÂèëÊ®°Âºè]]></title>
    <url>%2F2017%2F10%2F20%2FIDEA-%E4%B8%AD%E7%9A%84-Spring-Boot-%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ü§ë ÂÆåÂÖ®ÁÉ≠ÈÉ®ÁΩ≤, ÈÖçÁΩÆÂÆåÊàêÁû¨Èó¥ËàíÁàΩÊó†ÊØî„ÄÇ .java Êñá‰ª∂ÂíåÈÖçÁΩÆÊñá‰ª∂Êõ¥ÊîπÂêéËøõË°åËá™Âä®ÈáçÂêØ Êõ¥ÊîπIDEA‰∏≠ÁöÑÂ¶Ç‰∏ãËÆæÁΩÆBuild project automatically„ÄÇ ÊâìÂºÄIDEAÁöÑAction window, Âø´Êç∑ÈîÆÂ¶Ç‰∏ã: Linux : CTRL+SHIFT+A Mac OSX : SHIFT+COMMAND+A Windows : CTRL+ALT+SHIFT+/ËæìÂÖ•(ÈÄâÊã©) Registry..., ÈÄâÊã©Â¶Ç‰∏ã: Ê≠§Êó∂ËøõË°å.java Êñá‰ª∂ÂíåÈÖçÁΩÆÊñá‰ª∂‰øÆÊîπÊó∂, ‰ºöËøõË°å Spring Boot ÈáçÂêØ„ÄÇ ÂΩìÊõ¥ÊîπÈùôÊÄÅHTMLËøõË°åÂÆûÊó∂Âà∑Êñ∞ Âä†ÂÖ•‰æùËµñ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;/dependency&gt; ÂÆâË£ÖÊµèËßàÂô®Êèí‰ª∂ Chrome Êèí‰ª∂ Firefox Êèí‰ª∂ Safari Êèí‰ª∂ Êõ¥ÊîπÊñá‰ª∂ÂíåÈùôÊÄÅÈ°µÈù¢(HTML)ÈÉΩÂèØ‰ª•ËøõË°åÁÉ≠ÈÉ®ÁΩ≤Á±ª„ÄÇ ÂÆûÊó∂Âà∑Êñ∞thymeleafÊ®°ÁâàÊñá‰ª∂ÈÖçÁΩÆÊñá‰ª∂ËÆæÁΩÆÂèñÊ∂àÁºìÂ≠ò: 123spring: thymeleaf: cache: false Chrome ËÆæÁΩÆÂèñÊ∂àÁºìÂ≠ò: Ê≠§Êó∂Âá†‰πéÊâÄÊúâÁöÑ‰∏úË•ø(.java/`/SpringBoot ÈÖçÁΩÆÊñá‰ª∂`)ÈÉΩÂèØ‰ª•ËøõË°åÁÉ≠ÈÉ®ÁΩ≤‰∫Ü„ÄÇÂåÖÊã¨: ‰øÆÊîπ .java Êñá‰ª∂„ÄÇ ‰øÆÊîπÈ°µÈù¢(thymeleaf html ..) Êñá‰ª∂„ÄÇ ‰øÆÊîπ SpringBoot ÈÖçÁΩÆÊñá‰ª∂„ÄÇ Â¢ûÂà†ÈùôÊÄÅÊñá‰ª∂(css js ÂõæÁâá)„ÄÇ ÂÖ≥‰∫éÂÆöÂà∂ÂåñÁÉ≠ÈÉ®ÁΩ≤ ÂèØÊü•ËØ¢spring-boot-devtoolsÁöÑ‰ΩøÁî®, ‰ΩøÁî®‰ª•‰∏ãÂ≠êÈ°πËøõË°åÈÖçÁΩÆ„ÄÇ 12spring: devtools: IDEA Êâ©Â±ï pom.xml Ê∑ªÂä†‰ª•‰∏ã‰æùËµñÂèØÊü•ÁúãÊõ¥Â§öÁöÑ‰ø°ÊÅØ„ÄÇËØ•‰æùËµñÊòØÂèØÊü•ÁúãÁõëÊéß‰ø°ÊÅØÁöÑ, Êõ¥Â§ö‰ΩøÁî®ÁßªÊ≠• Google.com„ÄÇ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt; IDEA ÊòæÁ§∫Â¶Ç‰∏ã:]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>Tips</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JQuery.pjax Êó†Ê≥ïÂÜçÊ¨°ÂàùÂßãÂåñÂΩìÂâçÈ°µÈù¢ÁöÑJS]]></title>
    <url>%2F2017%2F10%2F19%2FJQuery.pjax%E6%97%A0%E6%B3%95%E5%86%8D%E6%AC%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E7%9A%84JS%2F</url>
    <content type="text"><![CDATA[Pjax Âæà‰πÖ‰πãÂâçÁî®Ëøá‰∏ÄÊ¨°, Ëøô‰∏ÄÊ¨°Âú®Êï¥ÂêàÂêéÂè∞Ê®°ÁâàÔºåÂèëÁé∞ÁΩë‰∏äÂØπËøô‰∏™ÂùëÁ´üÁÑ∂ÊòØÊîπÊ∫êÁ†Å‚Ä¶Âú®ËøôËØ¶ÁªÜËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ ÈóÆÈ¢òÂΩì JQuery.pjax Âä†ËΩΩÈ°µÈù¢Âêé, ÂÜçÊ¨°Âä†ËΩΩËØ•È°µÈù¢Êó∂ÔºåÂÖ∂ÂÜÖÈÉ®ÁöÑÂàùÂßãÂåñ JS Êàñ script inline Âπ∂‰∏çËÉΩË¢´ÂÜçÊ¨°ÊâßË°å„ÄÇ‰æãÂ¶Ç:123456789101112131415161718192021222324252627&lt;div id="pjax-container"&gt; &lt;!-- .. --&gt;&lt;/div&gt;&lt;!-- jQuery 3 --&gt;&lt;script th:src="jquery.min.js"&gt;&lt;/script&gt;&lt;!-- jQuery Pjax --&gt;&lt;script th:src="jquery.pjax.js"&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; $(document).ready(function () &#123; if ($.support.pjax) &#123; $(document).pjax('a[data-pjax]', '#pjax-container', &#123; maxCacheLength: 0, push: false, replace: true, fragment: '#pjax-container', timeout: 8000 &#125;); &#125; &#125;);&lt;/script&gt;&lt;script type="text/javascript"&gt; $(function()&#123; console.log("‰∏çËÉΩË¢´ÂÜçÊ¨°ÊâßË°å"); &#125;);&lt;/script&gt;&lt;!-- ‰∏çËÉΩË¢´ÂÜçÊ¨°ÊâßË°å --&gt;&lt;script type="text/javascript" src="init.js"&gt;&lt;/script&gt; Ëß£ÂÜ≥ÂäûÊ≥ï ÂÖ∂ÂéüÂõ†ÊòØJQuery.pjaxÂØπjsËøõË°å‰∫ÜÁºìÂ≠ò, ÂèØ‰ª•‰ΩøÁî®JQueryËøõË°åÂä†ËΩΩ, ÂΩìÁÑ∂ÂÖ∂‰ª£‰ª∑ÊòØÁâ∫Áâ≤‰∫ÜËøôÈÉ®ÂàÜÈÉΩÁºìÂ≠ò, ‰∏çËøáÂõ†‰∏∫ÊòØÁâπÂÆöÈ°µÈù¢ÁöÑËÑöÊú¨, Áâ∫Áâ≤ÁöÑÁºìÂ≠òÂá†‰πéÂèØ‰ª•ÂøΩÁï•„ÄÇ‰æãÂ≠êÂ¶Ç‰∏ã:123456789101112131415161718192021222324252627282930&lt;div id="pjax-container"&gt; &lt;!-- .. --&gt; &lt;!-- ËÉΩË¢´ÂÜçÊ¨°ÊâßË°å --&gt; &lt;script th:inline="javascript"&gt; $.getScript('/admin-lte/dist/js/pages/dashboard2.js'); &lt;/script&gt; &lt;script type="text/javascript" src="init.js"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt; $(function()&#123; console.log("ËÉΩË¢´ÂÜçÊ¨°ÊâßË°å"); &#125;); &lt;/script&gt;&lt;/div&gt;&lt;!-- jQuery 3 --&gt;&lt;script th:src="jquery.min.js"&gt;&lt;/script&gt;&lt;!-- jQuery Pjax --&gt;&lt;script th:src="jquery.pjax.js"&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; $(document).ready(function () &#123; if ($.support.pjax) &#123; $(document).pjax('a[data-pjax]', '#pjax-container', &#123; maxCacheLength: 0, push: false, replace: true, fragment: '#pjax-container', timeout: 8000 &#125;); &#125; &#125;);&lt;/script&gt;]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Pjax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Thymeleaf 3.0 ÊâãÂÜå]]></title>
    <url>%2F2017%2F10%2F18%2FThymeleaf-3.0-%E6%89%8B%E5%86%8C%2F</url>
    <content type="text"><![CDATA[Spring ÂÆòÊñπÊé®Â¥áÁöÑÊ®°ÁâàÂºïÊìéÔºåÈÅµÂæ™ HTML5ËßÑËåÉ„ÄÇ HTML5Ëã•Ë¶ÅÂÆåÂÖ®ÈÅµÂæ™HTML5ËßÑËåÉÔºåÂèØ‰ΩøÁî® data-th-* ‰ª£Êõø th:*„ÄÇ Ê†áÁ≠æth:each foreach Âæ™ÁéØËØ≠Ê≥ï: th:each=‚Äùobj, index:list‚Äù12345678&lt;th:block th:each="permission, i:$&#123;role.permissions&#125;"&gt; &lt;tr th:attr="data-tt-id=$&#123;permission.id&#125;, data-tt-parent-id=$&#123;permission.parent&#125;, data-tt-branch=$&#123;permission.hasChildren&#125;"&gt; &lt;td th:text="$&#123;permission.name&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;permission.url&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;permission.type&#125;"&gt;&lt;/td&gt; &lt;td th:text="$&#123;permission.permission&#125;"&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/th:block&gt; th:inline Ëß£ÊûêÂÜÖÂµåËØ≠Ê≥ï, ‰∏ÄËà¨ÊòØÊ∑∑ÂêàjavascriptËØ≠Ê≥ï: th:inline=‚Äùjavascript|text|none‚Äù123456&lt;script th:inline="javascript"&gt;/*&lt;![CDATA[*/var welcome = [[$&#123;welcome&#125;]] 'ËøôÊòØ‰∏Ä‰∏™ Thymeleaf ÂèòÈáè';var default_value = [[$&#123;maxCount?:0&#125;]]/*]]&gt;*/&lt;/script&gt; th:fragment ÂÆö‰πâÊ®°ÁâàÔºåËØ≠Ê≥ï: th:fragment=‚ÄùÊ®°ÂùóÂêç(ÂèòÈáè)‚ÄùÂèòÈáèÈÉ®ÂàÜ‰∏∫ÂèØÈÄâ, ÈÖçÂêà th:with ‰ΩøÁî®„ÄÇ123456&lt;!-- ‰∏ç‰øùÁïôÊú¨Ë∫´ÁöÑÊ†áÁ≠æ, ‰øùÁïô th:fragment ÁöÑÊ†áÁ≠æ --&gt;&lt;div th:replace="/admin/fragments/header::header"&gt;&lt;/div&gt;&lt;!-- ‰øùÁïôÊú¨Ë∫´ÁöÑÊ†áÁ≠æ, ‰øùÁïô th:fragment ÁöÑÊ†áÁ≠æ --&gt;&lt;div th:insert="/admin/fragments/header::header"&gt;&lt;/div&gt;&lt;!-- @ËøáÊúü, ‰øùÁïôÊú¨Ë∫´ÁöÑÊ†áÁ≠æ, ‰∏ç‰øùÁïô th:fragment ÁöÑÊ†áÁ≠æ --&gt;&lt;div th:include="/admin/fragments/header::header"&gt;&lt;/div&gt; th:with ÂÆö‰πâÂèòÈáè„ÄÇËØ≠Ê≥ï: th:with=‚ÄùÂ≠óÊÆµ1=ÂÄº, Â≠óÊÆµ2=ÂÄº2‚Äù1&lt;div th:with="id='UploadImage',var='image',height=1,maxCount=1"&gt;&lt;/div&gt; th:if Â∞±ÊòØ if ..1234567&lt;div th:if="$&#123;true&#125;"&gt;&lt;/div&gt;&lt;!-- Â∏ÉÂ∞îÂÄº. 0 = false "false"/"off"/"no" = false null = false --&gt; th:switch/th:case1234&lt;ul th:switch="$&#123;val&#125;"&gt; &lt;li th:case="1"&gt;1&lt;/li&gt; &lt;li th:case="2"&gt;2&lt;/li&gt;&lt;/ul&gt; th:selected ÂèØÁî®‰∫é Ê†áÁ≠æ1234&lt;select class="form-control" id="type" name="type"&gt; &lt;option value="0" th:selected="$&#123;permission?.type==0&#125;"&gt;ËèúÂçï&lt;/option&gt; &lt;option value="1" th:selected="$&#123;permission?.type==1&#125;"&gt;Êï∞ÊçÆ&lt;/option&gt;&lt;/select&gt; Ê≥®ÈáäËØ≠Ê≥ï123456789&lt;!--/* ËøôÈáåÊòØ ÁºñËØëÂô®ÊòæÁ§∫‰∏∫Ê≥®Èáä, ÊµèËßàÂô®‰∏çÂèØËßÅ */--&gt;&lt;!--/*--&gt;&lt;div&gt;ËøôÈáåÊòØ ÁºñËØëÂô®ÊòæÁ§∫‰∏çÊ≥®ÈáäÔºåÊµèËßàÂô®‰∏çÂèØËßÅ &lt;/div&gt;&lt;!--*/--&gt;&lt;!--/*/&lt;div th:text="$&#123;'ËøôÈáåÊòØ ÁºñËæëÂô®ÊòæÁ§∫‰∏∫Ê≥®Èáä, ÊµèËßàÂô®ÂèØËßÅ'&#125;"&gt;...&lt;/div&gt;/*/--&gt; Ë°®ËææÂºèURL Ë°®ËææÂºè123456&lt;img th:src="@&#123;/img/tup.png&#125;" alt="ÁªùÂØπË∑ØÂæÑ"&gt;&lt;!-- &lt;img alt="ÁªùÂØπË∑ØÂæÑ" src="/img/tup.png"&gt; --&gt;&lt;img th:src="@&#123;../img/tup.png&#125;" alt="Áõ∏ÂØπË∑ØÂæÑ"&gt;&lt;!-- &lt;img alt="Áõ∏ÂØπË∑ØÂæÑ" src="../img/tup.png"&gt; --&gt;&lt;img th:src="@&#123;../img/tup.png(size=$&#123;100&#125;)&#125;" alt="Â∏¶ÂèÇÊï∞ÁöÑË∑ØÂæÑ"&gt;&lt;!-- &lt;img alt="Â∏¶ÂèÇÊï∞ÁöÑË∑ØÂæÑ" src="../img/tup.png?size=100"&gt; --&gt; ÂõΩÈôÖÂåñË°®ËææÂºè ÂàõÂª∫ resources/messages_zh_CN.properties, ÂÖ∂ÂÜÖÂÆπ: 1message.error=ÈîôËØØ ÈÖçÁΩÆ application.yml (‰ΩøÁî® xml ÁöÑÊâßË°åËΩ¨Êç¢) 123spring: messages: basename: messages_zh_CN ‰ΩøÁî® 1&lt;div th:text="#&#123;message.error&#125;"&gt;Error&lt;/div&gt; ÂèòÈáèË°®ËææÂºè ÊúÄÂü∫Êú¨ÁöÑË°®ËææÂºè, Á±ª‰ºº‰∫é EL Ë°®ËææÂºè„ÄÇ Âêà org.springframework.ui.Model ‰ΩøÁî®„ÄÇ ÂèØ‰ª•‰ΩøÁî®‰ºóÂ§öÂÜÖÁΩÆÂØπË±°„ÄÇ @ËÆøÈóÆ Spring ÂÆπÂô®ÂÜÖÂØπË±° 1&lt;span th:text="$&#123;author.name&#125;"&gt; ÂèòÈáèË°®ËææÂºè - Êâ©Â±ï 11234567891011121314&lt;ul th:object="$&#123;author&#125;"&gt; &lt;li th:text="*&#123;name&#125;"&gt;&lt;/li&gt; &lt;li th:text="*&#123;mail&#125;"&gt;&lt;/li&gt; &lt;li th:text="*&#123;address&#125;"&gt;&lt;/li&gt;&lt;/ul&gt;&lt;!-- Á≠â‰ª∑‰∫é &lt;ul&gt; &lt;li th:text="$&#123;author.name&#125;"&gt;&lt;/li&gt; &lt;li th:text="$&#123;author.mail&#125;"&gt;&lt;/li&gt; &lt;li th:text="$&#123;author.address&#125;"&gt;&lt;/li&gt; &lt;/ul&gt;--&gt; ÂèòÈáèË°®ËææÂºè - Êâ©Â±ï 21&lt;div th:text="$&#123;@demoService.getStr('hocgin')&#125;"&gt;&lt;/div&gt; È¢ÑÂ§ÑÁêÜË°®ËææÂºè ÂâçÁΩÆËÆæÁΩÆ, Controller 12345678@GetMapping(&#123;"/test.html"&#125;)public String index(Model model, @PathVariable String page) &#123; model.addAttribute("key", "error"); HashMap&lt;String, String&gt; vm = new HashMap&lt;&gt;(); vm.put("error", "Êù•Ëá™ $&#123;&#125; Ë°®ËææÂºè"); model.addAttribute("obj", vm); return String.format("test.html", page);&#125; ÂâçÁΩÆËÆæÁΩÆ, messages_zh_CN.properties ÂèÇËÄÉÂõΩÈôÖÂåñË°®ËææÂºè 1message.error=ÈîôËØØ test.html ÁºñÂÜô 123456&lt;a th:href="@&#123;/img/__$&#123;1+1&#125;__&#125;"&gt;ËøûÊé•&lt;/a&gt;&lt;!-- &lt;a href="/img/2"&gt;ËøûÊé•&lt;/a&gt; --&gt;&lt;div th:text="#&#123;message.__$&#123;key&#125;__&#125;"&gt;&lt;/div&gt;&lt;!-- &lt;div&gt;ÈîôËØØ&lt;/div&gt; --&gt;&lt;div th:text="$&#123;obj.__$&#123;key&#125;__&#125;"&gt;&lt;/div&gt;&lt;!-- &lt;div&gt;Êù•Ëá™ $&#123;&#125; Ë°®ËææÂºè&lt;/div&gt; --&gt; Fragment Ë°®ËææÂºè ~{‚Ä¶} Ë°®ËææÂºèËØ≠Ê≥ïÂ≠óÁ¨¶‰∏≤ÊãºÊé•‰ΩøÁî® + ÊàñËÄÖ |..| 1234&lt;span th:text="'1+1=' + $&#123;1+1&#125;"&gt;&lt;/span&gt;&lt;!-- 1+1=2 --&gt;&lt;span th:text="|1+1=$&#123;1+1&#125;|"&gt;&lt;/span&gt;&lt;!-- 1+1=2 --&gt; ËøêÁÆóÁ¨¶Âè∑‰ΩøÁî® +, -, *, /, %„ÄÇ 12&lt;span th:text="-((1+1-1)*2/2)%9"&gt;&lt;/span&gt;&lt;!-- -1 --&gt; ‰∏é Êàñ Èùû‰ΩøÁî® and , or Âíå ! , not„ÄÇ 123456789101112&lt;span th:text="1==1 and true"&gt;&lt;/span&gt;&lt;!-- true --&gt;&lt;span th:text="true and false"&gt;&lt;/span&gt;&lt;!-- false --&gt;&lt;span th:text="true or false"&gt;&lt;/span&gt;&lt;!-- true --&gt;&lt;span th:text="not true"&gt;&lt;/span&gt;&lt;!-- false --&gt;&lt;span th:text="! false"&gt;&lt;/span&gt;&lt;!-- true --&gt; ÂÖ≥Á≥ªË°®ËææÂºè‰ΩøÁî® &gt;, &lt;, &gt;=, &lt;=, ==, !=„ÄÇÊàñËÄÖ gt, lt, ge, le, eq, ne„ÄÇ 1234&lt;span th:text="((1 &gt; 2 and 2 &lt; 3) or (2 &gt;= 2 and 2 &lt;= 5)) and (1 == 1 and 1 != 2)"&gt;&lt;/span&gt;&lt;!-- true --&gt;&lt;span th:text="((1 gt 2 and 2 lt 3) or (2 ge 2 and 2 le 5)) and (1 eq 1 and 1 ne 2)"&gt;&lt;/span&gt;&lt;!-- true --&gt; ÁÆÄÂçïÊù°‰ª∂Ë°®ËææÂºè‰ΩøÁî®:if-then (if) ? (then)if-then-else (if) ? (then) : (else)default (value) ?: (defaultValue) 123456&lt;span th:text="true ? 'hocgin'"&gt;&lt;/span&gt;&lt;!-- hocgin --&gt;&lt;span th:text="false ? 'hocgin' : 'hocg.in'"&gt;&lt;/span&gt;&lt;!-- hocg.in --&gt;&lt;span th:text="$&#123;iname&#125; ?: 'hocgin'"&gt;&lt;/span&gt;&lt;!-- hocgin --&gt; Ëß£Êûê‰ºòÂÖàÁ∫ß Á∫ßÂà´ ÊèèËø∞ thÂ±ûÊÄß 1 (Fragment inclusion)‰ª£Á†ÅÁâáÊÆµÂØºÂÖ• th:insert,th:replace 2 (Fragment iteration)Ëø≠‰ª£ th:each 3 (Conditional evaluation)Êù°‰ª∂ th:if,th:unless,th:switch,th:case 4 (Local variable definition)Â±ÄÈÉ®ÂèòÈáè th:object,th:with 5 (General attribute modification)ÈÄöÁî®Â±ûÊÄß‰øÆÊîπ th:attr,th:attrprepend,th:attrappend 6 (Specific attribute modification)ÂÖ∑‰ΩìÂ±ûÊÄß‰øÆÊîπ th:value,th:href,th:src ‚Ä¶ 7 (Text tag body modification) ÊñáÊú¨ËäÇÁÇπ‰øÆÊîπ th:text,th:utext 8 (Fragment specification) ‰ª£Á†ÅÊÆµÂÆö‰πâ th:fragment 9 (Fragment removal) ‰ª£Á†ÅÊÆµÂà†Èô§ th:remove Âü∫Á°ÄÂØπË±°#ctx (org.thymeleaf.spring4.context.SpringWebContext)123456789101112131415161718192021/** * org.thymeleaf.context.IContext **/// ÂΩìÂâçËØ≠Ë®ÄÁéØÂ¢É(eg. en_US)„ÄÇ Á≠â‰ª∑‰∫é &#123;#locale&#125;$&#123;#ctx.locale&#125;// org.thymeleaf.context.VariablesMap ÂØπË±°, ÂÜÖÈÉ®Â≠òÂÇ®ÁöÑÊòØÂèØÁî®‰∫éÂΩìÂâç‰∏ä‰∏ãÊñá(Context)ÁöÑÂØπË±°„ÄÇÁ≠â‰ª∑‰∫é &#123;#vars&#125;$&#123;#ctx.variables&#125;/** * org.thymeleaf.context.IWebContext **/$&#123;#ctx.applicationAttributes&#125;// Á≠â‰ª∑‰∫é &#123;#httpServletRequest&#125;$&#123;#ctx.httpServletRequest&#125;$&#123;#ctx.httpServletResponse&#125;// Á≠â‰ª∑‰∫é &#123;#httpSession&#125;$&#123;#ctx.httpSession&#125;$&#123;#ctx.requestAttributes&#125;$&#123;#ctx.requestParameters&#125;$&#123;#ctx.servletContext&#125;$&#123;#ctx.sessionAttributes&#125; param (org.apache.catalina.util.ParameterMap)ÂåÖÂê´ÂΩìÂâçÈ°µÈù¢ÁöÑËØ∑Ê±ÇÁöÑÂèÇÊï∞(eg. http://localhost:8080/admin/test.html?name=hocgin)„ÄÇ 1234567// ËøîÂõûÂØπË±°$&#123;param.name&#125; // Ëé∑ÂæóÂÄº: hocgin$&#123;param.name[0]&#125; $&#123;param.size()&#125;$&#123;param.isEmpty()&#125;$&#123;param.containsKey('name')&#125; session (org.thymeleaf.context.WebSessionVariablesMap)‰ªé Session Ëé∑ÂèñÂÜÖÂÆπ„ÄÇ 12345// Ëé∑ÂæóÂÄº: hocgin$&#123;session.name&#125;$&#123;session.size()&#125;$&#123;session.isEmpty()&#125;$&#123;session.containsKey('name')&#125; #httpServletRequest (org.apache.catalina.connector.RequestFacade)#themes (org.thymeleaf.spring4.expression.Themes)application#dates (org.thymeleaf.expression.Dates)#calendars (org.thymeleaf.expression.Calendars)#numbers (org.thymeleaf.expression.Numbers)#strings (org.thymeleaf.expression.Strings)#objects (org.thymeleaf.expression.Objects)#bools (org.thymeleaf.expression.Bools)#arrays (org.thymeleaf.expression.Arrays)#lists (org.thymeleaf.expression.Lists)#sets (org.thymeleaf.expression.Sets)#maps (org.thymeleaf.expression.Maps)#aggregates (org.thymeleaf.expression.Aggregates)#messages (org.thymeleaf.expression.Messages)#ids (org.thymeleaf.expression.Ids)‰ª£Á†ÅÁ§∫‰æã 123456789101112131415161718192021222324### `#locale` (&lt;span th:text="$&#123;#locale&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#ctx` (&lt;span th:text="$&#123;#ctx&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#vars` (&lt;span th:text="$&#123;#vars&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `param` (&lt;span th:text="$&#123;param&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `application` (&lt;span th:text="$&#123;application&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `session` (&lt;span th:text="$&#123;session&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#httpSession` (&lt;span th:text="$&#123;#httpSession&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#httpServletRequest` (&lt;span th:text="$&#123;#httpServletRequest&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#themes` (&lt;span th:text="$&#123;#themes&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#dates` (&lt;span th:text="$&#123;#dates&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#calendars` (&lt;span th:text="$&#123;#calendars&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#numbers` (&lt;span th:text="$&#123;#numbers&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#strings` (&lt;span th:text="$&#123;#strings&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#objects` (&lt;span th:text="$&#123;#objects&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#bools` (&lt;span th:text="$&#123;#bools&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#arrays` (&lt;span th:text="$&#123;#arrays&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#lists` (&lt;span th:text="$&#123;#lists&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#sets` (&lt;span th:text="$&#123;#sets&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#maps` (&lt;span th:text="$&#123;#maps&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#aggregates` (&lt;span th:text="$&#123;#aggregates&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#messages` (&lt;span th:text="$&#123;#messages&#125;"&gt;&lt;/span&gt;)&lt;br&gt;### `#ids` (&lt;span th:text="$&#123;#ids&#125;"&gt;&lt;/span&gt;)&lt;br&gt; ÈáçÁÇπ Âú® thymeleaf ‰∏≠‰ΩøÁî® Spring ÂÆπÂô®ÂÜÖÁöÑÂçï‰æã. 1&lt;div th:text="$&#123;@demoService.getStr('hocgin')&#125;"&gt;&lt;/div&gt; ÂºïÂÖ•Ê®°ÁâàÁâáÊÆµ XPath Ë°®ËææÂºè 1&lt;div th:include="mytemplate :: [//div[@class='content']]"&gt;&lt;/div&gt; CSS Ë°®ËææÂºè 1&lt;div th:include="mytemplate :: [div.content]"&gt;&lt;/div&gt; ÂºïÂÖ•ÂÖ¨ÊúâÁâáÊÆµ(JS Êàñ CSS) 123&lt;css th:replace="mytemplate :: common-css"&gt;&lt;/css&gt;&lt;js th:replace="@&#123;mytemplate&#125; :: common-css"&gt;&lt;/js&gt;&lt;!-- ÂèØÁªìÂêà Ë∑ØÂæÑË°®ËææÂºè --&gt; Êâ©Â±ïthymeleaf-layout-dialect ‰∏ÄËà¨ÊÉÖÂÜµÁΩëÁ´ôÈÉΩÊúâ‰∏Ä‰∏™Â§ñÈÉ®Ê°ÜÊû∂, Â¶Ç header ÊàñËÄÖ footer, Ëøô‰∏™Êâ©Â±ï‰æøÊòØÁî®‰∫éÊäΩÁ¶ªÈÇ£‰∫õÈáçÂ§çÁöÑÈÉ®ÂàÜÁöÑ„ÄÇ layout:decoratorÊåáÂÆöÈúÄ‰ΩøÁî®ÁöÑÁà∂Á∫ßÊ®°Áâà123456&lt;html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="/admin/_layouts/default"&gt; ...&lt;/html&gt; layout:fragment Âú®Áà∂Ê®°Áâà‰∏≠‰ΩøÁî®ÂÆö‰πâ‰∏Ä‰∏™Ê†áËÆ∞ÔºåÂú®Â≠êÊ®°Áâà‰∏≠‰ΩøÁî®Ë¶ÜÁõñÂà∞Áà∂Ê®°Áâà‰ΩçÁΩÆ„ÄÇ123456789101112&lt;!-- Áà∂ --&gt;&lt;div layout:fragment="content"&gt; &lt;p&gt;Áà∂Ê®°ÁâàÂÜÖÂÆπ&lt;/p&gt;&lt;/div&gt;&lt;!-- Â≠ê --&gt;&lt;div layout:fragment="content"&gt; &lt;p&gt;Â≠êÊ®°ÁâàÂÜÖÂÆπ&lt;/p&gt;&lt;/div&gt;&lt;!-- ÁîüÊàê --&gt;&lt;div&gt; &lt;p&gt;Â≠êÊ®°ÁâàÂÜÖÂÆπ&lt;/p&gt;&lt;/div&gt; layout:title-pattern Áî®‰∏é Ê†áÁ≠æ, ÊåáÂÆö title ÁöÑÂÄº„ÄÇ12&lt;!-- ÂêéÂè∞ - Â≠êÊ†áÈ¢ò --&gt;&lt;title layout:title-pattern="$DECORATOR_TITLE - $CONTENT_TITLE"&gt;ÂêéÂè∞&lt;/title&gt; ÈªëÁßëÊäÄ ÂΩìÊàë‰ª¨ÊÉ≥Âèñ‰∏Ä‰∏™ÂØπË±°ÈáåÈù¢ÁöÑ‰∏Ä‰∏™Â±ûÊÄß, ‰ΩÜËøô‰∏™ÂØπË±°ÂèØËÉΩ‰∏∫Á©∫Êó∂(üòã)„ÄÇ1&lt;td th:text="$&#123;user?.address?.city&#125;"&gt;&lt;/td&gt;]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>HTML5</tag>
        <tag>Thymeleaf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDK8 Êñ∞ÁâπÊÄßÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2017%2F10%2F10%2FJDK8%20%E6%96%B0%E7%89%B9%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[JDK8 Êñ∞ÁâπÊÄßÁöÑ‰ΩøÁî® JDK8 Êñ∞ÁâπÊÄßLambda Ë°®ËææÂºè &amp;&amp; @FunctionalInterfaceJava8 ÊîØÊåÅ‰∫Ü Lambda Ë°®ËææÂºèÔºåËØ≠Ê≥ïÂ¶Ç‰∏ã:12345678910// Ê†áÂáÜÂºè(ÂΩ¢ÂèÇ) -&gt; &#123; ..‰ª£Á†Å&#125;// ÁÆÄÂåñÂºè() -&gt; System.out.print("ÁÆÄÂåñÂºè")// Ê°à‰æãÔºönew Thread(() -&gt; System.out.print("run")).run(); Áî±‰∫é Lambda Ë°®ËææÂºèÊòØÂØπÂçï‰∏™ÂáΩÊï∞ÁöÑÊé•Âè£(interface)ËøõË°åÁÆÄÂåñÂ§ÑÁêÜÔºåÂç≥Ë¶Å‰øùËØÅÊé•Âè£‰∏çËÉΩÂ≠òÂú®ÂêéÁª≠Êñ∞Â¢ûÂáΩÊï∞Â£∞ÊòéÔºåËøôÊó∂Â∞±ÈúÄË¶ÅÂºïÂÖ• @FunctionalInterface ËøõË°åÊ≥®Ëß£„ÄÇ‰ª•‰∏ãÊòØ Java8 ‰∏ã Runable Êé•Âè£ÁöÑÂ£∞ÊòéÔºö123456789101112131415@FunctionalInterfacepublic interface Runnable &#123; /** * When an object implementing interface &lt;code&gt;Runnable&lt;/code&gt; is used * to create a thread, starting the thread causes the object's * &lt;code&gt;run&lt;/code&gt; method to be called in that separately executing * thread. * &lt;p&gt; * The general contract of the method &lt;code&gt;run&lt;/code&gt; is that it may * take any action whatsoever. * * @see java.lang.Thread#run() */ public abstract void run();&#125; Ê≥®: @FunctionalInterface Êé•Âè£ÂÜÖÂÖÅËÆ∏ÊúâÈùôÊÄÅÂáΩÊï∞ÂÆûÁé∞ÂíåÈªòËÆ§ÂáΩÊï∞ÂÆûÁé∞„ÄÇ Âç≥Â¶Ç‰∏ã123456789101112interface R2 extends Runnable &#123; // ÈªòËÆ§ÂáΩÊï∞ÂÆûÁé∞ default String to() &#123; return getClass().toString(); &#125; // ÈùôÊÄÅÂáΩÊï∞ÂÆûÁé∞ static String in() &#123; return "in()"; &#125;&#125; Ëøô‰πüÊòØ Java8 interface ‰∏≠ÁöÑÊñ∞ÁâπÊÄß„ÄÇÂÖ≥‰∫é :: ÂáΩÊï∞ÁöÑÂºïÁî® (ÈùôÊÄÅÂáΩÊï∞ÂºïÁî®„ÄÅÊûÑÈÄ†ÂáΩÊï∞ÂºïÁî®„ÄÅÁâπÂÆöÂØπË±°ÂáΩÊï∞ÂºïÁî®) 12345678910111213141516171819202122232425262728293031public class Main &#123; public static void main(String[] args) &#123; // ÂØπÊûÑÈÄ†ÂáΩÊï∞ËøõË°åÂºïÁî®ÔºåÁÆÄÂçïÂ∑•ÂéÇÂÆûÁé∞ Supplier&lt;Car&gt; aNew = Car::new; for (int i = 0; i &lt; 3; i++) &#123; System.out.println(aNew.get()); &#125; // ÈùôÊÄÅÂáΩÊï∞ÂºïÁî® Function&lt;Supplier&lt;Car&gt;, Car&gt; create = Car::create; Car car = create.apply(Car::new); // ÁâπÂÆöÂØπË±°ÁöÑÂáΩÊï∞ÂºïÁî® // Ë°•ÂÖÖ:Âú® Car ÂáΩÊï∞‰∏≠‰ΩøÁî® this::to ‰πüÊòØ‰∏ÄÁßç Function&lt;String, String&gt; to = car::to; System.out.println(to.apply("Shanghai")); &#125; &#125;class Car &#123; public static Car create(Supplier&lt;Car&gt; carSupplier) &#123; return carSupplier.get(); &#125; public String to(String address) &#123; return String.format("to %s ", address); &#125;&#125; Ê≥®: Function&lt;ÂèÇÊï∞, ËøîÂõûÂÄº&gt; create = Car::create;ÊµãËØïÂêéÂèëÁé∞Âè™ÊîØÊåÅÊúÄÂ§ö2‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÂØπÂ∫î Function, BiFunction„ÄÇ Âç≥, :: ÊòØÂØπÂáΩÊï∞ËøõË°åÂºïÁî®„ÄÇ‰ΩøÁî® @Repeatable ÊîØÊåÅÈáçÂ§çÊ≥®Ëß£Âú® Java8 ‰∏≠, ‰∏çÂÜçÈôêÂà∂Áõ∏ÂêåÁöÑÊ≥®Ëß£Âú®Âêå‰∏Ä‰ΩçÁΩÆÂè™ËÉΩÂ£∞Êòé‰∏ÄÊ¨°„ÄÇÁÆÄÂçïÁ§∫‰æã:123456789101112131415161718192021222324public class RepeatableMain &#123; @Filter("filter-1") @Filter("filter-2") public static void main(String[] args) &#123; for (Method method : RepeatableMain.class.getDeclaredMethods()) &#123; System.out.println(Arrays.asList(method.getAnnotations()).toString()); &#125; &#125; @Target(ElementType.METHOD) @Retention(RetentionPolicy.RUNTIME) @interface Filters &#123; Filter[] value(); &#125; @Target(ElementType.METHOD) @Retention(RetentionPolicy.RUNTIME) @Repeatable(Filters.class) // ÊåáÂÆöÂ§öÊ≥®Ëß£ÁöÑÊ≥®Ëß£Á±ª @interface Filter &#123; String value(); &#125;&#125; Êñ∞Â¢ûÊ≥®Ëß£ÊîØÊåÅÁ±ªÂûã ElementType.TYPE_PARAMETERElementType.TYPE_USE12345678910111213141516171819202122232425262728public class Annotations &#123; @Retention(RetentionPolicy.RUNTIME) @Target(&#123;ElementType.TYPE_USE, ElementType.TYPE_PARAMETER&#125;) public @interface Both &#123; &#125; @Retention(RetentionPolicy.RUNTIME) @Target(&#123;ElementType.TYPE_PARAMETER&#125;) public @interface Parameter &#123; &#125; @Retention(RetentionPolicy.RUNTIME) @Target(&#123;ElementType.TYPE_USE&#125;) public @interface Use &#123; &#125; public static class Holder&lt;@Both @Use @Parameter T&gt; extends @Both @Use Object &#123; public void method() throws @Both @Use Exception &#123; &#125; &#125; @SuppressWarnings("unused") public static void main(String[] args) &#123; final Holder&lt;String&gt; holder = new @Both @Use Holder&lt;&gt;(); @Both @Use Collection&lt;@Both @Use String&gt; strings = new ArrayList&lt;&gt;(); &#125;&#125; ElementType.TYPE_PARAMETER Ë°®Á§∫Ê≥®Ëß£ÂèØ‰ª•Âú®Ê≥õÂûãÂ£∞ÊòéÂâç‰ΩøÁî®„ÄÇ ElementType.TYPE_USE Ë°®Á§∫Ê≥®Ëß£ÂèØ‰ª•Âú®ÂÖ®ÈÉ®Á±ªÂûã‰ΩçÁΩÆ‰ΩøÁî®„ÄÇ Java ÁºñËØëÂô®Êñ∞ÁâπÊÄßÂú® java8 ‰∏≠, ÂèØ‰ª•Âú®ÁºñËØëÊó∂‰ΩøÁî®‚ÄìparametersÂèÇÊï∞‰øùÂ≠òÂáΩÊï∞ÂΩ¢ÂèÇÁöÑÂéüÂèòÈáèÂëΩÂêçÔºåÁÑ∂ÂêéÂú®‰ª£Á†Å‰∏≠ÂèØÈÄöËøáÂèçÂ∞ÑËé∑ÂæóÂáΩÊï∞ÁöÑÂèòÈáèÂëΩÂêç„ÄÇÁ§∫‰æãÂ¶Ç‰∏ã:123456789public class JVMs &#123; public static void main(String[] args) throws NoSuchMethodException &#123; Method method = JVMs.class.getMethod("main", String[].class); for (final Parameter parameter : method.getParameters()) &#123; System.out.println(String.format("%s Ê£ÄÊµãÂà∞ÂéüÂèòÈáèÂêç", parameter.isNamePresent() ? "ÂèØ‰ª•": "‰∏çÂèØ‰ª•")); System.out.println(String.format("ÂèÇÊï∞: %s", parameter.getName())); &#125; &#125;&#125; Java Êñ∞Â¢ûÁ±ªÂ∫ìOptional Áî®‰∫éËß£ÂÜ≥ NullPointerException123456789101112public class OptionalMain &#123; public static void main(String[] args) &#123; // Null ÂÄº Optional&lt;String&gt; optional = Optional.empty(); System.out.println(String.format("ÊòØÂê¶‰∏∫null: %s", !optional.isPresent() ? "ÊòØ" : "Âê¶")); System.out.println(optional.orElseGet(() -&gt; "Êó†ÂÄºÂõûË∞ÉËØ•ÂáΩÊï∞()")); // Èùû Null ÂÄº optional = Optional.of("hocgin"); System.out.println(optional.map(s -&gt; String.format("ÂÄº: %s", s)).orElse("ÈªòËÆ§ÂÄº: 10086")); &#125;&#125; Stream API ÂáΩÊï∞ÂºèÁºñÁ®ãÔºåÁÆÄÂåñ‰∫Ü‰πãÂâçÁπÅÁêêÁöÑ‰ª£Á†ÅÁºñÂÜôÊñπÂºè„ÄÇ12345678910111213141516171819202122232425262728public class SteamMain &#123; public static void main(String[] args) &#123; // ÈõÜÂêà‰∏≠‰ΩøÁî® Stream API Collection&lt;String&gt; collections = Arrays.asList( "1", "2", "3", "4", "5", "6", "7" ); collections.stream() .filter(i -&gt; Integer.valueOf(i) &gt; 3) .limit(3) .forEach(System.out::println); // Êñá‰ª∂ÊµÅ‰∏≠‰ΩøÁî® Stream API final Path path = new File("filePath").toPath(); try (Stream&lt;String&gt; lines = Files.lines(path, StandardCharsets.UTF_8)) &#123; lines.onClose(() -&gt; System.out.println("ËØªÂèñÂÆåÊàê")).forEach(System.out::println); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125; Ê≥®: Ê≠§Â§Ñ try ‰∏≠ÂèØÂú®Êñá‰ª∂ÊµÅËØªÂèñÂÆåËøõË°åËá™Âä®ÂÖ≥Èó≠ÊµÅÁöÑÂ§ÑÁêÜ„ÄÇ Date/Time API Âä†Âº∫‰∫ÜÂØπÊó∂Èó¥‰∏éÊó•ÊúüÁöÑÂ§ÑÁêÜ„ÄÇ12345678910111213141516171819202122232425public class DateAndTimeMain &#123; public static void main(String[] args) &#123; // Êó•ÊúüÁõ∏ÂÖ≥ LocalDate nowDate = LocalDate.now(); // Êó∂Èó¥Áõ∏ÂÖ≥ LocalTime nowTime = LocalTime.now(); // Êó•Êúü&amp;Êó∂Èó¥Áõ∏ÂÖ≥ LocalDateTime now = LocalDateTime.now(); // Ëé∑ÂèñÊåáÂÆöÊó∂Âå∫ÁöÑÂΩìÂâçÊó∂Âàª Clock clock = Clock.systemUTC(); // Ëé∑ÂèñÊüêÊó∂Âå∫ÁöÑÂΩìÂâçÊó∂Èó¥ ZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneId.of("Asia/Shanghai")); System.out.println(String.format("ÂΩìÂâçÊó•Êúü: %s", nowDate)); System.out.println(String.format("ÂΩìÂâçÊó∂Èó¥: %s", nowTime)); System.out.println(String.format("ÂΩìÂâçÊó•Êúü&amp;Êó∂Èó¥: %s", now)); System.out.println(String.format("ÂΩìÂâçÊó∂Èó¥Êà≥: %s", clock.millis())); // === System.currentTimeMillis() System.out.println(String.format("‰∏äÊµ∑Êó∂Èó¥: %s", zonedDateTime)); // Áî®‰∫éËÆ°ÁÆó‰∏§‰∏™Êó•ÊúüÈó¥ÁöÑÈó¥Èöî ZonedDateTime zonedDateTime2 = ZonedDateTime.now(ZoneId.of("Asia/Shanghai")); Duration duration = Duration.between(zonedDateTime, zonedDateTime2); System.out.println(duration.abs().getNano()); &#125;&#125; JavaScriptÂºïÊìé(Nashorn) ÂÖÅËÆ∏ Java ‰∏é JavaScript Áõ∏‰∫íË∞ÉÁî®„ÄÇ 12345678public class NashornMain &#123; public static void main(String[] args) throws ScriptException &#123; ScriptEngineManager manager = new ScriptEngineManager(); ScriptEngine engine = manager.getEngineByName("JavaScript"); System.out.println(engine.getClass().getName()); System.out.println("Result:" + engine.eval("function f() &#123; return 1; &#125;; f() + 1;")); &#125;&#125; Base64Âú® java8 ‰∏≠, Âä†ÂÖ•‰∫ÜÔºåBase64ÁºñÁ†Å„ÄÇ1234567891011121314public class Base64Main &#123; public static void main(String[] args) &#123; final String text = "Base64 finally in Java 8!"; final String encoded = Base64 .getEncoder() .encodeToString(text.getBytes(StandardCharsets.UTF_8)); System.out.println(encoded); final String decoded = new String( Base64.getDecoder().decode(encoded), StandardCharsets.UTF_8); System.out.println(decoded); &#125;&#125; Âπ∂Ë°åÊï∞ÁªÑÂú® java8 ‰∏≠, ÂØπÊï∞ÁªÑËøõË°åÂπ∂Ë°åÂ§ÑÁêÜ, ÊûÅÂ§ßÊèêÈ´òÂú®Â§öÊ†∏Êú∫Â≠ê‰∏äÁöÑÂ§ÑÁêÜÈÄüÂ∫¶„ÄÇ123456789101112131415161718192021222324public class ParallelMain &#123; public static void main(String[] args) &#123; long[] arrayOfLong = new long[20000]; // ËøõË°åËµãÂÄºÊìç‰Ωú Arrays.parallelSetAll(arrayOfLong, index -&gt; ThreadLocalRandom.current().nextInt(1000000)); Arrays.stream(arrayOfLong).limit(10).forEach( i -&gt; System.out.print(i + " ")); System.out.println(); // ËøõË°åÊï∞ÁªÑÊéíÂ∫è Arrays.parallelSort(arrayOfLong); Arrays.stream(arrayOfLong).limit(10).forEach( i -&gt; System.out.print(i + " ")); System.out.println(); // ËøõË°åÊï∞ÁªÑÊìç‰Ωú, ÁªìÊûú: [a1, a1+a2, a1+a2+a3,..] Arrays.parallelPrefix(arrayOfLong, (x, y) -&gt; x + y); Arrays.stream(arrayOfLong).limit(10).forEach( i -&gt; System.out.print(i + " ")); System.out.println(); &#125;&#125; Âπ∂Âèë Á∫øÁ®ãÊ±†ExecutorService/ScheduledExecutorServiceÊîØÊåÅ‰ΩøÁî®Stream API. Êñ∞Â¢û StampedLock Áî®‰∫éÊõø‰ª£ ReadWriteLock 1234567StampedLock lock = new StampedLock();lock.writeLock();try &#123; // ‰ª£Á†Å..&#125; finally &#123; lock.unlockWrite(stamp);&#125; ÂéüÂ≠êÊìç‰Ωú(java.concurrent.atomic) ConcurrentMap ÁªßÊâøËá™MapÊé•Âè£ ForkJoinPool È¢ÑÁΩÆÂπ∂Ë°åÊú∫Âà∂ Êñ∞Â¢ûÁöÑ Java Â∑•ÂÖ∑ NashornÂºïÊìéÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ jjs 12jjs # ÂõûËΩ¶(function()&#123;return 1+1&#125;)() Á±ª‰æùËµñÂàÜÊûêÂô®ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ jdeps 123456# .class Êñá‰ª∂jdeps Base64Main.class# .jar Êñá‰ª∂jdeps demo.jar# Êñá‰ª∂Â§πjdeps jdk8 JVM Êñ∞ÁâπÊÄß PermGen Ë¢´ÁßªÈô§ JVMÈÄâÈ°π-XX:PermSize‰∏é-XX:MaxPermSizeÂàÜÂà´Ë¢´-XX:MetaSpaceSize‰∏é-XX:MaxMetaspaceSizeÊâÄ‰ª£Êõø Áõ∏ÂÖ≥Java 8]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>ËØ≠Ê≥ï</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÁ∫øÁ®ãÊ±†ÂíåÈîÅ-Â∞èËÆ∞]]></title>
    <url>%2F2017%2F10%2F07%2FJava%20%E7%BA%BF%E7%A8%8B%E6%B1%A0%20%E5%92%8C%20%E9%94%81%20%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ÊèêÂèñÊÉ≥Ë¶ÅÁöÑapkÔºå ‰æãÂ¶ÇCM ROMÂåÖ‰∏≠ÁöÑÂê´Â§©Ê∞îÁöÑÊó∂Èíü‰∏çÈîôÔºÅ Âπ∂ÂèëÁ∫øÁ®ãÊ±† ExecutorService 123456789101112131415161718192021public class ConcurrencyMain &#123; public static void main(String[] args) throws InterruptedException &#123;ExecutorService executor = Executors.newWorkStealingPool(); List&lt;Callable&lt;String&gt;&gt; callables = Arrays.asList( () -&gt; "task1", () -&gt; "task2", () -&gt; "task3"); executor.invokeAll(callables) .stream() .map(future -&gt; &#123; try &#123; return future.get(); &#125; catch (Exception e) &#123; throw new IllegalStateException(e); &#125; &#125;) .forEach(System.out::println); &#125;&#125; ScheduledExecutorService 12345678910111213public class ConcurrencyMain &#123; public static void main(String[] args) throws InterruptedException &#123; ScheduledExecutorService executor = Executors.newScheduledThreadPool(3); ScheduledFuture&lt;?&gt; future = executor.schedule(() -&gt; System.out.println("ÊâßË°åÂª∂Ëøü‰ªªÂä°"), 2, TimeUnit.SECONDS); TimeUnit.MILLISECONDS.sleep(1000); long remainingDelay = future.getDelay(TimeUnit.MILLISECONDS); System.out.println(String.format("Ââ©‰ΩôÂª∂ËøüÊó∂Èó¥: %sms", remainingDelay)); &#125;&#125; Âå∫Âà´ ‰∏§ËÄÖÁöÑÂå∫Âà´ÊòØScheduledExecutorServiceÊòØÂèØÂª∂ËøüÊâßË°å„ÄÇ ÂêåÊ≠•(Synchronized) ÂØπË±°ÈîÅËØ≠Ê≥ï: 1234567891011121314151617181920212223242526272829303132333435363738public class SynchronizedMain &#123; public static void main(String[] args) &#123; // ==[ÊµãËØï‰∏Ä:Âêå‰∏ÄÂØπË±°]== // ÁªìÊûú: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 Test t1 = new Test(); Thread runnable1 = new Thread(() -&gt; t1.exec()); Thread runnable2 = new Thread(() -&gt; t1.exec()); runnable1.start(); runnable2.start(); // ==[ÊµãËØï‰∫å:‰∏çÂêå‰∏ÄÂØπË±°]== // ÁªìÊûú: 0 0 1 2 3 4 5 6 7 1 2 3 4 5 6 7 8 9 8 9 Test t2 = new Test(); Thread runnable3 = new Thread(() -&gt; t1.exec()); Thread runnable4 = new Thread(() -&gt; t2.exec()); runnable3.start(); runnable4.start(); &#125;&#125;// ‰ª•‰∏ã‰∏§ÁßçÊñπÂºèÁ≠â‰ª∑Ôºå‰ªÖ‰ΩúÁî®ËåÉÂõ¥‰∏ç‰∏ÄÊ†∑„ÄÇclass Test &#123; public synchronized void exec() &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.printf(i + " "); &#125; &#125; public void exec() &#123; synchronized (this) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.printf(i + " "); &#125; &#125; &#125;&#125; ÁªìËÆ∫: Âêå‰∏ÄÂØπË±°Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÊòØÈîÅÂÆöÁöÑÔºå‰∏çÂêåÂØπË±°‰∏ç‰ºöËøõË°åÈîÅÂÆö„ÄÇ Á±ªÈîÅ12345678910111213141516171819202122232425262728293031323334353637383940public class SynchronizedMain &#123; public static void main(String[] args) &#123; // ==[ÊµãËØï‰∏Ä:Âêå‰∏ÄÂØπË±°]== // ÁªìÊûú: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 Test t1 = new Test(); Thread runnable1 = new Thread(() -&gt; t1.exec()); Thread runnable2 = new Thread(() -&gt; t1.exec()); runnable1.start(); runnable2.start(); // ==[ÊµãËØï‰∫å:‰∏çÂêå‰∏ÄÂØπË±°]== // ÁªìÊûú: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 Test t2 = new Test(); Thread runnable3 = new Thread(() -&gt; t1.exec()); Thread runnable4 = new Thread(() -&gt; t2.exec()); runnable3.start(); runnable4.start(); &#125;&#125;// ‰ª•‰∏ã‰∏§ÁßçÊñπÂºèÁ≠â‰ª∑class Test &#123; private static Object lock = new Object(); public void exec() &#123; synchronized (lock) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.printf(i + " "); &#125; &#125; &#125; public void exec() &#123; synchronized (Test.class) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.printf(i + " "); &#125; &#125; &#125;&#125; ÁªìËÆ∫: ËØ•ÊñπÂºèÈîÅÁöÑ‰ΩúÁî®ËåÉÂõ¥ÊòØÊï¥‰∏™Á±ª„ÄÇ ÊåáÂÆöÈîÅËØ≠Ê≥ï: 1234567891011121314151617181920212223242526272829303132public class SynchronizedMain &#123; private static Object lock = new Object(); public static void main(String[] args) &#123; // ==[ÊµãËØï‰∏Ä:Âêå‰∏ÄÂØπË±°]== // ÁªìÊûú: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 Test t1 = new Test(); Thread runnable1 = new Thread(() -&gt; t1.exec(lock)); Thread runnable2 = new Thread(() -&gt; t1.exec(lock)); runnable1.start(); runnable2.start(); // ==[ÊµãËØï‰∫å:‰∏çÂêå‰∏ÄÂØπË±°]== // ÁªìÊûú: 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 Test t2 = new Test(); Thread runnable3 = new Thread(() -&gt; t1.exec(lock)); Thread runnable4 = new Thread(() -&gt; t2.exec(lock)); runnable3.start(); runnable4.start(); &#125;&#125;class Test &#123; public void exec(Object lock) &#123; synchronized (lock) &#123; for (int i = 0; i &lt; 10; i++) &#123; System.out.printf(i + " "); &#125; &#125; &#125;&#125; ÁªìËÆ∫: ËØ•ÊñπÂºèÂèñÂÜ≥‰∫é‰º†ÂÖ•ÁöÑÈîÅ„ÄÇÂΩìÂØπË±°Â±ûÊÄßÂèëÁîüÊîπÂèòÊó∂ÔºåÈîÅÂ∞±Â§±Âéª‰∫Ü‰ΩúÁî®„ÄÇ ÂØπ‰∫é Java8 ‰∏≠ÔºåReentrantLock ÂèØÂÆûÁé∞ÈîÅÁöÑ‰ΩúÁî®„ÄÇ]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëß£ÂÜ≥ WebView ÁÇπÂáªÊó∂ÁΩëÈ°µ‰∏çÊñ≠Èó™ËÄÄ]]></title>
    <url>%2F2017%2F09%2F28%2F%E8%A7%A3%E5%86%B3WebView%E7%82%B9%E5%87%BB%E6%97%B6%E7%BD%91%E9%A1%B5%E4%B8%8D%E6%96%AD%E9%97%AA%E8%80%80%2F</url>
    <content type="text"><![CDATA[Ëß£ÂÜ≥È´òÁâàÊú¨ WebView ÁÇπÂáªÊó∂ÁΩëÈ°µ‰∏çÊñ≠Èó™ËÄÄÁöÑÈóÆÈ¢ò ü§ó ÂéüÂõ†ÁΩëÈ°µÊ∏≤ÊüìÂºÄÂêØ‰∫ÜÁ°¨‰ª∂Âä†ÈÄüÔºåÂ¶ÇÊûú‰Ω†‰πüÂá∫Áé∞‰∫ÜËØ•ÈóÆÈ¢òÔºåÂèØ‰ª•Â∞ùËØïÂÖ≥Èó≠Á°¨‰ª∂Âä†ÈÄü„ÄÇ ÊñπÊ°àÊñπÊ°à‰∏Ä: Âú®xml‰∏≠‰ΩøÁî®android:layerType=&quot;software&quot;ËøõË°åÂÖ≥Èó≠„ÄÇÊé®ËçêÊñπÊ°à‰∫å: ÈÄöËøá java ‰ª£Á†ÅwebView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);ËøõË°åÂÖ≥Èó≠„ÄÇ ÂèÇËÄÉBroswerKitËøõË°åÊ†áËÆ∞ÁöÑËøôÊÆµ‰ª£Á†ÅËß£ÂÜ≥‰∫ÜÊàëÁöÑÈó™ËÄÄÈóÆÈ¢ò]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÈóÆÈ¢ò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëß£ÂÜ≥ WebView ÁÇπÂáªÊó∂ÁΩëÈ°µ‰∏çÊñ≠Èó™ËÄÄ]]></title>
    <url>%2F2017%2F09%2F28%2FTextView%20%E6%BB%9A%E5%8A%A8%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ëß£ÂÜ≥È´òÁâàÊú¨ WebView ÁÇπÂáªÊó∂ÁΩëÈ°µ‰∏çÊñ≠Èó™ËÄÄÁöÑÈóÆÈ¢ò ü§ó ËÆæÁΩÆ TextView Ëá™Âä®Ê∞¥Âπ≥ÊªöÂä®1234567891011121314&lt;TextView android:id="@+id/tx" android:layout_width="40dp" android:layout_height="wrap_content" android:background="#fdf" android:text="1234567890123456789012345678901234567890" android:focusable="true" android:focusableInTouchMode="true" android:singleLine="true" android:scrollHorizontally="true" android:ellipsize="marquee" android:marqueeRepeatLimit ="marquee_forever" /&gt; È´òÁâàÊú¨ÊµãËØï‰∏≠android:singleLine=&quot;true&quot;ËôΩÁÑ∂ËøáÊúü‰∫ÜÔºå‰ΩÜ‰ªç‰∏çËÉΩ‰ΩøÁî®android:maxLines=&quot;1&quot;ËøõË°åÊõøÊç¢ÔºåÂ¶ÇÊûúÂÆûÂú®Âº∫Ëø´ÁóáÊÇ£ËÄÖÂèØ‰ª•‰ΩøÁî®tx.setSingleLine(true);ÊõøÊç¢„ÄÇ]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÈóÆÈ¢ò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëß£ÂÜ≥ ProgressBar ‰∏ä‰∏ãÂá∫Áé∞Á©∫ÁôΩÁé∞Ë±°]]></title>
    <url>%2F2017%2F09%2F27%2F%E8%A7%A3%E5%86%B3ProgressBar%E9%A1%B6%E9%83%A8%E5%87%BA%E7%8E%B0%E7%A9%BA%E7%99%BD%E7%8E%B0%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[Ëß£ÂÜ≥ ProgressBar ‰∏ä‰∏ãÂá∫Áé∞Á©∫ÁôΩÁé∞Ë±° ü§† Âá∫Áé∞ÈóÆÈ¢ò‰∏ÄËà¨ÊÉÖÂÜµÊàë‰ª¨‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÊù•ÂàõÂª∫ProgressBar12345678&lt;ProgressBar android:id="@+id/progressBar" style="?android:attr/progressBarStyleHorizontal" android:background="#fff" android:max="100" android:indeterminate="true" android:layout_width="match_parent" android:layout_height="wrap_content"/&gt; ÈÇ£‰πàÂ∞Ü‰ºöÂá∫Áé∞Â¶Ç‰∏ãÊÉÖÂÜµ: Ëß£ÂÜ≥ÊñπÊ°àÈÄöËøáÂèòÊõ¥android:layout_marginBottomÂíåandroid:layout_marginTopÂú®ÁªìÂêàandroid:backgroundËÆæÁΩÆ‰∏∫ÈÄèÊòéÊù•Â§ÑÁêÜËøô‰∏™ÈóÆÈ¢ò:12345678910&lt;ProgressBar android:id="@+id/progressBar" style="?android:attr/progressBarStyleHorizontal" android:layout_marginBottom="-7dp" android:layout_marginTop="-7dp" android:background="#00ffffff" android:max="100" android:indeterminate="true" android:layout_width="match_parent" android:layout_height="wrap_content"/&gt; ‰ª•‰∏ãÊòØÂ§ÑÁêÜÂêéÁöÑÁªìÊûú]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÈóÆÈ¢ò</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú® OpenWrt ÈÉ®ÁΩ≤ Shadowsocks]]></title>
    <url>%2F2017%2F09%2F18%2FOpenWrt-Shadowsocks%2F</url>
    <content type="text"><![CDATA[ÂâçË®ÄÂÖ≥‰∫é OpenWrt ËØ∑Áúã OpenWrt ÂÖ•Èó®ÁØáÂÖ≥‰∫é Shadowsocks ËØ∑Áúã ‰ªÄ‰πàÊòØ ShadowsocksÂ∑≤Êúâ Shadowsocks Ë¥¶Âè∑, ÂêéÁª≠ÂèØËÉΩ‰ºöËÆ∞ÂΩï„ÄÇÈáçË¶Å: Êú¨ÊñáÂâçÊèê‰∏∫ËØªËÄÖÂ∑≤ËßÇÁúãËøá‰ª•‰∏ä2ÁØáÊñáÁ´†ÔºåÂ¶ÇÈòÖËØªÂºïËµ∑‰ªª‰Ωï‰∏çÈÄÇËØ∑Á´ãÂç≥ÂÅúÊ≠¢„ÄÇ ÂÖ≥‰∫é Shadowsocks-libev Ê®°Âùó Shadowsocks-libev ÂÆòÁΩëShadowsocks-libev ‰∏ãËΩΩÂú∞ÂùÄ (Êé®Ëçê‰∏ãËΩΩÈùûspecÁâàÊú¨) ss-serverÔºöÊúçÂä°Âô®Á´ØÔºåÈÉ®ÁΩ≤‰∫éÊúçÂä°Âô®ÔºåÊèê‰æõ shadowsocks ÊúçÂä°„ÄÇss-localÔºöÂÆ¢Êà∑Á´ØÔºåÊèê‰æõ SOCKS ‰ª£ÁêÜss-redirÔºöÂÆ¢Êà∑Á´ØÔºåÊèê‰æõÈÄèÊòé‰ª£ÁêÜ, ‰ªé v2.2.0 ÂºÄÂßãÊîØÊåÅ UDPss-tunnel: ÂÆ¢Êà∑Á´ØÔºåÊèê‰æõÁ´ØÂè£ËΩ¨Âèë, ÂèØÁî®‰∫é DNS Êü•ËØ¢ Note: ‰∏ãËΩΩÁöÑÊó∂ÂÄôËØ∑Ê†πÊçÆ CPU Á±ªÂûã, Êü•ÁúãÊñπÂºèËØ∑ÂèÇÁÖß ÂÆâË£Ö Shadowsocks-libev Â∞Ü‰∏ãËΩΩÁöÑShadowsocks-libevÁßªËá≥Ë∑ØÁî±Âô®/tmpÁõÆÂΩï 1scp shadowsocks-libev-polarssl_2.4.8-2_ar71xx.ipk root@192.168.1.1:/tmp ÂÆâË£Ö‰æùËµñ 12opkg updateopkg install iptables-mod-nat-extra ipset libopenssl ÂÆâË£ÖShadowsocks-libev 1opkg install /tmp/shadowsocks-libev-polarssl_2.4.8-2_ar71xx.ipk ÈÖçÁΩÆ shadowsocks ‰øÆÊîπ/etc/shadowsocks.json‰∏∫ÂÆûÈôÖÂèÇÊï∞„ÄÇÊ†ºÂºèÂ¶Ç‰∏ã 12345678&#123; "server": "127.0.0.1", "server_port": 443, "local_port": 7654, "password": "password", "timeout": 60, "method": "rc4-md5"&#125; Ê≠§Â§Ñ, ‚Äúlocal_port‚Äù: 7654 ‰∏∫ÈáçÁÇπ„ÄÇ‰∏çÁêÜËß£ÁöÑ, ËØ∑‰∏çË¶ÅËøõË°å‰øÆÊîπÊ≠§È°πÔºåÂêéÁª≠‰ºöËß£Èáä„ÄÇ Ê≥®: /etc/shadowsocks.json ‰∏∫ÈÖçÁΩÆÊñá‰ª∂, Â≠òÂÇ® shadowsocks ÁöÑË¥¶Âè∑„ÄÅ ÂØÜÁ†ÅÂèäËÆæÁΩÆ„ÄÇ Êü•Áúã/etc/init.d/shadowsocks„ÄÇÂÜÖÂÆπÂ¶Ç‰∏ã 123456789101112131415161718192021#!/bin/sh /etc/rc.commonSTART=95SERVICE_USE_PID=1SERVICE_WRITE_PID=1SERVICE_DAEMONIZE=1CONFIG=/etc/shadowsocks.jsonstart() &#123; service_start /usr/bin/ss-local -c $CONFIG -b 0.0.0.0 #service_start /usr/bin/ss-redir -c $CONFIG -b 0.0.0.0 #service_start /usr/bin/ss-tunnel -c $CONFIG -b 0.0.0.0 -l 5353 -L 8.8.8.8:53 -u&#125;stop() &#123; service_stop /usr/bin/ss-local #service_stop /usr/bin/ss-redir #service_stop /usr/bin/ss-tunnel&#125; Ê≥®: /etc/init.d/shadowsocks ‰∏∫ËøêË°åÊñá‰ª∂, shadowsocks ÁöÑÂêØÂä®„ÄÅÂÅúÊ≠¢„ÄÅÈáçÂêØ„ÄÇ ËøêË°åÊ£ÄÊü•ÈÖçÁΩÆÊòØÂê¶Ê≠£Á°Æ 1/etc/init.d/shadowsocks restart ‰ΩøÁî®‰ª£ÁêÜËøõË°åÊ£ÄÊü•, Chrome ÊµèËßàÂô®‰∏ãËΩΩ ExtensionProxy SwitchyOmegaÔºåÂ¢ôÂÜÖÂú∞ÂùÄÂêéÁª≠Ë°•‰∏ä..„ÄÇÂØπÊèí‰ª∂ËøõË°åÂ¶Ç‰∏ãÈÖçÁΩÆ: Âú® Chrome ÊµèËßàÂô®‰ΩøÁî® ExtensionProxy SwitchyOmega ÂàáÊç¢Âà∞ËØ•ÂçèËÆÆÂπ∂ËÆøÈóÆ YouTuBeÔºåÈ™åËØÅÂÖ∂ÈÖçÁΩÆÁöÑÊ≠£Á°ÆÊÄß„ÄÇ ÂÖ≥Èó≠ shadowsocks 1/etc/init.d/shadowsocks stop Ëá™Âä®ÂåñÂÆâË£Ö dnsmasq &amp; ipset Êü•ÁúãÊòØÂê¶ÊîØÊåÅ ipset 123456789opkg updateopkg list-installed dnsmasq -v# Â¶ÇÊûú‰∏çÊîØÊåÅÔºåÂç∏ËΩΩÊéâÂÆâË£ÖfullÁâàopkg remove dnsmasqopkg install dnsmasq-fullopkg install ipset iptables-mod-nat-extraopkg install /tmp/pdnsd_1.2.9a-par-a8e46ccba7b0fa2230d6c42ab6dcd92926f6c21d_ar71xx.ipk ÈôÑ‰ª∂: pdnsd_1.2.9a-par-a8e46ccba7b0fa2230d6c42ab6dcd92926f6c21d_ar71xx.ipk ‰∏ãËΩΩ ÈÖçÁΩÆ dnsmasq Âíå ipset 12vim /etc/dnsmasq.confmkdir /etc/dnsmasq.d Âú®Êú´Â∞æÂä†ÂÖ• 123conf-dir=/etc/dnsmasq.dcache-size=1500 #‰øÆÊîπdnsmasqÁºìÂ≠òÂ§ßÂ∞èÔºåÈªòËÆ§‰∏∫150„ÄÇmin-cache-ttl=720 #‰øÆÊîπDNSÁºìÂ≠òÊúÄÂ∞èÊúâÊïàÊúüÔºàÁßíÔºâ„ÄÇ‰ªÖÈÄÇÁî®‰∫éaa65535ÁöÑdnsmasq-fullÁâàÊú¨„ÄÇ ‰∏ãËΩΩÂõΩÂÜÖÈáçË¶ÅÁΩëÁ´ôÂêçÂçïÔºåÁî®ÂõΩÂÜÖÂüüÂêçÊúçÂä°Âô®Êü•ËØ¢iPÂú∞ÂùÄ 12345cd /etc/dnsmasq.dopkg install wgetwget -4 --no-check-certificate -O /etc/dnsmasq.d/accelerated-domains.china.conf https://github.com/felixonmars/dnsmasq-china-list/raw/master/accelerated-domains.china.confwget -4 --no-check-certificate -O /etc/dnsmasq.d/bogus-nxdomain.china.conf https://github.com/felixonmars/dnsmasq-china-list/raw/master/bogus-nxdomain.china.confecho "server=/#/127.0.0.1#3210" &gt; gfwlist.conf ‰øÆÊîπ/etc/init.d/shadowsocksÂêØÂä®Êñá‰ª∂, ÂÜÖÂÆπÂ¶Ç‰∏ã 1234567891011121314151617181920212223242526272829#!/bin/sh /etc/rc.commonSTART=95SERVICE_USE_PID=1SERVICE_WRITE_PID=1SERVICE_DAEMONIZE=1CONFIG=/etc/shadowsocks.jsonstart() &#123; sed -i 's/114.114.114.114/127.0.0.1#3210/' /etc/dnsmasq.d/gfwlist.conf /etc/init.d/dnsmasq restart service_start /usr/bin/ss-redir -b 0.0.0.0 -c $CONFIG -f /var/run/shadowsocks.pid -u service_start /usr/bin/ss-tunnel -b 0.0.0.0 -c $CONFIG -l 3210 -L 8.8.8.8:53 -u /usr/bin/shadowsocks-firewall&#125;stop() &#123; sed -i 's/127.0.0.1#3210/114.114.114.114/' /etc/dnsmasq.d/gfwlist.conf /etc/init.d/dnsmasq restart service_stop /usr/bin/ss-redir service_stop /usr/bin/ss-tunnel killall ss-redir killall ss-tunnel /etc/init.d/firewall restart&#125; ÈÖçÁΩÆ iptables Èò≤ÁÅ´Â¢ôËΩ¨ÂèëIPÂíåÁ´ØÂè£ÂàõÂª∫ÊâßË°åÊñá‰ª∂ /usr/bin/shadowsocks-firewall 12touch /usr/bin/shadowsocks-firewallchmod +x /usr/bin/shadowsocks-firewall /usr/bin/shadowsocks-firewall ÂÖ∂ÂÜÖÂÆπÂ¶Ç‰∏ã 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#!/bin/sh#create a new chain named SHADOWSOCKSiptables -t nat -N SHADOWSOCKSiptables -t nat -N SHADOWSOCKS_WHITELIST# Ignore your shadowsocks server's addresses# It's very IMPORTANT, just be careful.iptables -t nat -A SHADOWSOCKS -d Ê≠§Â§Ñ‰∏∫ÊúçÂä°Âô®IP -j RETURN# Ignore LANs IP addressiptables -t nat -A SHADOWSOCKS -d 0.0.0.0/8 -j RETURNiptables -t nat -A SHADOWSOCKS -d 10.0.0.0/8 -j RETURNiptables -t nat -A SHADOWSOCKS -d 127.0.0.0/8 -j RETURNiptables -t nat -A SHADOWSOCKS -d 169.254.0.0/16 -j RETURNiptables -t nat -A SHADOWSOCKS -d 172.16.0.0/12 -j RETURNiptables -t nat -A SHADOWSOCKS -d 192.168.0.0/16 -j RETURNiptables -t nat -A SHADOWSOCKS -d 224.0.0.0/4 -j RETURNiptables -t nat -A SHADOWSOCKS -d 240.0.0.0/4 -j RETURN# Check whitelistiptables -t nat -A SHADOWSOCKS -j SHADOWSOCKS_WHITELISTiptables -t nat -A SHADOWSOCKS -m mark --mark 1 -j RETURN#for hulu.comiptables -t nat -A SHADOWSOCKS -p tcp --dport 1935 -j REDIRECT --to-ports 7654iptables -t nat -A SHADOWSOCKS -p udp --dport 1935 -j REDIRECT --to-ports 7654# for Chrome browser and youtube.comiptables -t nat -A SHADOWSOCKS -p udp --dport 443 -j REDIRECT --to-ports 7654# Anything else should be redirected to shadowsocks's local portiptables -t nat -A SHADOWSOCKS -p tcp -j REDIRECT --to-ports 7654# Apply the rulesiptables -t nat -A PREROUTING -p tcp -j SHADOWSOCKS# Ignore China IP address# for white_ip in `cat /etc/chinadns_chnroute.txt`;# do# iptables -t nat -A SHADOWSOCKS_WHITELIST -d "$&#123;white_ip&#125;" -j MARK --set-mark 1# done# Ignore Asia IP addressiptables -t nat -A SHADOWSOCKS_WHITELIST -d 1.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 14.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 27.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 36.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 39.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 42.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 49.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 58.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 59.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 60.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 61.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 101.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 103.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 106.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 110.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 111.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 112.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 113.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 114.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 115.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 116.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 117.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 118.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 119.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 120.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 121.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 122.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 123.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 124.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 125.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 126.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 169.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 175.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 180.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 182.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 183.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 202.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 203.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 210.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 211.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 218.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 219.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 220.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 221.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 222.0.0.0/8 -j MARK --set-mark 1iptables -t nat -A SHADOWSOCKS_WHITELIST -d 223.0.0.0/8 -j MARK --set-mark 1 ÈáçË¶Å: Ê≠§Â§Ñ‰∏∫ÊúçÂä°Âô®IPÊõ¥Êç¢‰∏∫ÂÆûÈôÖIP„ÄÇ Ignore Asia IP address‰∏∫‰∫öÊ¥≤IPÂú∞ÂùÄÊÆµ„ÄÇÂ¶ÇÊûúË∑ØÁî±Âô®ÂÜÖÂ≠òÂ§üÂ§ßÁöÑËØùÔºåÂèØÂºÄÂêØIgnore China IP address„ÄÇchinadns_chnroute.txt Êñá‰ª∂‰∏ãËΩΩ --to-ports 7654Âç≥/etc/shadowsocks.json‰∏≠ÁöÑ ‚Äúlocal_port‚Äù: 7654shadowsocks ÊéßÂà∂1234/etc/init.d/shadowsocks stop/etc/init.d/shadowsocks start/etc/init.d/shadowsocks enable/etc/init.d/shadowsocks disable]]></content>
      <categories>
        <category>OpenWrt</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenWrt ÂÖ•Èó®ÁØá]]></title>
    <url>%2F2017%2F09%2F18%2FOpenWrt-%E5%85%A5%E9%97%A8%E7%AF%87%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©ÂàöÂ•ΩÈáçÂà∑ OpenWrt Âõ∫‰ª∂ÔºåÊï¥ÁêÜÊï¥ÁêÜ ‰ªãÁªç‰ªÄ‰πàÊòØ OpenWrt? ÂÖ≥‰∫éÊîØÊåÅ OpenWrt ÁöÑË∑ØÁî±Âô®ÂèØ‰ª•Âéª ÊîØÊåÅ OpenWrt ÁöÑË∑ØÁî±Âô®ÂàóË°® Êü•ÁúãÊîØÊåÅÁöÑË∑ØÁî±Âô®, ‰∫ÜËß£ÂÖ∂ CPUÂûãÂè∑(Êó¢ËäØÁâáÂûãÂè∑) RAMÂÆπÈáè FlashÂÆπÈáè ÂÖ≥‰∫é OpenWrt Âõ∫‰ª∂ÁöÑ‰∏ãËΩΩOpenWrt ÂÆòÊñπ‰∏ãËΩΩÂõ∫‰ª∂Âú∞ÂùÄÂÖ≥‰∫é‰∏ãËΩΩÂú∞ÂùÄÊ†ºÂºè: ÂÖ≥‰∫éÂõ∫‰ª∂Á±ªÂûã ÂêéÁºÄ‰∏∫factoryÊòØÁî®‰∫é‰ªéÂéüÂéÇÂõ∫‰ª∂Âà∑‰∏∫ OpenWrt„ÄÇ ÂêéÁºÄ‰∏∫sysupgradeÊòØÁî®‰∫é‰ªé OpenWrt Êõ¥Êñ∞ OpenWrt„ÄÇ ÂéüÂéÇÂà∑ OpenWrt Âõ∫‰ª∂ ÂæÖË°•ÂÖÖ ÁΩëÈ°µÁïåÈù¢ OpenWrt Â§á‰ªΩ &amp; ÂçáÁ∫ßÂõ∫‰ª∂ OpenWrt ÂÆâÂÖ®Ê®°Âºè ÂΩìÊàë‰ª¨Êó†Ê≥ïËøõÂÖ•ÁΩëÈ°µÁïåÈù¢ÔºåÂèØ‰ª•‰ΩøÁî®ÂÆâÂÖ®Ê®°ÂºèÁÆ°ÁêÜÊÅ¢Â§çÂõ∫‰ª∂ÂøÖÈ°ª‰ΩøÁî®ÊúâÁ∫øÁîµÁºÜËøõË°åËøûÊé•„ÄÇÁéØÂ¢É: Linux or macOS ËøõÂÖ•OpenWrtÂÆâÂÖ®Ê®°ÂºèÁöÑÊñπÊ≥ïÔºö ‰ΩøÁî®ÁΩëÁ∫øËøûÊé•ÁîµËÑëÂíåË∑ØÁî±Âô® ËÆæÁΩÆÁîµËÑëÁΩëÂç°IP Âú∞ÂùÄ:192.168.1.x(x‰∏∫2Ëá≥255)Â≠êÁΩëÊé©Á†Å:255.255.255.0 ÊâìÂºÄÁªàÁ´ØËøêË°åÂëΩ‰ª§ 12# Ê≥®, Ê≠§Â§Ñ eth0 ‰∏∫ÁΩëÂç°. ÂèØ‰ΩøÁî® ifconfig ËøõË°åÊü•Áúãsudo tcpdump -Ani eth0 port 4919 and udp Êñ≠ÁîµÈáçÂêØ ÊâìÂºÄÁªàÁ´ØËøêË°åÂëΩ‰ª§ 1telnet 192.168.1.1 ÊâßË°åÊåá‰ª§, ‰æãÂ¶Ç 1234# ÈáçÁΩÆÁ≥ªÁªüfirstboot# ÈáçÁΩÆÂØÜÁ†Åpasswd ÈáçÂêØË∑ØÁî±Âô® ‰∏çÊ≠ª U-Boot ÂæÖË°•ÂÖÖ ÁΩëÈ°µÁïåÈù¢ OpenWrt ÂÆΩÂ∏¶Êã®Âè∑ËÆæÁΩÆ ËøõÂÖ•Êé•Âè£ËÆæÁΩÆÁïåÈù¢ ËøõË°å WAN Âè£ÁºñËæë Â°´ÂÜôÂÆΩÂ∏¶Ë¥¶Âè∑ &amp; ÂØÜÁ†Å Ê≠§Êó∂ÁîµËÑëËøûÊé• LAN Âè£ÁöÑËØùÔºåÂç≥ÂèØËøõË°å‰∏äÁΩë„ÄÇ WiFi ËÆæÁΩÆ ËøõÂÖ• WiFi ËÆæÁΩÆÁïåÈù¢ÔºåÊ≠§Â§Ñ‰∏∫ÂèåÁΩëÂç° ÂºÄÂêØWiFi ËÆæÁΩÆWiFi Âü∫Á°ÄÁü•ËØÜ‰ªÄ‰πàÊòØWANÂè£Ôºü‰ªÄ‰πàÊòØLANÂè£Ôºü Ë∑ØÁî±Âô®ÈÄöÂ∏∏ÊúâÂ§ö‰∏™LANÂè£Ôºå‰∏Ä‰∏™WANÂè£ WAN ÂπøÂüüÁΩëÔºàWAN„ÄÅÂÖ¨ÁΩë„ÄÅÂ§ñÁΩëÔºâ ËÆæÁΩÆÊã®Âè∑‰∏äÁΩëËøûÊé•‰∫íËÅîÁΩë LAN Â±ÄÂüüÁΩëÔºàLAN„ÄÅÁßÅÁΩë„ÄÅÂÜÖÁΩë) ËøûÊé•Êú¨Âú∞ËÆ°ÁÆóÊú∫ PPPoE ‰ª•Â§™ÁΩë‰∏äÁöÑÁÇπÂØπÁÇπÂçèËÆÆ‰∏≠ÁöÑ‰∏ÄÁßç, ÂÆΩÂ∏¶Êé•ÂÖ•ÊñπÂºèADSL Â∞±‰ΩøÁî®‰∫ÜPPPoEÂçèËÆÆ ÂÖ≥‰∫é WiFi 2.4G Âíå 5G802.11n/b/g ‰∏ªË¶ÅÂ∑•‰ΩúÈ¢ëÊÆµ‰∏∫2.4GHz802.11a/ac ‰∏ªË¶ÅÂ∑•‰ΩúÈ¢ëÊÆµ‰∏∫5GHz]]></content>
      <categories>
        <category>OpenWrt</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫é Android Studio ÂêØÂä® Android Ê®°ÊãüÂô®Â§±Ë¥•ÈóÆÈ¢ò]]></title>
    <url>%2F2017%2F07%2F02%2F%E5%85%B3%E4%BA%8EAndroid%20Studio%20%E5%90%AF%E5%8A%A8Android%E6%A8%A1%E6%8B%9F%E5%99%A8%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ëµ∑Âõ†Android Studio ÂêØÂä®ËôöÊãüÊú∫‰∏ÄÁõ¥Èó™ÈÄÄÔºå‰∏çÊòæÁ§∫‰ªª‰ΩïÊä•Èîô‰ø°ÊÅØ ÊéíÊü•ÈóÆÈ¢ò Â∞ùËØïÁî®ÂëΩ‰ª§ÂêØÂä®Ê®°ÊãüÂô®, Êñπ‰æøÊü•ÁúãÂÖ∂ÈîôËØØÊó•Âøó1234567891011121314# Êü•Áúã‰Ω†ÂàõÂª∫ÁöÑËÆæÂ§áemulator -list-avds# ÂêØÂä®ÂëΩ‰ª§emulator -netdelay none -netspeed full -avd New_Device_API_2# ‰ª•‰∏ã‰∏∫Êä•ÈîôÊó•ÂøóHax is enabledHax ram_size 0x60000000HAX is working and emulator runs in fast virt mode.Failed to sync vcpu regFailed to sync vcpu regFailed to sync vcpu regFailed to sync vcpu regFailed to sync vcpu regFailed to sync HAX vcpu contextInternal error: Initial hax sync failed vcpuÊó†Ê≥ïËøõË°åÂêåÊ≠•?? What??Â∞ùËØïËøõË°å‰∫Ü GoogleÔºåHow do I fix ‚ÄúFailed to sync vcpu reg‚Äù error? Â•ΩÂêß, docker ‰πãÁ±ªÁöÑËôöÊãüÊú∫ÂºïËµ∑‰∫ÜÂÜ≤Á™Å Ëß£ÂÜ≥ÂäûÊ≥ïÂÖ≥ÊéâÁî®‰∏çÁùÄÁöÑËôöÊãüÊú∫Â¶Ç docker ..]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Google ‰ΩøÁî®ÊäÄÂ∑ß]]></title>
    <url>%2F2017%2F06%2F18%2FGoogle-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[Êë©Êì¶ Google Âà©Âô®„ÄÇ ÂâçÊèê‰ΩøÁî® https://www.google.com/ncr Ê®°ÂºèÂπ∂‰∏îÊòØËã±ÊñáÁâà„ÄÇ ÊäÄÂ∑ßÂèåÂºïÂè∑ ÂÆåÂÖ®ÂåπÈÖçÊêúÁ¥¢ ÂáèÂè∑ ‰ΩøÁî®Ëøô‰∏™Êåá‰ª§Êó∂ÂáèÂè∑ÂâçÈù¢ÂøÖÈ°ªÊòØÁ©∫Ê†ºÔºåÂáèÂè∑ÂêéÈù¢Ê≤°ÊúâÁ©∫Ê†ºÔºåÁ¥ßË∑üÁùÄÈúÄË¶ÅÊéíÈô§ÁâπÂÆöÁöÑËØç„ÄÇ ÊòüÂè∑ Âè∑‰ª£Ë°®‰ªª‰ΩïÊñáÂ≠óÔºåÂç≥*Ê®°Á≥äÊêúÁ¥¢ ÔΩû ÂåπÈÖç ËØ•ÂÖ≥ÈîÆËØç Êàñ ËØ•ÂÖ≥ÈîÆËØçÁöÑÂêå‰πâËØç OR ÂåπÈÖçÂÖ≥ÈîÆËØçhocginÊàñËÄÖhocg.in + ÂåπÈÖçÂÖ≥ÈîÆËØçhocgin‰∏éhocg.inÂêåÊó∂Â≠òÂú® inurl ÂåπÈÖçurlËøûÊé•‰∏≠ÂåÖÂê´ËØ•ËØçÊ±áÔºå‰æãÂ¶Ç‰∏äÊñπÂåπÈÖç https://hocg.in/hocgin allinurl Á≠â‰ª∑‰∫é: inurl: hocgin inurl: hocg.inÂåπÈÖçurlËøûÊé•‰∏≠Êó¢ÂåÖÂê´hocgin‰πüÂåÖÂê´hocg.in, ‰æãÂ¶Ç: https://hocg.in/hocgin inanchor ÂåπÈÖçaÊ†áÁ≠æ‰∏≠ÁöÑÊñáÂ≠ó, ‰æãÂ¶Ç‰∏äÊñπÂåπÈÖç \hocgin\ intitle ÂåπÈÖçtitleÊ†áÁ≠æ‰∏≠ÁöÑÊñáÂ≠ó, \hocgin\ allintitle Á≠â‰ª∑‰∫é: intitle: hocgin intitle: hocg.inÂåπÈÖçÊ†áÈ¢ò‰∏≠Êó¢ÂåÖÂê´hocgin‰πüÂåÖÂê´hocg.in,‰æãÂ¶Ç: \hocgin ÁöÑÂçöÂÆ¢Âú∞ÂùÄ hocg.in\ filetype ÂåπÈÖçÂåÖÂê´ÂÖ≥ÈîÆËØçhocginÁöÑÊâÄÊúâpdfÊñá‰ª∂ site Êüê‰∏™ÂüüÂêçÁöÑÊêúÁ¥¢ ralated ËøîÂõû Google ‰∫∫‰∏∫Áõ∏ÂÖ≥ÁöÑÈ°µÈù¢ Ê∑∑Âêà‰ΩøÁî®Á§∫‰æãÂõæÁâáÊù•Ê∫ê Â∑•ÂÖ∑Êü•ËØ¢Â≠óËØçÁöÑÈáä‰πâ Êï∞Â≠¶ËøêÁÆó Â§©Ê∞îÊü•ËØ¢ ÂΩìÂâçÊó∂Èó¥ Êó•Âá∫ Êó•ËêΩ Èü≥‰πê‰∫∫ÊêúÁ¥¢ ÁúÅ‰ºö Ê±áÁéá 200ÁæéÂÖÉÊç¢Â§öÂ∞ë‰∫∫Ê∞ëÂ∏ÅÔºåÂèØ‰ª•ËøõË°åÊï∞Â≠¶ËøêÁÆó ËÆæÁΩÆËÆ°Êó∂Âô® Set timer XX seconds/minutes/hoursÔºåXXË°®Á§∫ÂÖ∑‰ΩìÁöÑÊï∞Â≠ó„ÄÇ ‰∏§Âú∞ÁÇπË∑ùÁ¶ªËÆ°ÁÆó ÂΩìÂâç‰ΩçÁΩÆ ÊòæÁ§∫ÂΩìÂâçÁîµËÑëIP ÊòæÁ§∫ÂõΩÂÆ∂ GDP ÁªòÂà∂Â§öÂÖÉÊñπÁ®ã‰ª•ÂèäÂ§çÊùÇÁöÑÊñπÁ®ãÂºè graph + ÊñπÁ®ãÂºè ÊêúÁ¥¢Êüê‰∏™ÂçïËØçÁöÑÁî±Êù•]]></content>
      <categories>
        <category>Other</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Google</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenWrt ÂÖ•Èó®ÁØá]]></title>
    <url>%2F2017%2F05%2F31%2FOpenWrt-%E8%BF%9B%E9%98%B6%E7%AF%87%2F</url>
    <content type="text"><![CDATA[TipsÊü•ÁúãË∑ØÁî±Âô®ÊîØÊåÅÊû∂ÊûÑ1opkg print-architecture | awk '&#123;print $2&#125;' Â¶Ç‰ΩïÊõ¥ÊîπÊó∂Âå∫?12345678910111213141516171819# Êü•ÁúãÂΩìÂâçÁöÑÊó∂Âå∫date -R# Wed, 31 May 2017 07:07:28 +0000# ‰øÆÊîπÊó∂Âå∫vi /etc/config/system# ËøõË°å‰øÆÊîπ# config system# option hostname 'Openwrt'# option timezone 'CST-8'# option zonename 'Asia/Shanghai'# ÈáçÂêØreboot# Êü•ÁúãÊòØÂê¶ÊàêÂäüdate -R# Wed, 31 May 2017 15:08:01 +0800# ÂêåÊ≠•Á≥ªÁªüÊó∂Èó¥ntpd -n -q -p 0.asia.pool.ntp.org Â¶Ç‰ΩïÂú® OpenWrt ‰∏äÊê≠Âª∫ PHP ÁéØÂ¢É?12345678# Êõ¥Êñ∞Á¥¢Âºïopkg update# ÂÆâË£ÖÂøÖÈ°ªÁöÑÁéØÂ¢Éopkg install php5 php5-mod-gd php5-mod-curl php5-mod-session php5-mod-pdo php5-mod-mcrypt php5-mod-mbstring php5-fastcgi php5-cgi php5-mod-ctype php5-mod-exif php5-mod-iconv php5-mod-json php5-mod-sockets php5-mod-sqlite3 php5-mod-tokenizer php5-mod-zip# ÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩï# /etc/httpd.conf# ÈáçÂêØhttpÊúçÂä°/etc/init.d/uhttpd restart]]></content>
      <categories>
        <category>OpenWrt</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>OpenWrt</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â≠óÁ¨¶‰∏≤ÁºñÁ†ÅÁØá]]></title>
    <url>%2F2017%2F05%2F12%2F%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E7%A0%81%E7%AF%87%2F</url>
    <content type="text"><![CDATA[Â≠óÁ¨¶ÁºñÁ†ÅÁöÑÊù•ÂéÜ.. ASCII ÊúÄÊó©Âè™Êúâ127‰∏™Â≠óÁ¨¶Ë¢´ÁºñÁ†ÅÂà∞ËÆ°ÁÆóÊú∫ÈáåÔºå‰πüÂ∞±ÊòØÂ§ßÂ∞èÂÜôËã±ÊñáÂ≠óÊØç„ÄÅÊï∞Â≠óÂíå‰∏Ä‰∫õÁ¨¶Âè∑ Âç†‰Ωç: 1‰∏™Â≠óËäÇ GB2312 ‰∏≠ÊñáÊòæÁÑ∂‰∏Ä‰∏™Â≠óËäÇÊòØ‰∏çÂ§üÁöÑÔºåËá≥Â∞ëÈúÄË¶Å‰∏§‰∏™Â≠óËäÇÔºåËÄå‰∏îËøò‰∏çËÉΩÂíåASCIIÁºñÁ†ÅÂÜ≤Á™Å Unicode \u[16ËøõÂà∂] UnicodeÊääÊâÄÊúâËØ≠Ë®ÄÈÉΩÁªü‰∏ÄÂà∞‰∏ÄÂ•óÁºñÁ†ÅÈáåÔºåËøôÊ†∑Â∞±‰∏ç‰ºöÂÜçÊúâ‰π±Á†ÅÈóÆÈ¢ò‰∫Ü„ÄÇ Âç†‰Ωç: ÈÄöÂ∏∏ÊòØ2‰∏™Â≠óËäÇ UTF-8 Êú¨ÁùÄËäÇÁ∫¶ÁöÑÁ≤æÁ•ûÔºåÂèàÂá∫Áé∞‰∫ÜÊääUnicodeÁºñÁ†ÅËΩ¨Âåñ‰∏∫‚ÄúÂèØÂèòÈïøÁºñÁ†Å‚ÄùNote: UTF-8ÁºñÁ†ÅÊää‰∏Ä‰∏™UnicodeÂ≠óÁ¨¶Ê†πÊçÆ‰∏çÂêåÁöÑÊï∞Â≠óÂ§ßÂ∞èÁºñÁ†ÅÊàê1-6‰∏™Â≠óËäÇÔºåÂ∏∏Áî®ÁöÑËã±ÊñáÂ≠óÊØçË¢´ÁºñÁ†ÅÊàê1‰∏™Â≠óËäÇÔºåÊ±âÂ≠óÈÄöÂ∏∏ÊòØ3‰∏™Â≠óËäÇÔºåÂè™ÊúâÂæàÁîüÂÉªÁöÑÂ≠óÁ¨¶Êâç‰ºöË¢´ÁºñÁ†ÅÊàê4-6‰∏™Â≠óËäÇ]]></content>
      <categories>
        <category>Other</category>
      </categories>
      <tags>
        <tag>Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Wireshark ÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2017%2F04%2F20%2FWireshark%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÊäΩÁ©∫Êï¥ÁêÜ‰∏Ä‰∏ã, ËôΩÁÑ∂CharlesÂæàÂ•ΩÁî®, ‰ΩÜÊòØÊüê‰∫õÊÉÖÂÜµ‰∏ãËØ•ËΩØ‰ª∂‰πüÊòØ‰∏çÂèØÊõø‰ª£ÁöÑ. ÂÖ≥‰∫éWiresharkÈÄÇÂêàÁ†îÁ©∂ TCP,UDP Á≠âÂçèËÆÆ. Âõ†‰∏∫ÈôêÂà∂Âπ∂‰∏çËÉΩÊîπÂåÖÊàñÊ®°ÊãüÂèëÂåÖÔºåÂè™ËÉΩÂàÜÊûêÂçèËÆÆËã•, Á†îÁ©∂HTTP,HTTPSÊé®Ëçê‰ΩøÁî®Charles or Fiddler ÂÖ≥‰∫éÊäìÂåÖ‰∫îÈ¢úÂÖ≠Ëâ≤ÁöÑÊÑè‰πâ Êõ¥Â§öËØ¶ÊÉÖÊü•Áúã View - Coloring Rules ÁªøËâ≤ËÉåÊôØÔºàÈªëÂ≠óÔºâHTTPÂåÖ ÁÅ∞Ëâ≤ËÉåÊôØÔºàÈªëÂ≠óÔºâTCPÂåÖ ËìùËâ≤ËÉåÊôØ (ÈªëÂ≠ó) DNSÂåÖ ÈªëËâ≤ËÉåÊôØ (Á∫¢Â≠ó) TCPÈîôËØØÂåÖÊàñËÄÖÊ†°È™åÈîôËØØÂåÖ Wireshark‰∏ªÁ™óÂè£ ‰ªé‰∏äËá≥‰∏ã ËèúÂçïÊ†è: Áî®‰∫éÂºÄÂßãÊìç‰Ωú„ÄÇ ‰∏ªÂ∑•ÂÖ∑Ê†è: Êèê‰æõÂø´ÈÄüËÆøÈóÆËèúÂçï‰∏≠ÁªèÂ∏∏Áî®Âà∞ÁöÑÈ°πÁõÆÁöÑÂäüËÉΩ„ÄÇ ËøáÊª§Â∑•ÂÖ∑Ê†è: Êèê‰æõÂ§ÑÁêÜÂΩìÂâçÊòæÁ§∫ËøáÊª§ÂæóÊñπÊ≥ï„ÄÇ Êã¶Êà™ÁöÑÊï∞ÊçÆÂåÖÂàóË°®(Packet list): ÊòæÁ§∫ÊâìÂºÄÊñá‰ª∂ÁöÑÊØè‰∏™ÂåÖÁöÑÊëòË¶Å„ÄÇÁÇπÂáªÈù¢Êùø‰∏≠ÁöÑÂçïÁã¨Êù°ÁõÆÔºåÂåÖÁöÑÂÖ∂‰ªñÊÉÖÂÜµÂ∞Ü‰ºöÊòæÁ§∫Âú®Âè¶Â§ñ‰∏§‰∏™Èù¢Êùø‰∏≠„ÄÇ ÈÄâ‰∏≠ÁöÑÊï∞ÊçÆÂåÖ‰ø°ÊÅØ(Packet details): ÊòæÁ§∫ÊÇ®Âú®Packet listÈù¢Êùø‰∏≠ÈÄâÊã©ÁöÑÂåÖÁöÑÊõ¥Â§öËØ¶ÊÉÖ„ÄÇ ÈÄâ‰∏≠ÁöÑÊï∞ÊçÆÂåÖÂ≠óËäÇÁ†Å: ÊòæÁ§∫ÊÇ®Âú®Packet listÈù¢ÊùøÈÄâÊã©ÁöÑÂåÖÁöÑÊï∞ÊçÆÔºå‰ª•ÂèäÂú®Packet detailsÈù¢ÊùøÈ´ò‰∫ÆÊòæÁ§∫ÁöÑÂ≠óÊÆµ„ÄÇ Áä∂ÊÄÅÊ†è: ÊòæÁ§∫ÂΩìÂâçÁ®ãÂ∫èÁä∂ÊÄÅ‰ª•ÂèäÊçïÊçâÊï∞ÊçÆÁöÑÊõ¥Â§öËØ¶ÊÉÖ„ÄÇ ÈÄâ‰∏≠ÁöÑÊï∞ÊçÆÂåÖ‰ø°ÊÅØ Frame: Áâ©ÁêÜÂ±ÇÁöÑÊï∞ÊçÆÂ∏ßÊ¶ÇÂÜµ Ethernet II: Êï∞ÊçÆÈìæË∑ØÂ±Ç‰ª•Â§™ÁΩëÂ∏ßÂ§¥ÈÉ®‰ø°ÊÅØ Internet Protocol Version 4: ‰∫íËÅîÁΩëÂ±ÇIPÂåÖÂ§¥ÈÉ®‰ø°ÊÅØ Transmission Control Protocol: ‰º†ËæìÂ±ÇTÁöÑÊï∞ÊçÆÊÆµÂ§¥ÈÉ®‰ø°ÊÅØÔºåÊ≠§Â§ÑÊòØTCP Hypertext Transfer Protocol: Â∫îÁî®Â±ÇÁöÑ‰ø°ÊÅØÔºåÊ≠§Â§ÑÊòØHTTPÂçèËÆÆ ËøáÊª§Ë°®ËææÂºè ÂçèËÆÆËøáÊª§ tcp upd .. ip ËøáÊª§ Êù•Ê∫ê ip.src == 192.168.1.1ÁõÆÁöÑÂú∞ ip.dst == 192.168.1.1 Á´ØÂè£ tcp.port == 8080‰ªÖÊòæÁ§∫Êù•Ê∫ê‰∏∫8080ÁöÑ tcp.srcport == 8080 HttpÊ®°Âºè http.request.method==‚ÄùGET‚Äù ÈÄªËæëËøêÁÆóÁ¨¶‰∏∫ and or]]></content>
      <categories>
        <category>IDE</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Wireshark</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SQLÁöÑÈáçÊñ∞Ê¢≥ÁêÜ]]></title>
    <url>%2F2017%2F04%2F07%2FSQL%E9%87%8D%E6%96%B0%E6%A2%B3%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÊåÅÁª≠ÁßØÁ¥Ø.. ÂÖ≥‰∫é SQL ÊâßË°åÈ°∫Â∫èËµÑÊñôÂèÇËÄÉ ‰æãÂè•123456select * from t_1 join t_2on t_1.id = t_2.fidwhere 1=1group by t_1.classNamehaving t_1.className = '1Áè≠'order by id desc; ËøôÊòØ‰∏ÄÊù°ÁÆÄÂçï/ËßÑËåÉÁöÑÂü∫Êú¨SQL„ÄÇ Ê≥®ÊÑè SQL‰∏â‰∏™ÂæàÈáçË¶ÅÁöÑ‰ΩçÁΩÆon/where/havingÂÆÉ‰ª¨ÂàÜÂà´ÂØπÂ∫îÁùÄ join/from/group ÂΩ¢ÊàêÂêéÁöÑËôöË°®ËøõË°åÁ≠õÈÄâ„ÄÇ selectÈÉ®ÂàÜÂπ∂‰∏çÊòØ‰∏ÄÂºÄÂßãÂ∞±ÊâßË°åÁöÑÔºåËÄåÊòØË°®Êï∞ÊçÆÁ°ÆËÆ§ÂÆåÊØïÔºåÂè™Â∑ÆÊéíÂ∫èÁöÑÊó∂ÂÄôÊâßË°åÁöÑ„ÄÇÂπ∂‰∏îselect‰∏≠ÁöÑÂáΩÊï∞/DISTINCT/TOP‰πüÊòØÂú®selectÊâßË°åÈò∂ÊÆµÊâßË°åÁöÑ ËÅöÂêàÂáΩÊï∞ÈúÄGroupÂêéÊâçÂèØÊâßË°å, ÊôÆÈÄöÂáΩÊï∞ÈöèÊâßË°åÊ≠•È™§ÊâßË°å(Ê≠£Â∏∏ÊâßË°å) ÂÖ∑‰ΩìÈ°∫Â∫è FROM FROMÂêéÈù¢ÁöÑË°®Ê†áËØÜ‰∫ÜËøôÊù°ËØ≠Âè•Ë¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÊ∫ê„ÄÇÂíå‰∏Ä‰∫õÂ≠êÂè•Â¶ÇÔºåÔºà1-J1ÔºâÁ¨õÂç°Â∞îÁßØÔºåÔºà1-J2ÔºâONËøáÊª§ÔºåÔºà1-J3ÔºâÊ∑ªÂä†Â§ñÈÉ®ÂàóÔºåÊâÄË¶ÅÂ∫îÁî®ÁöÑÂØπË±°„ÄÇFROMËøáÁ®ã‰πãÂêé‰ºöÁîüÊàê‰∏Ä‰∏™ËôöÊãüË°®VT1„ÄÇ(1-J1)Á¨õÂç°Â∞îÁßØ Ëøô‰∏™Ê≠•È™§‰ºöËÆ°ÁÆó‰∏§‰∏™Áõ∏ÂÖ≥ËÅîË°®ÁöÑÁ¨õÂç°Â∞îÁßØ(CROSS JOIN) ÔºåÁîüÊàêËôöÊãüË°®VT1-J1„ÄÇ(1-J2)ONËøáÊª§ Ëøô‰∏™Ê≠•È™§Âü∫‰∫éËôöÊãüË°®VT1-J1Ëøô‰∏Ä‰∏™ËôöÊãüË°®ËøõË°åËøáÊª§ÔºåËøáÊª§Âá∫ÊâÄÊúâÊª°Ë∂≥ON Ë∞ìËØçÊù°‰ª∂ÁöÑÂàóÔºåÁîüÊàêËôöÊãüË°®VT1-J2„ÄÇ(1-J3)Ê∑ªÂä†Â§ñÈÉ®Ë°å Â¶ÇÊûú‰ΩøÁî®‰∫ÜÂ§ñËøûÊé•(Â§ñËøûÊé•Êâç‰ºöÂä†ÂÖ•Â≠óÊÆµ/Êï∞ÊçÆ)Ôºå‰øùÁïôË°®‰∏≠ÁöÑ‰∏çÁ¨¶ÂêàONÊù°‰ª∂ÁöÑÂàó‰πü‰ºöË¢´Âä†ÂÖ•Âà∞VT1-J2‰∏≠Ôºå‰Ωú‰∏∫Â§ñÈÉ®Ë°åÔºåÁîüÊàêËôöÊãüË°®VT1-J3„ÄÇÊ≠§Êó∂ ‰∏çÁ¨¶ÂêàONÁöÑ‰ºöË¢´Âä†ÂÖ•ÂõûÊù• WHERE ÂØπVT1ËøáÁ®ã‰∏≠ÁîüÊàêÁöÑ‰∏¥Êó∂Ë°®ËøõË°åËøáÊª§ÔºåÊª°Ë∂≥whereÂ≠êÂè•ÁöÑÂàóË¢´ÊèíÂÖ•Âà∞VT2Ë°®‰∏≠„ÄÇ Êï∞ÊçÆÁé∞Âú®ËøòÊ≤°ÊúâË¢´ÂàÜÁªÑÔºåÂõ†Ê≠§Áé∞Âú®‰Ω†‰∏çËÉΩ‰ΩøÁî®ËÅöÂêàËøêÁÆó- GROUP BY Ëøô‰∏™Â≠êÂè•‰ºöÊääVT2‰∏≠ÁîüÊàêÁöÑË°®ÊåâÁÖßGROUP BY‰∏≠ÁöÑÂàóËøõË°åÂàÜÁªÑ„ÄÇÁîüÊàêVT3Ë°®„ÄÇÊØè‰∏Ä‰∏™ÂàÜÁªÑÂøÖÈ°ªÂè™ËÉΩËøîÂõû‰∏ÄË°å(Èô§ÈùûË¢´ËøáÊª§Êéâ)ÔºåÂç≥ÊØè‰∏ÄË°åÊï¥‰ΩìÈÉΩÊó†ÈáçÂ§çÔºåÂØπ‰∫éÊ≤°ÊúâÂá∫Áé∞GROUP BYÂêéÈù¢ÁöÑÂàóÂøÖÈ°ª‰ΩøÁî®ËÅöÂêàÂáΩÊï∞(Â¶Ç MAX ,MIN,COUNT,AVGÁ≠â)Ôºå‰øùËØÅÊØè‰∏Ä‰∏™GROUPÂè™ËøîÂõû‰∏ÄË°å HAVING Ëøô‰∏™Â≠êÂè•ÂØπVT3Ë°®‰∏≠ÁöÑ‰∏çÂêåÁöÑÁªÑËøõË°åËøáÊª§ÔºåÊª°Ë∂≥HAVINGÊù°‰ª∂ÁöÑÂ≠êÂè•Ë¢´Âä†ÂÖ•Âà∞VT4Ë°®‰∏≠„ÄÇ SELECT Ëøô‰∏™Â≠êÂè•ÂØπSELECTÂ≠êÂè•‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åÂ§ÑÁêÜÔºåÁîüÊàêVT5Ë°®„ÄÇ(5-1)ËÆ°ÁÆóË°®ËææÂºè ËÆ°ÁÆóSELECT Â≠êÂè•‰∏≠ÁöÑË°®ËææÂºèÔºåÁîüÊàêVT5-1 Â¶ÇÊûúËøô‰∏™sqlËØ≠Âè•ÊòØ‰∏Ä‰∏™ËÅöÂêàÊü•ËØ¢ÔºåÂú®GROUP BY‰πãÂêéÔºå‰Ω†Âè™ËÉΩ‰ΩøÁî®GROUP BY‰∏≠ÁöÑÂàóÔºåÂØπ‰∏çÂ±û‰∫éGROUPÈõÜÂêà‰∏≠ÁöÑÂàóÂøÖÈ°ª‰ΩøÁî®ËÅöÂêàËøêÁÆó(5-2)DISTINCT ÂØªÊâæVT5-1‰∏≠ÁöÑÈáçÂ§çÂàóÔºåÂπ∂Âà†ÊéâÔºåÁîüÊàêVT5-2(5-3)TOP ‰ªéORDER BYÂ≠êÂè•ÂÆö‰πâÁöÑÁªìÊûú‰∏≠ÔºåÁ≠õÈÄâÂá∫Á¨¶ÂêàÊù°‰ª∂ÁöÑÂàó„ÄÇÁîüÊàêVT5-3Ë°® ORDER BY ‰ªéVT5-3‰∏≠ÁöÑË°®‰∏≠ÔºåÊ†πÊçÆORDER BY Â≠êÂè•ÁöÑÊù°‰ª∂ÂØπÁªìÊûúËøõË°åÊéíÂ∫èÔºåÁîüÊàêVC6Ë°®„ÄÇÂîØ‰∏Ä‰∏Ä‰∏™ÂèØ‰ª•‰ΩøÁî®SELECTÂ≠êÂè•ÂàõÂª∫ÁöÑÂà´ÂêçÁöÑÂú∞Êñπ ËÅöÂêàÂáΩÊï∞ÊòØÂØπ‰∏ÄÁªÑÂÄºÊâßË°åËÆ°ÁÆóÂπ∂ËøîÂõûÂçï‰∏ÄÁöÑÂÄºÁöÑÂáΩÊï∞ 1234567SELECT C.customerid, COUNT(O.orderid) AS numordersFROM dbo.Customers AS C LEFT OUTER JOIN dbo.Orders AS O ON C.customerid = O.customeridWHERE C.city = 'Madrid'GROUP BY C.customeridHAVING COUNT(O.orderid) ÂÖ≥‰∫é Ë°® Joins Joins Â≠êÂè•Áî®‰∫éÁªìÂêà‰∏§‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÂ∫ì‰∏≠Ë°®ÁöÑËÆ∞ÂΩï, ‰πüÂ∞±ÊòØËØ¥ÊòØÈÄöËøáÊüêÁßçËÅîÁ≥ªÂª∫Á´ãË°®‰πãÈó¥ÁöÑÂÖ≥ËÅî, Âπ∂ÂΩ¢Êàê‰∏ÄÂº†Êñ∞Ë°® SQL ÂÆö‰πâ‰∫Ü‰∏âÁßç‰∏ªË¶ÅÁ±ªÂûãÁöÑËøûÊé• ‰∫§ÂèâËøûÊé• ( CROSS JOIN ), ÂèàÁß∞ Á¨õÂç°Â∞îÁßØ ‰ºöÂΩ¢ÊàêÂ∫ûÂ§ßÁöÑË°®, Âõ†Ê≠§ÊÖéÁî®„ÄÇÂÅáËÆæ: Ë°®t1(5Ë°åÊï∞ÊçÆ, 3Âàó), Ë°®t2(4Ë°åÊï∞ÊçÆ, 2Âàó)SQL: select from t1 cross join t2ÁªìÊûú: Êï∞ÊçÆÊï∞Èáè‰∏∫20Ë°åÊï∞ÊçÆ(5 4), 5Âàó ÂÜÖËøûÊé• ( INNER JOIN ), ÈÄöÂ∏∏ÂèØÁúÅÁï• inner ÈÄöËøá on Êàñ where Âª∫Á´ãË°®‰πãÈó¥ÁöÑËÅîÁ≥ªÊàñËÄÖËØ¥Ë°®ÂΩ¢ÊàêÁöÑÊù°‰ª∂ÂÅáËÆæ: Ë°®t1(5Ë°åÊï∞ÊçÆ, 3Âàó), Ë°®t2(4Ë°åÊï∞ÊçÆ, 2Âàó)SQL: select from t1 inner join t2 on t1.sid = t2.sid*ÁªìÊûú: Êü•ËØ¢Êìç‰ΩúÂàóÂá∫‰∏éËøûÊé•Êù°‰ª∂ÂåπÈÖçÁöÑÊï∞ÊçÆË°å, 5Âàó Â§ñËøûÊé• ( OUTER JOIN ) Â§ñËøûÊé•‰∏∫ÂÜÖËøûÊé•ÁöÑÊâ©Â±ï, ‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÂì™Ëæπ‰∏∫Âü∫ÂáÜ, ‰ΩøÁî® on ËøõË°åÊï∞ÊçÆÂÖ≥ËÅîÂ§ñËøûÊé•ÂàÜ‰∏∫: Â∑¶Â§ñËøûÊé•„ÄÅÂè≥Â§ñËøûÊé•„ÄÅÂÖ®Â§ñËøûÊé•ÈÉ®ÂàÜSQLËØ≠Ë®ÄÂπ∂‰∏çÂåÖÂê´ÂÖ®ÈÉ®ÁßçÁ±ª, ‰æãÂ¶ÇSQLite ‰πãÂåÖÂê´ Â∑¶Â§ñËøûÊé• Â∑¶Â§ñËøûÊé• ( LEFT JOIN )ÂÅáËÆæ: Ë°®t1(5Ë°åÊï∞ÊçÆ, 3Âàó), Ë°®t2(4Ë°åÊï∞ÊçÆ, 2Âàó)SQL: select from t1 left join t2 on t1.sid = t2.sid*ÁªìÊûú: ‰ª•Â∑¶Ë°®‰∏∫Âü∫ÂáÜ, Â∞ÜÊï∞ÊçÆÊåâÊù°‰ª∂ËøõË°åËøûÊé•, Â∑¶Ë°®Ë°åÂÖ®ÈÉ®ÊòæÁ§∫, Ëã•Âè≥Ë°®Ê≤°ÊúâÊª°Ë∂≥Êù°‰ª∂ÁöÑË°åÂàôÊòæÁ§∫‰∏∫NULL, 5Âàó Âè≥Â§ñËøûÊé• ( RIGHT JOIN ) ÂÅáËÆæ: Ë°®t1(5Ë°åÊï∞ÊçÆ, 3Âàó), Ë°®t2(4Ë°åÊï∞ÊçÆ, 2Âàó)SQL: select from t1 right join t2 on t1.sid = t2.sid*ÁªìÊûú: ‰ª•Âè≥Ë°®‰∏∫Âü∫ÂáÜ, Â∞ÜÊï∞ÊçÆÊåâÊù°‰ª∂ËøõË°åËøûÊé•, Âè≥Ë°®Ë°åÂÖ®ÈÉ®ÊòæÁ§∫, Ëã•Â∑¶Ë°®Ê≤°ÊúâÊª°Ë∂≥Êù°‰ª∂ÁöÑË°åÂàôÊòæÁ§∫‰∏∫NULL, 5Âàó ÂÖ®Â§ñËøûÊé• ( FULL JOIN ) ÂÅáËÆæ: Ë°®t1(5Ë°åÊï∞ÊçÆ, 3Âàó), Ë°®t2(4Ë°åÊï∞ÊçÆ, 2Âàó)SQL: select from t1 full join t2 on t1.sid = t2.sid*ÁªìÊûú: ÂÆåÊï¥ÁöÑÊòæÁ§∫‰∏§Ë°®ÁöÑÊï∞ÊçÆ, Â∞ÜÊï∞ÊçÆÊåâÊù°‰ª∂ËøõË°åËøûÊé•, ÂΩìÊ≤°ÊúâË¢´ÂÖ≥ËÅîÁöÑË°®‰∏≠Ê≤°ÊúâÂ≠òÂú®Êª°Ë∂≥Êù°‰ª∂ÁöÑË°åÊó∂, ÂàôÊòæÁ§∫‰∏∫NULL, 5Âàó]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue.jsÈ°πÁõÆ ÈÉ®‰ª∂ÁÆÄ‰ªã (Êú™ÂÆåÂæÖÁª≠)]]></title>
    <url>%2F2017%2F03%2F31%2FVue.js%E9%A1%B9%E7%9B%AE-%E9%83%A8%E4%BB%B6%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[ü¶ã ÁõÆÂâçÂõΩÂÜÖÂâçÁ´ØMVVMÊúÄÁÅ´ÁöÑÊ°ÜÊû∂.. ÂâçÊÆµÊó∂Èó¥ÂÜô‰∫Ü‰∏Ä‰∏™AboutÈ°µÈù¢, ËøôÂá†Â§©È°∫Â∏¶Êï¥ÁêÜ‰∏Ä‰∏ãÁü•ËØÜÁÇπ. Vue.js Vue.jsÊòØÂΩì‰∏ãÂæàÁÅ´ÁöÑ‰∏Ä‰∏™JavaScript MVVMÂ∫ìÔºåÂÆÉÊòØ‰ª•Êï∞ÊçÆÈ©±Âä®ÂíåÁªÑ‰ª∂ÂåñÁöÑÊÄùÊÉ≥ÊûÑÂª∫ÁöÑ.Á±ª‰ººÁöÑÊúâAngular.js. ÂèØ‰ª•Âª∫Á´ãDOMÂíåÊï∞ÊçÆ‰πãÈó¥ÁöÑÁªëÂÆö ÂèØ‰ª•ÊåâÂäüËÉΩ/ÁªÑ‰ª∂ÊäΩÁ¶ªHTML‰ª£Á†Å Áõ∏ÂÖ≥Vue È°πÁõÆÂÆûË∑µ - ÊåÅÁª≠Êõ¥Êñ∞ ÂäüËÉΩÈÉ®ÂàÜÂü∫Á°Ä Êï∞ÂÄºÈªòËÆ§ÂèåÂêëÁªëÂÆö ÊîØÊåÅ Êù°‰ª∂ËØ≠Ê≥ïÁâπÊÄß/ÂäüËÉΩÂáΩÊï∞/ÁîüÂëΩÂë®Êúü Âä®ÊÄÅËÆæÂÆöstyle/class ÊçÜÁªëevent Ê∏≤ÊüìÁîüÂëΩÂë®ÊúüÈ´òÁ∫ß ÂçïÈ°µÈù¢ÁªÑ‰ª∂ Ëá™ÂÆö‰πâÊåá‰ª§ ÂçïÂÖÉÊµãËØï Êèí‰ª∂ ÂçïÊñá‰ª∂ÁªÑ‰ª∂.vueÂÆö‰πâ:12345678&lt;template&gt; &lt;h1&gt;This is title&lt;/h1&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: 'Title' &#125;&lt;/script&gt; ‰ΩøÁî®:123456789101112131415&lt;template&gt; &lt;div id="app"&gt; &lt;img src="./assets/logo.png"&gt; &lt;Title&gt;&lt;/Title&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import Title from './components/Title' export default &#123; name: 'app', components: &#123; Title &#125; &#125;&lt;/script&gt; Vue Router Êâ©Â±ï VueÊåâÂ≠óÈù¢ÊÑèÊÄùÊù•Áúã‰∏∫Vue Ë∑ØÁî±ÂÖ∂ÂÆûË¥®‰πüÂ∞±ÊòØÁî®‰∫éÂçïÈ°µÂ∫îÁî®ÁÆ°ÁêÜÈ°µÈù¢Ë∑≥ËΩ¨, Ë¥üË¥£Ë∑ØÂæÑËß£Êûê. 123456789101112131415import Vue from 'vue'import Router from 'vue-router'import Hello from '@/components/Hello'Vue.use(Router)export default new Router(&#123; routes: [ &#123; path: '/', name: 'Hello', component: Hello &#125; ]&#125;) Vuex Êâ©Â±ï VueÂΩìÂºÄÂèëÂ§ßÂûãÈ°πÁõÆÊó∂, ‰∏∫Èò≤Ê≠¢ Vue Â§™ËøáËáÉËÇø, ‰ΩøÁî® Vuex ÁÆ°ÁêÜÊï∞ÊçÆÁä∂ÊÄÅ. webpack ‰∏ÄÊ¨æÊ®°ÂùóÂä†ËΩΩÂô®ÂÖºÊâìÂåÖÂ∑•ÂÖ∑‰ΩøÁî®Ê®°ÂùóÁöÑÁêÜÂøµÊù•Â§ÑÁêÜ JS/CSS/ÂõæÁâáÁ≠âËµÑÊ∫êÊñá‰ª∂ Êåá‰ª§123456789# ÂÆâË£Önpm install webpack --save-dev# ÊâßË°åwebpack --display-error-details # ËæìÂá∫ËØ¶ÁªÜÈîôËØØ --watch # ÂÆûÊó∂ÁõëÂê¨Âπ∂Ëá™Âä®ÊâìÂåÖ --config &lt;file&gt; # ÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ÊâìÂåÖ -p # ÂéãÁº©ÊâìÂåÖ -d # ÁîüÊàêmapÊò†Â∞ÑÊñá‰ª∂ ÈÖçÁΩÆ(webpack.config.js)12345678910111213141516171819module.exports = &#123; // Êèí‰ª∂ plugins: [], // È°µÈù¢ÂÖ•Âè£ entry: &#123;&#125;, // ÂÖ•Âè£Êñá‰ª∂ËæìÂá∫‰ΩçÁΩÆ, Âç≥Â§ÑÁêÜÂêéÁöÑÊñá‰ª∂Â≠òÊîæ‰ΩçÁΩÆ output: &#123;&#125;, module: &#123; // Êñá‰ª∂Â§ÑÁêÜÂä†ËΩΩÂô® rules: [] &#125;, // È¢ùÂ§ñÂ§ÑÁêÜ resolve: &#123; // Ëá™Âä®Êâ©Â±ïÊñá‰ª∂ÂêéÁºÄ, requireÊó∂ÂèØ‰ª•ËøõË°åÁúÅÁï• extensions: [], // Ê®°ÂùóÂÆö‰πâÂà´Âêç, requireÊó∂ÂèØ‰ª•ËøõË°åË∑ØÂæÑÁúÅÁï•, Áõ¥Êé•‰ΩøÁî®Âà´Âêç alias: &#123;&#125; &#125;&#125; ÂÖ•Âè£Êñá‰ª∂(main.js)1234567891011121314151617181920import Vue from 'vue'import App from './App'import router from './router'import store from './store/index'// ÂºïÂÖ•js, Âä†ËΩΩÂô®‰ºöËá™Âä®ËøõË°åÂ§ÑÁêÜimport holderjs from 'holderjs'// ÂºïÂÖ• css/scss, Âä†ËΩΩÂô®‰ºöËá™Âä®ËøõË°åÂ§ÑÁêÜimport appScss from './assets/app.scss'import fontAwesomeCss from './assets/font-awesome-4.7.0/css/font-awesome.css'Vue.config.productionTip = false/* eslint-disable no-new */new Vue(&#123; el: '#app', router, store, template: '&lt;App/&gt;', components: &#123; App &#125;&#125;) Êú™ÂÆåÂæÖÁª≠ing]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>HTML5</tag>
        <tag>ÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue È°πÁõÆÂÆûË∑µ - ÊåÅÁª≠Êõ¥Êñ∞]]></title>
    <url>%2F2017%2F03%2F26%2FVue.js-%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%2F</url>
    <content type="text"><![CDATA[üêå ÁõÆÂâçÂõΩÂÜÖÂâçÁ´ØMVVMÊúÄÁÅ´ÁöÑÊ°ÜÊû∂.. È°πÁõÆÂÆûË∑µËÆ∞ÂΩï‰∏Ä‰∫õÊµÅÁ®ã Áõ∏ÂÖ≥ vue vue-router Áªôvue‰ΩøÁî®ÁöÑË∑ØÁî± vuex ‰∏Ä‰∏™‰∏ì‰∏∫ Vue.js Â∫îÁî®Á®ãÂ∫èÂºÄÂèëÁöÑÁä∂ÊÄÅÁÆ°ÁêÜÊ®°Âºè webpack Âø´ÈÄüÊê≠Âª∫È°πÁõÆ12345678910111213141516171819# ÊûÑÂª∫È°πÁõÆnpm install -g vue-clivue init webpack &lt;project-name&gt;# ËØïË°åcd iPagenpm installnpm run dev# ÂÆâË£Ö vuexnpm install vuex -S# ÂÆâË£Ö sass ÂºÄÂèëÊîØÊåÅnpm install --save-dev sass-loadernpm install --save-dev node-sassnpm install --save-dev css-loadernpm install --save-dev style-loader# ÁºñËØëÁîüÊàêÈùôÊÄÅÊñá‰ª∂npm run build ÁõÆÂΩïÁªìÊûÑ12345678910111213141516. ‚îú‚îÄ‚îÄ README.md ‚îú‚îÄ‚îÄ build ‚îú‚îÄ‚îÄ config ‚îú‚îÄ‚îÄ index.html ‚îú‚îÄ‚îÄ node_modules ‚îú‚îÄ‚îÄ package.json ‚îú‚îÄ‚îÄ src // Ê∫êÁ†Å| ‚îú‚îÄ‚îÄ App.vue // Áà∂ÁªÑ‰ª∂ | ‚îú‚îÄ‚îÄ assets // ÈùôÊÄÅÊñá‰ª∂ | ‚îú‚îÄ‚îÄ components // ÂÖ¨ÂÖ±ÁªÑ‰ª∂ | ‚îú‚îÄ‚îÄ main.js // webpackÊâìÂåÖÂÖ•Âè£Êñá‰ª∂ | ‚îî‚îÄ‚îÄ router | ‚îî‚îÄ‚îÄ index.js // È°µÈù¢Ë∑ØÁî± ‚îú‚îÄ‚îÄ static ‚îî‚îÄ‚îÄ test ÈÅáÂà∞ÁöÑÈóÆÈ¢ò]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>HTML5</tag>
        <tag>ÂâçÁ´Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫é Objective-C ÁöÑÂ∞èÁ¨îËÆ∞]]></title>
    <url>%2F2017%2F03%2F20%2F%E5%85%B3%E4%BA%8E%20Objective-C%20%E7%9A%84%E5%B0%8F%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[‰πãÂâçÂ≠¶ swift3 È°∫Â∏¶Êï¥ÁêÜÁöÑÂ∞èÁ¨îËÆ∞ Objective-C‰ªãÁªç Êñá‰ª∂ÂêéÁºÄ Êñá‰ª∂Á±ªÂûã *.h Â§¥Êñá‰ª∂„ÄÇÂ§¥Êñá‰ª∂ÂåÖÂê´Á±ªÔºåÁ±ªÂûãÔºåÂáΩÊï∞ÂíåÂ∏∏Êï∞ÁöÑÂ£∞Êòé„ÄÇ *.m Ê∫ê‰ª£Á†ÅÊñá‰ª∂„ÄÇËøôÊòØÂÖ∏ÂûãÁöÑÊ∫ê‰ª£Á†ÅÊñá‰ª∂Êâ©Â±ïÂêçÔºåÂèØ‰ª•ÂåÖÂê´ Objective-C Âíå C ‰ª£Á†Å *.mm Ê∫ê‰ª£Á†ÅÊñá‰ª∂„ÄÇÂ∏¶ÊúâËøôÁßçÊâ©Â±ïÂêçÁöÑÊ∫ê‰ª£Á†ÅÊñá‰ª∂ÔºåÈô§‰∫ÜÂèØ‰ª•ÂåÖÂê´Objective-CÂíåC‰ª£Á†Å‰ª•Â§ñËøòÂèØ‰ª•ÂåÖÂê´C++‰ª£Á†Å„ÄÇ‰ªÖÂú®‰Ω†ÁöÑObjective-C‰ª£Á†Å‰∏≠Á°ÆÂÆûÈúÄË¶Å‰ΩøÁî®C++Á±ªÊàñËÄÖÁâπÊÄßÁöÑÊó∂ÂÄôÊâçÁî®ËøôÁßçÊâ©Â±ïÂêç„ÄÇ ËØ¥Êòé ÂÖ≥ÈîÆËØç ËØ¥Êòé #import ÂºïÂÖ•Êñá‰ª∂, Âπ∂Á°Æ‰øùÁõ∏ÂêåÁöÑÊñá‰ª∂Âè™‰ºöË¢´ÂåÖÂê´‰∏ÄÊ¨° NSString* say = @‚ÄùHello World‚Äù ÂàõÂª∫NSStringÂØπË±° @interface/@implementation objective-c ‰∏Ä‰∏™Á±ªÊòØÁî±:ÂÆö‰πâÂíåÂÆûÁé∞Êù•ÊûÑÊàêÁöÑ, @interface Áî®‰∫éÂÆö‰πâ, @implementationÁî®‰∫éÂÆûÁé∞ÁªÜËäÇ. @property‰∏é@synthesize @propertyÁî®‰∫éÂú®@interfaceÂ£∞Êòégetter‰∏ésetterÂáΩÊï∞, @synthesizeÁî®‰∫éÂú®@implementationÂÆûÁé∞getter‰∏ésetterÂáΩÊï∞, ‰∫åËÄÖÊòØÊê≠ÈÖçÂè£Âë≥È´òÁâàÊú¨(Xcode4.5)ÂèØÁúÅÁï•@synthesize Âü∫Á°ÄÊ°ÜÊû∂ ÂÆÉÂåÖÊã¨ NSArrayÔºåNSDictionary‰∏≠ÁöÑNSSetÁ≠âÊâ©Â±ïÊï∞ÊçÆÁ±ªÂûãÁöÑÂàóË°®„ÄÇ ÂÆÉÁî±‰∏ÄÁªÑ‰∏∞ÂØåÁöÑÊìç‰ΩúÊñá‰ª∂ÁöÑÂáΩÊï∞ÔºåÂ≠óÁ¨¶‰∏≤ÔºåÁ≠âÁ≠â„ÄÇ URLÂ§ÑÁêÜÂÆÉÊèê‰æõÁöÑÂäüËÉΩÔºåÂ¶ÇÊó•ÊúüÊ†ºÂºèÔºåÊï∞ÊçÆÂ§ÑÁêÜÔºåÈîôËØØÂ§ÑÁêÜÁ≠âÂÆûÁî®Â∑•ÂÖ∑ ËØ≠Ê≥ïËØ≠Ê≥ïÈÄüËØª123456789101112131415161718192021222324252627282930313233/* È¢ÑÂ§ÑÁêÜ(ÂØºÂåÖ) */#import &lt;Foundation/Foundation.h&gt;/* ÂÆö‰πâÊé•Âè£(ÁªßÊâø:NSObject) */@interface SampleClass:NSObject- (void)sampleMethod;@end/* ÂÆûÁé∞Êé•Âè£(SampleClass) */@implementation SampleClass- (void)sampleMethod&#123; NSLog(@&quot;Hello, World!&quot;);&#125;@end/* ‰∏ªÂáΩÊï∞ */int main() &#123; /* my first program in Objective-C */ SampleClass *sampleClass = [[SampleClass alloc]init]; /* - Ë∞ÉÁî®ÂáΩÊï∞ C: sampleClass.sampleMethod(args); OC: [ÂØπË±° ÂáΩÊï∞Âêç: ÂèÇÊï∞] */ [sampleClass sampleMethod: args]; return 0;&#125; Á±ªÁöÑËØ≠Ê≥ï Á±ªÂàÜ‰∏∫: Á±ªÁöÑÂÆö‰πâ(.h) Âíå Á±ªÁöÑÂÆûÁé∞(.m) ÂÆö‰πâ ( *.h )123456789101112131415@interface MyObject : NSObject&#123; // Ê≠§Â§ÑÂèòÈáèÈªòËÆ§‰∏∫Âèó‰øùÊä§(protected) int memberVar1; // ÂÆû‰ΩìÂèòÈáè id memberVar2;&#125;+(return_type) class_method; // &quot;+&quot; Ë°®Á§∫ Á±ªÊñπÊ≥ï-(return_type) instance_method1; // &quot;-&quot; Ë°®Á§∫ ÂÆû‰æãÊñπÊ≥ï-(return_type) instance_method2: (int) p1;// ËøôÈáåÁöÑË∞ÉÁî®ÊñπÂºè‰∏∫: [obj instance_method3: 1 andPar: 2];// andPar Áõ∏ÂΩì‰∫éÂ§ñÈÉ®ÁöÑÂè¶Â§ñ‰∏Ä‰∏™Âà´Âêç-(return_type) instance_method3: (int) p1 andPar: (int) p2;@end ÂÆûÁé∞ ( *.m )12345678910111213141516171819@implementation MyObject&#123; // Ê≠§Â§ÑÂèòÈáè‰∏∫ÁßÅÊúâ(private) int memberVar3; //ÁßÅÊúâÂÆû‰ΩìÂèòÈáè&#125;+(return_type) class_method &#123; .... //method implementation&#125;-(return_type) instance_method1 &#123; ....&#125;-(return_type) instance_method2: (int) p1 &#123; ....&#125;-(return_type) instance_method3: (int) p1 andPar: (int) p2 &#123; ....&#125;@end ÂàõÂª∫ÂØπË±°1234// Ê≥®: alloc ‰∏é init ÈÉΩÂ±û‰∫é NSObject ÈáåÁöÑÂáΩÊï∞MyObject * my = [[MyObject alloc] init];// Êó†ÂèÇÊûÑÂª∫, ‰πüÂèØÈááÁî®‰ª•‰∏ãÊñπÂºè (Objective-C 2.0)MyObject * my = [MyObject new]; Note: { } ÈúÄÂ¶ÇÊñáËøôÊ†∑Ê†áËØÜ, ÊâçÂèØË°®ËææÂá∫ÂáÜÁ°ÆÁöÑËØ≠‰πâ, ËØªËÄÖËá™Ë°åÈ¢ÜÊÇü. ÂáΩÊï∞ËØ≠Ê≥ï ÂáΩÊï∞ÂàÜ‰∏∫: Á±ªÂáΩÊï∞ Âíå ÂØπË±°ÂáΩÊï∞ 12345678910111213// Â¶Ç‰∏ä// ÂÆö‰πâËØ≠Ê≥ï: ËåÉÂõ¥Ê†áËØÜ (ËøîÂõûÂÄº)ÂáΩÊï∞Âêç:Â§ñÈÉ®ÂΩ¢ÂèÇÂà´Âêç:(ÂèÇÊï∞Á±ªÂûã) ÂΩ¢ÂèÇÂêç Â§ñÈÉ®ÂΩ¢ÂèÇÂà´Âêç:(ÂèÇÊï∞Á±ªÂûã) ÂΩ¢ÂèÇÂêç// Ê≥®: Á¨¨‰∏Ä‰∏™ Â§ñÈÉ®ÂΩ¢ÂèÇÂà´Âêç ÂèØÁúÅÁï•- (void)insertObject:(id)anObject atIndex:(NSUInteger) index+ (void)insertObject:(id)anObject atIndex:(NSUInteger) index// Ë∞ÉÁî®// ÂØπË±°Ë∞ÉÁî® [ÂØπË±° ÂáΩÊï∞Âêç: ÂèÇÊï∞1 Â§ñÈÉ®ÂΩ¢ÂèÇÂà´Âêç: ÂèÇÊï∞2][obj insertObject: arg1 atIndex: arg2]// Á±ªË∞ÉÁî® [Á±ªÂêç ÂáΩÊï∞Âêç: ÂèÇÊï∞1 Â§ñÈÉ®ÂΩ¢ÂèÇÂà´Âêç: ÂèÇÊï∞2][Object insertObject: arg1 atIndex: arg2]// Ê≥®:) Á±ªË∞ÉÁî® Âíå ÂØπË±°Ë∞ÉÁî® ÁöÑÂΩ¢ÂºèÊòØ‰∏ÄÊ†∑ÁöÑ Â±ûÊÄßËØ≠Ê≥ï12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758@interface Person : NSObject&#123;/*Áõ∏ÂΩì‰∫é @public Ëá≥ @private ‰πãÈó¥ÁöÑÂ±ûÊÄßË¢´Êö¥Èú≤Âá∫ÂéªÂèØÈÄöËøáÂÆû‰æãÁõ¥Êé•ËÆøÈóÆ, ‰æãÂ¶Ç: obj-&gt;name*/@public NSString *name;@private int age;&#125;/* ÂèÇËÄÉ: http://justcoding.iteye.com/blog/1444548 ‰ΩøÁî®ËåÉÂõ¥: @interface, @protocol, @category ÂèØÂ£∞ÊòéÁâπÊÄß: ËØªÂÜôÂ±ûÊÄßÔºö Ôºàreadwrite/readonlyÔºâ setterËØ≠ÊÑèÔºöÔºàassign/retain/copyÔºâ ÂéüÂ≠êÊÄßÔºö Ôºàatomicity/nonatomicÔºâ ‰ΩøÁî®ÊïàÊûú(Â£∞Êòé‰∏Ä‰∏™setter‰∏égetterÊñπÊ≥ï): - (NSString*)name; - (void)setName: (NSString*)newName; */@property(copy) NSString *name;@property(readonly) int age;-(id)initWithAge:(int)age;@end@implementation Person/* ‰ΩøÁî®ËåÉÂõ¥: @implementation ‰ΩøÁî®ÊïàÊûú(Ëá™Âä®ÂÆûÁé∞‰∏Ä‰∏™setter‰∏égetterÊñπÊ≥ï): - (NSString*)name &#123; return name; &#125; - (void)setName: (NSString*)newName &#123; name = newName; &#125; */@synthesize name;/* @dynamic ‰ªÖ‰ªÖÊòØÂëäËØâÁºñËØëÂô®Ëøô‰∏§‰∏™ÊñπÊ≥ïÂú®ËøêË°åÊúü‰ºöÊúâÁöÑÔºåÊó†ÈúÄ‰∫ßÁîüË≠¶Âëä */@dynamic age;-(id)initWithAge:(int)initAge&#123; age = initAge; // Ê≥®ÊÑèÔºöÁõ¥Êé•ËµãÁªôÊàêÂëòÂèòÈáèÔºåËÄåÈùûÂ±ûÊÄß return self;&#125;-(int)age&#123; return 29; // Ê≥®ÊÑèÔºöÂπ∂ÈùûËøîÂõûÁúüÊ≠£ÁöÑÂπ¥ÈæÑ&#125;@end Á±ªÊàñÂçèËÆÆÁöÑÂ±ûÊÄßÂèØ‰ª•Ë¢´Âä®ÊÄÅÁöÑËØªÂèñ Á±ª‰ººÂèçÂ∞ÑÊú∫Âà∂ , Áï•Ëøá.. Âø´ÈÄüÊûö‰∏æ ‰∏ÄÁßçÁúÅÂÜÖÂ≠òÁöÑÂæ™ÁéØÈÅçÂéÜ , Áï•Ëøá.. ÂçèËÆÆËØ≠Ê≥ï Á±ª‰ºº Java ‰∏≠ÁöÑÊé•Âè£123456789101112131415161718192021/*ÂÆö‰πâÂçèËÆÆ*/@protocol Locking- (void)lock;- (void)unlock;@end/*Á±ªÁöÑ@interface ÂÆ£Áß∞‰ΩøÁî® ÂçèËÆÆ*/@interface SomeClass : SomeSuperClass &lt;Locking&gt;@end/*Á±ªÁöÑ@implementation ÂÆûÁé∞ ÂçèËÆÆ ÁªÜËäÇ*/@implementation SomeClass- (void)lock &#123; // ÂÆûÁé∞lockÊñπÊ≥ï...&#125;- (void)unlock &#123; // ÂÆûÁé∞unlockÊñπÊ≥ï...&#125;@end Âä®ÊÄÅÁ±ªÂûã id Áõ∏ÂΩì‰∫é Java ‰∏≠ÁöÑ Object, Âç≥ ‰ªªÊÑèÂØπË±° Á±ªÂà´ (Category) ËØ≠Ê≥ï ÂàÜÁ±ª‰∏ç‰ªÖÂèØ‰ª•Â¢ûÂä†Á±ªÁöÑÊñπÊ≥ïÔºå‰πüÂèØ‰ª•‰ª£ÊõøÂéüÊúâÁöÑÂáΩÊï∞, Âπ∂‰∏çËÉΩÊñ∞Â¢ûÂèòÈáèÂä®ÊÄÅÂ¢ûÂä†ÂíåÊõøÊç¢ÂáΩÊï∞, Âº∫Âæó‰∏ÄÂåπ 123456789101112131415161718192021222324252627282930313233/* ËØ¥Êòé: ÂÆö‰πâÊâ©Â±ï IntegerÁ±ª Êé•Âè£, Êñ∞Â¢û/Ë¶ÜÁõñ ÂáΩÊï∞ showstars ‰∏é showint ËØ≠Ê≥ï: #import &quot;ÂæÖÊâ©Â±ïÁ±ªÊé•Âè£Êñá‰ª∂.h&quot; @interface ÂæÖÊâ©Â±ïÁ±ª(Êâ©Â±ïÁ±ª) // ÂáΩÊï∞ÂÆö‰πâ @end*/#import &quot;Integer.h&quot;@interface Integer(Display)- (id) showstars;- (id) showint;@end/* ËØ¥Êòé: ÂÆûÁé∞Êâ©Â±ï IntegerÁ±ª Êé•Âè£, Êñ∞Â¢û/Ë¶ÜÁõñ ÂáΩÊï∞ showstars ‰∏é showint ËØ≠Ê≥ï: #import &quot;Êâ©Â±ïÁ±ªÊé•Âè£Êñá‰ª∂.h&quot; @implementation ÂæÖÊâ©Â±ïÁ±ª(Êâ©Â±ïÁ±ª) // ÂáΩÊï∞ÂÆûÁé∞ @end*/#import &quot;Display.h&quot;@implementation Integer(Display)- (id) showstars &#123; ..&#125;- (id) showint &#123; ..&#125;@end NOTE: ‰ΩøÁî®Êó∂ÈúÄ#import ÂæÖÊâ©Â±ïÁ±ª‰∏éÊâ©Â±ïÁ±ªÁöÑÊé•Âè£Êñá‰ª∂(.h) ÂàíÈáçÁÇπ NSString*/NSObject*Á≠â Ë°®Á§∫ÂØπË±° self ÊüêÁßçÁ®ãÂ∫¶Áõ∏ÂΩì‰∫é this nil Âü∫Êú¨‰∏äÁ≠âÂêå‰∫é NULL Ë∞ÉÁî®Â±ûÊÄß self-&gt;name ‰∏ÄËà¨(.h Â≠òÊîæ@interfaceÊñá‰ª∂, .m Â≠òÊîæ@implementationÊñá‰ª∂). ËøõË°å#importÊó∂, Âè™ÈúÄ#import .hÊñá‰ª∂]]></content>
      <categories>
        <category>Mac</category>
      </categories>
      <tags>
        <tag>ËØ≠Ê≥ï</tag>
        <tag>Objective-C</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHP Laravel Âø´ÈÄüÂÖ•Èó®]]></title>
    <url>%2F2017%2F03%2F01%2FPHP-laravel-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[PHP Ê°ÜÊû∂ Laravel Êê≠Âª∫ÂºÄÂßã, ÊÖ¢ÊÖ¢Êõ¥Êñ∞~ üòúüòúüòúüòú Quit Start‰∏Ä. ÂÆâË£Öcomposer, Áî®‰∫éÁÆ°ÁêÜ‰æùËµñ 123456# ÂÖ®Â±ÄÂÆâË£Ö macOSbrew updatebrew tap josegonzalez/homebrew-phpbrew tap homebrew/versionsbrew install php55-intlbrew install josegonzalez/php/composer ‰∫å. ‰∏ãËΩΩlaravel 1composer global require "laravel/installer" ‰∏â. ÂàõÂª∫È°πÁõÆ 1composer create-project laravel/laravel --prefer-dist Âõõ. ÂÖ≥‰∫éÂ¶Ç‰Ωï‰ΩøÁî®PhpStorm ÈªòËÆ§Â∑≤ÁªèÈÖçÁΩÆÂ•ΩPHPÂºÄÂèëÁéØÂ¢É‰∫Ü! 4.0.1 Áõ∏ÂÖ≥Êèí‰ª∂ Laravel Plugin [Optional] PHP Annotations Plugin [Optional] Symfony2 Plugin 4.1 ÈÖçÁΩÆComposer Âè≥ÈîÆÈ°πÁõÆÊ†πËäÇÁÇπ -&gt; Composer -&gt; init composer, ÈÖçÁΩÆPHPËß£ÈáäÂô®ÂíåComposerË∑ØÂæÑ Âè≥ÈîÆÈ°πÁõÆÊ†πËäÇÁÇπ -&gt; Composer -&gt; add dependency, Ê∑ªÂä†barryvdh/laravel-ide-helper ÊàñËÄÖ 1composer require barryvdh/laravel-ide-helper 4.2 ÁºñËæëconfig/app.phpÊñá‰ª∂, Âú®providersËäÇÁÇπ‰∏ãÈù¢Ê∑ªÂä† 4.3 Êâ©Â±ïÂëΩ‰ª§Â∑•ÂÖ∑ Preferences -&gt; Tools -&gt; Command Line Tool Support ‰ΩøÁî®: Tools -&gt; Run Command(‚åò + ‚áß + X) 4.4 ÈÖçÁΩÆ php-xdebug12# Ê£ÄÊü•ÊòØÂê¶ÂÆâË£Öphp-xdebugphp -m ÂÆâË£ÖÂêéÔºå‰øÆÊîπ‰∏ãphp.iniÊääxdebug.soÂâçÁöÑÊ≥®Èáä‚Äô;‚ÄôÂéªÊéâ ‰∫î. ÈÖçÁΩÆÂêØÂä® ÂÖ≠. ÈÖçÁΩÆDebug Âπ∂‰∏îÂú®Ê†πÁõÆÂΩïÂä†ÂÖ•debug.ini 123456789101112xdebug.remote_enable = Onxdebug.remote_autostart = Onupload_max_filesize = 1000Mpost_max_size = 1005Mmax_execution_time = 120;xdebug.profiler_enable = On;xdebug.profiler_enable_trigger = Off;xdebug.profiler_output_dir = ./xdebug;xdebug.profiler_aggregate = On;xdebug.profiler_append = On;xdebug.profiler_output_name = &quot;cachegrind.out.%R.%u.%p&quot; ËµÑÊ∫êLaravel Live Templates for PhpStormLaravel Êèí‰ª∂ËßÜÈ¢ë Ê†áÁ≠æ ÁªßÊâø@extends Â≠òÂú®ÊõøÊç¢@yield(&#39;content&#39;)@section@endsection Â¢ûÂä†@stack(&quot;appendCSS&quot;)@push(&#39;appendCSS&#39;)@endpush Ê≥®ÂÖ•@inject(&quot;xx&quot;, &quot;xx[Name]&quot;)]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx ÈÉ®ÁΩ≤]]></title>
    <url>%2F2017%2F02%2F24%2FNginx-%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[üéΩ Nginx ÊòØ‰∏Ä‰∏™ÂæàÂº∫Â§ßÁöÑÈ´òÊÄßËÉΩWebÂíåÂèçÂêë‰ª£ÁêÜÊúçÂä°Âô® ÂâçË®ÄÁéØÂ¢ÉOS: Ubuntu-16 ÂÆâË£Ö‰æùËµñ PCRE zlib nginx ÁõÆÂΩïÁªìÊûÑ/opt|‚Äì nginx-1.10.1|‚Äì pcre-8.38`‚Äì zlib-1.2.8 shell ‰ª•‰∏ãÊìç‰ΩúÂùáÂú®/optÁõÆÂΩï 123# tar -zxvf nginx-1.10.1.tar.gz# cd nginx-1.10.1# ./configure ERROR:12345checking for OS + Linux 2.6.32-042stab113.21 x86_64checking for C compiler ... not found./configure: error: C compiler cc is not found Áº∫Â§±ÁºñËØëÈÉ®‰ª∂, Ëß£ÂÜ≥ÂäûÊ≥ïÂ¶Ç‰∏ã:12# apt-get install build-essential libtool# ./configure Error:1234./configure: error: the HTTP rewrite module requires the PCRE library.You can either disable the module by using --without-http_rewrite_moduleoption, or install the PCRE library into the system, or build the PCRE librarystatically from the source with nginx by using --with-pcre=&lt;path&gt; option. Áº∫Â§±PCRE, ÁßªÊ≠•ÂÆòÁΩë‰∏ãËΩΩ(È°∂ÈÉ®ÊúâÈìæÊé•), ÊàëÊòØÂú®/optÁõÆÂΩï‰∏≠Ëß£ÂéãÊ≥®: pcre Ê≤°Êúâ 2 ‰ª•‰∏ãÊìç‰ΩúÂùáÂú®/optÁõÆÂΩï 123# tar -jxvf pcre-8.38.tar.bz2# cd pcre-8.38# ./configure &amp;&amp; make &amp;&amp; make install ÂõûÂà∞/opt/nginx-1.10.1ÁõÆÂΩïÁªßÁª≠ËøõË°å1# ./configure --with-pcre=/opt/pcre-8.38 Error:1234./configure: error: the HTTP gzip module requires the zlib library.You can either disable the module by using --without-http_gzip_moduleoption, or install the zlib library into the system, or build the zlib librarystatically from the source with nginx by using --with-zlib=&lt;path&gt; option. ÂéüÂõ†ÊòØÁº∫Â§±zlib,ÁßªÊ≠•ÂÆòÁΩë‰∏ãËΩΩ(È°∂ÈÉ®ÊúâÈìæÊé•), ÂêåÊ†∑ÊòØÂú®/optÁõÆÂΩï‰∏≠Ëß£Âéã ‰ª•‰∏ãÊìç‰ΩúÂùáÂú®/optÁõÆÂΩï 123# tar -zxvf zlib-1.2.8.tar.gz# cd zlib-1.2.8# ./configure &amp;&amp; make &amp;&amp; make install ÂõûÂà∞/opt/nginx-1.10.1ÁõÆÂΩïÁªßÁª≠ËøõË°å 123# ./configure --with-pcre=/opt/pcre-8.38 --with-zlib=/opt/zlib-1.2.8# make# make install Ëá≥Ê≠§ÔºåÂÆâË£ÖÁªìÊùü„ÄÇÂèØÊü•Áúãls /usr/local/nginx/ÁõÆÂΩïÊòæÁ§∫Â¶Ç‰∏ãÊñá‰ª∂:/usr/local/nginx/ Âü∫Á°ÄÂëΩ‰ª§ ‰ª•‰∏ãÂëΩ‰ª§ÂùáÂú®/usr/local/nginxÁõÆÂΩï‰∏ãËøêË°å 12345678# ÂêØÂä®./sbin/nginx# Ê£ÄÊü•ÈÖçÁΩÆ./sbin/nginx -t# ÈáçÊñ∞Âä†ËΩΩÈÖçÁΩÆ./sbin/nginx -s reload# Êü•ÁúãÈÖçÁΩÆÊñá‰ª∂cat ./conf/nginx.conf Êâ©Â±ïnginx.confÈÖçÁΩÆÂ≠óÊÆµËØ¶Ëß£ Ê®°ÂùóÂæÖÁª≠ing]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éChrome Êèí‰ª∂ÂºÄÂèëÁöÑ‰∏Ä‰∫õÁü•ËØÜÁÇπ]]></title>
    <url>%2F2017%2F02%2F04%2F%E5%85%B3%E4%BA%8EChrome%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9%2F</url>
    <content type="text"><![CDATA[Ë∫´‰∏∫ChromeÈáçÂ∫¶ÊÇ£ËÄÖÔºåÁîüÊ¥ªÂíåÂ∑•‰ΩúÂ§ÑÂ§Ñ‰∏çÁ¶ªÔºåËøôÁØáÂπ∂‰∏çÊòØÂÖ•Èó®ÊïôÁ®ãÔºåËÄåÊòØÂºÄÂèë‰∏≠ÁöÑ‰∏Ä‰∫õÂ∞èTipÁöÑËÆ∞ÂΩï. ÊàëÂºÄÂèëÁöÑChrome Êèí‰ª∂ Â§©Ê∞îÈ¢ÑÊä• Êï∞ÊçÆÂ≠òÂÇ® HTML5 localStorage Â≠òÂÇ®Âú®Ëß£ÊûêÈ°µÈù¢ÂΩìÂâçËåÉÂõ¥ÂíåÁΩëÁ´ôÂÖ±‰∫´localStorage Chrome API chrome.storage Â≠òÂÇ®Âú®Á≥ªÁªüÁ£ÅÁõòÔºåÈÄÇÂêàÂ∞ëÈáèÊï∞ÊçÆ Web SQL Database Â≠òÂÇ®Âú®Á≥ªÁªüÁ£ÅÁõòÔºåÈÄÇÂêàÂ§ßÈáèÊï∞ÊçÆ ËÑöÊú¨ËøêË°åËåÉÂõ¥ background ÊµèËßàÂô®ÊâìÂºÄÂêéËøêË°å, ‰ºö‰∏ÄÁõ¥Â≠òÂú®‰∫éÂêéÂè∞, Âõ†Ê≠§ÂºÄÂèëÊó∂Êõ¥ÊîπÂêéÂøÖÈ°ª‚åò+RÈáçÊñ∞Âä†ËΩΩ content_scripts Âú®ÁΩëÈ°µÂä†ËΩΩÂêéËøêË°å htmlÂÜÖÂØºÂÖ•ÁöÑËÑöÊú¨ ËøêË°å‰∫éËØ•htmlÈ°µÈù¢, ‰æãÂ¶Ç: optionÈ°µÈù¢ÂíåpopupÈ°µÈù¢ Note: popup.js ‰∫ébackground.js ÊòØÂèØ‰ª•ËøõË°åÂÖ±ÈÄöÁöÑ.‰ΩøÁî®var BG = chrome.extension.getBackgroundPage(); BG‰æøÊòØbackground.jsÁöÑwindowÂØπË±° Action ÂÖ•Âè£ Âú∞ÂùÄÊ†èÂè≥‰æßÂõæÊ†áÂ§ñ browser_action ÂèØÊòæÁ§∫badge Âè≥ÈîÆËèúÂçï chrome.contextMenus ÂèØÂú®background‰∏≠ÂàõÂª∫ Âú∞ÂùÄÊ†èÂè≥‰æßÂõæÊ†áÂÜÖÂ§ñ page_action Êñ∞ÁâàÁöÑÂ∑≤Êõ¥ÊîπÊòæÁ§∫Âú®Â§ñÂõ¥ PageAction API Â§öÂäüËÉΩÊ°Ü omnibox ÂØπÂú∞ÂùÄÊ°ÜËøõË°åÁõëÂê¨ overrides Â¶Ç, ÁÆ°ÁêÜ‰π¶Á≠æ/ÂéÜÂè≤ËÆ∞ÂΩï/Êñ∞Ê†áÁ≠æÈ°µÁ≠â (‰∏Ä‰∏™Êâ©Â±ïÂè™ËÉΩÊõøÊç¢‰∏Ä‰∏™È°µÈù¢) Ê°åÈù¢ÊèêÈÜí webkitNotifications.createNotification ÊùÉÈôê Áõ∏ÂΩì‰∏ÄÈÉ®ÂàÜChrome API ‰ΩøÁî®ÈúÄË¶ÅÂú®ManifestÁî≥ÊòéÊùÉÈôê È°µÈù¢Èó¥ÈÄö‰ø° popup ‰∏é background ÈÄö‰ø° ‰ΩøÁî®‰∏äÈù¢ÊèêÂà∞ÁöÑÂÖ±ÈÄöÁöÑÁâπÊÄß„ÄÇ ‰ΩøÁî® chrome.extension.onMessage.addListenerËøõË°åÈÄö‰ø°ÁõëÂê¨ ‰∏é ‰ΩøÁî®chrome.extension.sendMessageËøõË°åËß¶Âèë option ‰∏é (popup ÊàñËÄÖ background) ÈÄö‰ø° ‰ΩøÁî® chrome.extension.onMessage.addListenerËøõË°åÈÄö‰ø°ÁõëÂê¨ ‰∏é ‰ΩøÁî®chrome.extension.sendMessageËøõË°åËß¶Âèë (popup ÊàñËÄÖ background) ‰∏é option ÈÄö‰ø° ‰ΩøÁî® chrome.extension.onMessage.addListenerËøõË°åÈÄö‰ø°ÁõëÂê¨, Ëß¶ÂèëÊñπÂºèÊØîËæÉÈ∫ªÁÉ¶, Êü•Áúã‰ª•‰∏ã‰æãÂ≠ê:12345678chrome.tabs.query(&#123;active: true, currentWindow: true&#125;, function (tabs) &#123; if (!!tabs &amp;&amp; tabs.length &gt; 0) &#123; chrome.tabs.sendMessage(tabs[0].id, &#123; //message.. &#125;, callback); &#125; &#125;); i18 CSS __MSG_@@key JS chrome.i18n.getMessage(‚Äòkey‚Äô); ÂÖ≥‰∫éÊâìÂåÖ &amp; ÂèëÂ∏É Êâ©Â±ïÁ®ãÂ∫è‰∏≠ËøõË°åÊâìÂåÖÔºåÁîüÊàê.crx(Êâ©Â±ïÁ®ãÂ∫è) &amp; .pem(ÁßòÈí•ÈáçË¶Å) ÂâçÂæÄChrome ÂºÄÂèëËÄÖ‰∏≠ÂøÉ ËÆ§ËØÅÈúÄÊîØ‰ªò5ÁæéÂÖÉÁî®‰∫éËÆ§ËØÅ Êää.pemÊõ¥Âêç‰∏∫key.pemÂπ∂ÊîæÂÖ•Ê∫êÁ†ÅÊñá‰ª∂Â§π‰∏≠ÔºåÊâìÂåÖ‰∏∫.zipÊñá‰ª∂ ‰∏ä‰º† Âπ∂ÁºñËæë (ÂøÖÂ°´ (Êâ©Â±ïÊèèËø∞„ÄÅICON(128x128)„ÄÅÊâ©Â±ïÊà™Âõæ(1280x800 or 640x400)„ÄÅÁ±ªÂà´„ÄÅËØ≠Ë®Ä)) Â¶ÇÊúâÈÅóÊºèÊàñÈîôËØØÊ¨¢ËøéË°•ÂÖÖ..]]></content>
      <categories>
        <category>IDE</category>
      </categories>
      <tags>
        <tag>HTML5</tag>
        <tag>Chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫élog4jÊä•Èîô]]></title>
    <url>%2F2017%2F01%2F16%2F%E5%85%B3%E4%BA%8Elog4j%E6%8A%A5%E9%94%99%2F</url>
    <content type="text"><![CDATA[JavaÂºÄÂèë‰∏≠ÁªèÂ∏∏ÈÅáÂà∞Êó•ÂøóÂÜ≤Á™ÅÊàñËÄÖÂºÇÂ∏∏, ÂΩªÂ∫ïÁöÑÊù•Ê≠§ËøΩÊ†πÁ©∂Â∫ï. Êó•ÂøóÂéÜÂè≤ log4j JCL + log4j SLF4J slf4j-XXX-version.jar [XXXÊåá‰ª£log4j12, jdk14, jcl, nop Á≠â] slf4j-api v1 log4j Êó©ÊúüÁõ¥Êé•ÂÆûÁé∞Êó•ÂøóÊâìÂç∞v2 JCL + log4j Âä®ÊÄÅÁªëÂÆö, Èù¢ÂêëJCL Êé•Âè£ÂÆûÁé∞ÁöÑlog4jv3 slf4j-api Êèê‰æõ SLF4JÊé•Âè£ Èù¢ÂêëÂØπË±°ÁºñÁ®ãslf4j-XXX-version.jar ÂØπÊé•Âè£ÂíåÊåáÂÆöXXXÁßçÁ±ªÊó•ÂøóÁöÑÂÖ∑‰ΩìÂÆûÁé∞ slf4j ‰∏æ‰æãjar log4j-over-slf4j.jar Êäälog4jËΩ¨‰∏∫slf4j slf4j-log4j12.jar ‰ª•slf4jÊ†áÂáÜÂÆûÁé∞ÁöÑlog4j12 XXX-over-slf4j.jar ÊääÊó•ÂøóÈáçÂÆöÂêëÂà∞slf4j eg.jcl-over-slf4j.jar ÊÄªÁªìÂç≥.Component | | log to Apache Commons Logging V jcl-over-slf4j.jar ‚Äî (redirect) ‚Äî&gt; SLF4j ‚Äî&gt; slf4j-log4j12-version.jar ‚Äî&gt; log4j.jar ‚Äî&gt; ËæìÂá∫Êó•ÂøóËß£Èáä:JCLÂÆûÁé∞ÁöÑÈáçÂÆöÂêë‰∏∫SLF4JÊó•ÂøóÂΩ¢Âºè, ÁÑ∂ÂêéSLF4JËΩ¨‰∏∫Log4j12ËæìÂá∫!]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis Áõ∏ÂÖ≥]]></title>
    <url>%2F2016%2F10%2F20%2FRedis-%E7%9B%B8%E5%85%B3%2F</url>
    <content type="text"><![CDATA[Redis ÁöÑÈÉ®ÁΩ≤ÂíåÈÉ®‰ΩçËÆæËÆ°ÁöÑÂÆûË∑µ, ËøòÊúâÂ∏∏ËßÅÈóÆÈ¢òÁöÑÊ¢≥ÁêÜ! üí™ ÂâçË®ÄÂÆòÁΩë ËØ¶ÊÉÖÈªòËÆ§È°π Á´ØÂè£ 6379 ÁõÆÂΩïÁªìÊûÑredis-3.2.4/|‚Äì redis.conf redisÈÖçÁΩÆÊñá‰ª∂-- srcÁºñËØëÂêéÁõÆÂΩï|-- redis-serverÂêØÂä®bitÊñá‰ª∂`-- redis-cliÁªàÁ´ØbitÊñá‰ª∂` ÂÆâË£Ö ‰ª•‰∏ãÊìç‰ΩúÂùáÂú®/opt1234567# ‰∏ãËΩΩwget http://download.redis.io/releases/redis-3.2.4.tar.gz# Ëß£Âéãtar -zxvf redis-3.2.4.tar.gzcd redis-3.2.4# ÁºñËØëÔºå ÁîüÊàê`src`ÁõÆÂΩïmake Êåá‰ª§ ‰ª•‰∏ãÊìç‰ΩúÂùáÂú®/opt1234# ÈªòËÆ§ÈÖçÁΩÆËøêË°å./redis-3.2.4/src/redis-server# ÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ËøêË°å./redis-3.2.4/src/redis-server [config file] ÁñëÈóÆÔºü Â¶Ç‰Ωï‰ΩøredisÂêéÂè∞ËøêË°å? Êõ¥ÊîπÈÖçÁΩÆÊñá‰ª∂, ÊâæÂà∞daemonizeÂ≠óÊÆµ,Êõ¥Êîπno‰∏∫yes, ÈáçÂêØredis ÂàáËÆ∞ÔºÅË¶ÅÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ Â¶Ç‰ΩïÊõ¥ÊîπredisÈªòËÆ§6379Á´ØÂè£? Êõ¥ÊîπÈÖçÁΩÆÊñá‰ª∂, ÊâæÂà∞portÂ≠óÊÆµ,Êõ¥Êîπ‰∏∫ÊåáÂÆöÁ´ØÂè£, ÈáçÂêØredis ÂàáËÆ∞ÔºÅË¶ÅÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂ Â¶Ç‰ΩïËÆæÁΩÆredisÁöÑÈ™åËØÅÂØÜÁ†Å? Êõ¥ÊîπÈÖçÁΩÆÊñá‰ª∂, ÊâæÂà∞requirepassÂ≠óÊÆµ, ËÆæÁΩÆÁõ∏Â∫îÁöÑÈ™åËØÅÂØÜÁ†Å, ÈáçÂêØredis ÂàáËÆ∞ÔºÅË¶ÅÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂Áî±‰∫éÂ¢ûÂä†‰∫ÜÈ™åËØÅÂØÜÁ†ÅÔºåÂõ†Ê≠§ÂÆ¢Êà∑Á´ØËøûÊé•ÂëΩ‰ª§‰∏∫redis-cli ‚Äìa [upassword]]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu ‰∏ãÁöÑ Oh My ZSH!]]></title>
    <url>%2F2016%2F09%2F30%2FUbuntu%E4%B8%8B%E7%9A%84OhMyZSH!%2F</url>
    <content type="text"><![CDATA[Âè∑Áß∞ÁªàÊûÅshell :) ÂâçË®Ä‰ªÄ‰πàÊòØzshÔºüshellÁöÑ‰∏ÄÁßç,cat /etc/shellsÊü•ÁúãÂΩìÂâçÁ≥ªÁªüÊîØÊåÅÁöÑshell Áõ∏ÂÖ≥Link‰∏∫‰ªÄ‰πàËØ¥ zsh ÊòØ shell ‰∏≠ÁöÑÊûÅÂìÅÔºü ÁéØÂ¢ÉOS: Ubuntu 16.04 x86_64 ÁõÆÂΩïÁªìÊûÑ ~/.zshrc Êñá‰ª∂zshÈÖçÁΩÆÊñá‰ª∂ ÂèØÁî®Êù•Êõ¥ÊîπTheme Âä†ËΩΩPlugin ~/.oh-my-zsh oh-my-zshÁõÆÂΩï ÂÆâË£Ö12345678910# ÂÆâË£Özsh$ sudo apt-get install zsh# ÂÆâË£Öoh-my-zsh$ sudo apt-get install wget git$ wget --no-check-certificate https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh# ÊõøÊç¢zsh‰∏∫Á≥ªÁªüshell$ chsh -s /bin/zsh# ÈÄÄÂá∫&amp;ÈáçÊñ∞ÁôªÂÖ•$ exit# Êü•ÁúãÊòØÂê¶ÊàêÂäü ÈÖçÁΩÆÊñá‰ª∂zsh.config Ê≥®ÊÑè ÈúÄÊõ¥Êîπ.oh-my-zshÁöÑÁõÆÂΩï Êèí‰ª∂‰ªãÁªç git;Â§Ñ‰∫égitÈ°πÁõÆ‰∏ãÂá∫Áé∞ÊèêÁ§∫ autojump; ÁõÆÂΩïËá™Âä®ÊèêÁ§∫, ÈúÄË¶ÅLinux È¢ùÂ§ñÂÆâË£Ö 12# ~/.bashrc ËøΩÂä†[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; . ~/.autojump/etc/profile.d/autojump.sh git;Â§Ñ‰∫égitÈ°πÁõÆ‰∏ãÂá∫Áé∞ÊèêÁ§∫ zsh-syntax-highlighting;È´ò‰∫ÆÂèØÁî®ÂëΩ‰ª§ 12$ git clone git://github.com/jimmijj/zsh-syntax-highlighting ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlightingplugins=(zsh-syntax-highlighting) colored-man-pages; Â∏ÆÂä©ÊñáÊ°£È´ò‰∫Æ colorize;Êõ¥Â§ö‰ª£Á†ÅÈ´ò‰∫Æ copydir; Êï¥‰∏™ÁõÆÂΩïÊã∑Ë¥ù command-not-found;ÂëΩ‰ª§Ë°åÊô∫ËÉΩÊèêÁ§∫ history;Êü•ÁúãËæìÂÖ•ÂéÜÂè≤ z; autojumpÂêåÁ±ª ‰∏ªÈ¢ò ys Â∞èÊäÄÂ∑ß ËΩ¨Êç¢Ë∑ØÂæÑÊó∂ÂèØ‰ª•ÁúÅÂéªcdÂëΩ‰ª§ÔºåÁõ¥Êé•ËæìÂÖ•Ë∑ØÂæÑÂç≥ÂèØ d ÂèØ‰ª•Êü•ÁúãËÆøÈóÆËøáÁöÑË∑ØÂæÑÔºåÁÑ∂ÂêéËæìÂÖ•Êï∞Â≠óÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂàáÊç¢ ËæìÂÖ•‰∏çÂÆåÊï¥ÁöÑË∑ØÂæÑ/Êñá‰ª∂/ÂëΩ‰ª§ÔºåÊåâ‰∏ãtabÈîÆÂèØ‰ª•Âá∫Áé∞ÊèêÁ§∫ÔºåÂÜçÊåâtabÂàôÂèØ‰ª•ÂÆûÁé∞Ë∑ØÂæÑË°•ÂÖ® ÊôÆÈÄöÂëΩ‰ª§‰ΩøÁî®‰∏§Ê¨°tabÂèØËøõÂÖ•ÈÄâÊã©Ê®°ÂºèÔºå ctrl+f/b/n/p ÂèØ‰ª•ÂêëÂâçÂêéÂ∑¶Âè≥ÂàáÊç¢ kill + tab Âº∫Âº∫Âº∫ alias -s xx=‚Äôxxx‚Äô Âø´Êç∑ÈÖçÁΩÆ Áõ∏ÂÖ≥ËÆæÁΩÆ cat ‰ª£Á†ÅÈ´ò‰∫Æ123pip install Pygments# Â¢ûÂä†‰ª•‰∏ãalias# alias ccat='pygmentize -g' ÂêéÁª≠Oh My ZSH!]]></content>
      <categories>
        <category>IDE</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>Tips</tag>
        <tag>Oh My ZSH</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Glup Ëá™Âä®ÂåñÊûÑÂª∫Â∑•ÂÖ∑]]></title>
    <url>%2F2016%2F09%2F20%2FGlup-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[Gulp.js ÊòØ‰∏Ä‰∏™Ëá™Âä®ÂåñÊûÑÂª∫Â∑•ÂÖ∑ üòú Êù•Ê∫êGlup Êï¥Âêà Glup GlupÁî®Ëá™Âä®ÂåñÊûÑÂª∫Â∑•ÂÖ∑Â¢ûÂº∫‰Ω†ÁöÑÂ∑•‰ΩúÊµÅÁ®ãÔºÅ ÂÆâË£Ö12$ npm install gulp -g$ npm install gulp --save-dev Êèí‰ª∂ ÁºñËØëSass (gulp-ruby-sass) Autoprefixer (gulp-autoprefixer) Áº©Â∞èÂåñ(minify)CSS (gulp-minify-css) JSHint (gulp-jshint) ÊãºÊé• (gulp-concat) ‰∏ëÂåñ(Uglify) (gulp-uglify) ÂõæÁâáÂéãÁº© (gulp-imagemin) Âç≥Êó∂ÈáçÊï¥(LiveReload) (gulp-livereload) Ê∏ÖÁêÜÊ°£Ê°à (gulp-clean) ÂõæÁâáÂø´ÂèñÔºåÂè™ÊúâÊõ¥ÊîπËøáÂæóÂõæÁâá‰ºöËøõË°åÂéãÁº© (gulp-cache) Êõ¥Âä®ÈÄöÁü• (gulp-notify)1$ npm install gulp-ruby-sass gulp-autoprefixer gulp-minify-css gulp-jshint gulp-concat gulp-uglify gulp-imagemin gulp-clean gulp-notify gulp-rename gulp-livereload gulp-cache --save-dev]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Ubuntu</tag>
        <tag>Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ngrok‰ΩøÁî®ÊåáÂçó]]></title>
    <url>%2F2016%2F08%2F31%2FNgrok%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[Ngrok ÊòØ‰∏ÄÊ¨æÂÜÖÈÉ®Á´ØÂè£ËΩ¨ÂèëÔºåÂØπ‰∫éÂæÆ‰ø°Á±ª‰ººÁöÑÂºÄÂèëÂæàÊúâÁî®ÁöÑüòÜÂèØÂèÇÁÖßÂ¢ôÂÜÖ(Ëä±ÁîüÂ£≥ or nat123) Ê¶ÇËø∞ÁºñËØëÁéØÂ¢É:Go 1.4.1 Âº∫ÁÉàÂª∫ËÆÆÊ†πÂüüÂêç: web.hocg.in,Âç≥ÁîüÊàêÁöÑÂüüÂêç‰∏∫*.web.hocg.inÊñá‰ª∂ÁªìÊûÑ:ngrok ‚îú‚îÄ‚îÄ bin ‚îÇ ‚îî‚îÄ‚îÄ ngrok.cfg ‚îú‚îÄ‚îÄ client.sh ‚îú‚îÄ‚îÄ code.sh ‚îî‚îÄ‚îÄ server.shÈÉ®ÁΩ≤ÁéØÂ¢É:ÊúçÂä°Âô®OS: Ubuntu-15ÂÆ¢Êà∑Á´ØOS: Ubuntu-16 ÂÆâË£ÖÁéØÂ¢É‰æùËµñÂèäÊ∫êÁ†Å‰∏ãËΩΩ ‰ª•‰∏ãÂëΩ‰ª§Ê†πÁõÆÂΩïÁªü‰∏ÄÂú®/opt 12345# ÁéØÂ¢É‰æùËµñsudo apt-get install build-essential golang mercurial git# Ëé∑Âèñ ngrok Ê∫êÁ†Ågit clone https://github.com/tutumcloud/ngrok.git ngrokcd ngrok ÁîüÊàêËØÅ‰π¶ &amp;&amp; ÁºñËØë ‰ª•‰∏ãÂëΩ‰ª§Ê†πÁõÆÂΩïÁªü‰∏ÄÂú®/opt/ngrok code.shÊñá‰ª∂ ÁîüÊàêËØÅ‰π¶ &amp;&amp; ÁºñËØëÊúçÂä°Á´ØDOMAIN ‰∏∫ÈÖçÁΩÆÁöÑÊ†πÂüüÂêç, Áî®‰∫éÁ≠æÂêç. 1234567891011121314151617181920212223#!/bin/bashecho "ÂºÄÂßãÊ∏ÖÈô§.."rm -rf assets/client/tls/ngrokroot.crtrm -rf assets/server/tls/snakeoil.crtrm -rf assets/server/tls/snakeoil.keyrm -rf device.*rm -rf rootCA.*DOMAIN=web.hocg.inecho "ËÆæÁΩÆÂüüÂêç‰∏∫[*.$DOMAIN]"echo "ÂºÄÂßãÁîüÊàêÁßòÈí•.."openssl genrsa -out rootCA.key 2048openssl req -x509 -new -nodes -key rootCA.key -subj "/CN=$DOMAIN" -days 5000 -out rootCA.pemopenssl genrsa -out device.key 2048openssl req -new -key device.key -subj "/CN=$DOMAIN" -out device.csropenssl x509 -req -in device.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out device.crt -days 5000echo "ÂºÄÂßãËøÅÁßªÁßòÈí•.."cp -rf rootCA.pem assets/client/tls/ngrokroot.crtcp -rf device.crt assets/server/tls/snakeoil.crtcp -rf device.key assets/server/tls/snakeoil.keyecho "ÂºÄÂßãÁºñËØë.."make release-server ÂÆ¢Êà∑Á´Ø ÂâçÁΩÆÊù°‰ª∂: GoÈúÄÂÖàÂ¢ûÂä†ÂØπËøô‰∫õÂπ≥Âè∞‰∫§ÂèâÁºñËØëÁöÑÊîØÊåÅ WindowsgoÁöÑsrcÁõÆÂΩï 1GOOS=windows GOARCH=amd64 ./make.bash nginxÁõÆÂΩï,ÁºñËØë1GOOS=windows GOARCH=amd64 make release-client macOSgoÁöÑsrcÁõÆÂΩï 1GOOS=darwin GOARCH=amd64 ./make.bash nginxÁõÆÂΩï,ÁºñËØë1GOOS=darwin GOARCH=amd64 make release-client LinuxnginxÁõÆÂΩï,ÁºñËØë1make release-client ÈÖçÁΩÆÊñá‰ª∂ngrok.cfgÊñá‰ª∂ server_addr ‰∏∫ÈÖçÁΩÆÁöÑÊ†πÂüüÂêçÔºå 4443‰∏∫ÈªòËÆ§Á´ØÂè£ 12server_addr: web.hocg.in:4443trust_host_root_certs: false ËøêË°åÊñá‰ª∂server.shÊñá‰ª∂ ÊúçÂä°Âô®ËøêË°åDOMAIN ‰∏∫ÈÖçÁΩÆÁöÑÊ†πÂüüÂêç.Ê≥®ÈáäÁöÑÈÇ£‰∏ÄÂè•Áî®‰∫éÂêéÂè∞ËøêË°å 1234567#!/bin/bash# $1 HTTP# $2 HTTPSkillall ngrokdDOMAIN=web.hocg.in# nohup ./bin/ngrokd -domain="$DOMAIN" -httpAddr=":$1" -httpsAddr=":$2" &gt;/tmp/ngrok.log 2&gt;&amp;1 &amp;./bin/ngrokd -domain="$DOMAIN" -httpAddr=":$1" -httpsAddr=":$2" client.shÊñá‰ª∂ ÂÆ¢Êà∑Á´ØËøêË°å, default:linuxÂÖ∑‰ΩìÁéØÂ¢É‰øÆÊîπÂÖ∑‰ΩìÂÜÖÂÆπ 1234#!/bin/bash# $1 Port# $2 domain./bin/ngrok -subdomain $2 -proto=http -config=./bin/ngrok.cfg $1 ‰ΩøÁî® Ëã•ÈúÄÂèòÊõ¥ÂüüÂêç, ÈúÄ‰øÆÊîπcode.shÁöÑDOMAIN„ÄÅserver.shÁöÑDOMAIN‰∏é./bin/ngrok.cfgÁöÑserver_addr ÁºñËØë1sh code.sh ÊàêÂäü Ê£ÄÊü•ngrok/binÊñá‰ª∂Â§πÊòØÂê¶Â≠òÂú®ngrok and ngrokd ÊúçÂä°Á´Ø1sh server.sh 8888 9999 ÂÆ¢Êà∑Á´Ø1sh client.sh 8080 dm Ê£ÄÈ™åËÆøÈóÆ:http://dm.web.hocg.in:8888 ÈáçË¶ÅÂÖ≥‰∫éÂüüÂêçËß£Êûêeg. *.web.hocg.inË∑ØÂæÑËß£ÊûêÈúÄÈÖçÁΩÆ*.web and web ‰∏§‰∏™AËÆ∞ÂΩï ÂÖ≥‰∫éÁ≠æÂêçÊúÄÂ•ΩÂú®Âêå‰∏ÄÁéØÂ¢ÉËøõË°åÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÁöÑÁºñËØë Â∞èÊäÄÂ∑ß Â¶Ç‰ΩïËÆ©ÊúçÂä°Á´ØÁöÑngrokÂêéÂè∞ËøêË°å Ê≠£Â∏∏ÁöÑnohupÊàñ&amp;ÊòØÊó†Ê≥ï‰ΩøngrokÂêéÂè∞ËøêË°åÁöÑÈúÄ‰ΩøÁî®screen 123456789# ÂÆâË£Ö\# apt-get install screen# ‰ΩøÁî®screen -S [ÂëΩÂêç] [ÈúÄÊîæÂÖ•ÂêéÂè∞ÁöÑÂëΩ‰ª§]# ‰ΩøÁî® ctrl+A+D ËÆ©ÂÖ∂ËøêË°åÂú®ÂêéÂè∞# Êü•Áúãscreen ÂêéÂè∞ËøõÁ®ãscreen -ls# ÈáçÊñ∞ËøûÊé•ÂêéÂè∞ËøõÁ®ãscreen -r [ËøõÁ®ãid] ÂèØËÉΩÈÅáÂà∞ÁöÑÂºÇÂ∏∏ Go-1.2.1ËØ≠Ë®ÄÁâàÊú¨‰∏çÊîØÊåÅgo version12345# github.com/gorilla/websocketsrc/github.com/gorilla/websocket/client.go:361: unknown tls.Config field 'GetCertificate' in struct literalsrc/github.com/gorilla/websocket/client.go:370: unknown tls.Config field 'ClientSessionCache' in struct literalsrc/github.com/gorilla/websocket/client.go:373: unknown tls.Config field 'CurvePreferences' in struct literalmake: *** [client] Error 2 ÂÆòÊñπGo-64ÁöÑÂÆâË£Ö GoÁºñËØëÂô®Êâæ‰∏çÂà∞go-bindata123GOOS="" GOARCH="" go get github.com/jteeuwen/go-bindata/go-bindata/bin/sh: 1: go: not foundmake: *** [bin/go-bindata] Error 127 ËØ∑Ê≥®ÊÑèÈÖçÁΩÆÂ•ΩGOROOTÂíåGOPATH GOROOT‰∏∫ÂÆâË£ÖGOÁöÑÁõÆÂΩïGOPATHËá™ÂÆö‰πâ‰∏Ä‰∏™GOÊèí‰ª∂‰∏ãËΩΩÁõÆÂΩï ÊâßË°å‰ª•‰∏ãshell‰∏ãËΩΩÊèí‰ª∂ 1go get -u github.com/jteeuwen/go-bindata/... END:)]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Ngrok</tag>
        <tag>Tip</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nexus ÂÖ•Èó®]]></title>
    <url>%2F2016%2F08%2F24%2FNexus%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[ÈÄÇÂêànexusÂÖ•Èó®Ôºå‰∏çÊòØÊâãÊú∫Ôºå‰∏çÊòØÊâãÊú∫Ôºå‰∏çÊòØÊâãÊú∫ ÔºéÔºéÔΩèÔºà‚ïØ‚ñ°‚ï∞ÔºâÔΩè ÁéØÂ¢É Ubuntu-14.04.1 jdk1.8.0_102 nexus-2.12.0-01|ÂÆòÁΩë ÂüüÂêç:nexus.hocg.in ÂâçÁΩÆÊù°‰ª∂ ÂÆâË£ÖÂÆåjdkÂπ∂ÈÖçÁΩÆÂ•ΩÁéØÂ¢ÉÂèòÈáè eg: javaÊü•ÁúãÊòØÂê¶ÊàêÂäü ÂÆâË£ÖÊ∏©È¶®ÊèêÁ§∫: ‰ª•‰∏ãÊìç‰ΩúÈÉΩÊòØÂú®/optÁõÆÂΩï‰∏ã ‰∏ãËΩΩ&amp;Ëß£Âéã123456# ‰∏ãËΩΩwget https://sonatype-download.global.ssl.fastly.net/nexus/oss/nexus-2.12.0-01-bundle.tar.gz# Ëß£Âéãtar -zxvf nexus-2.12.0-01-bundle.tar.gz# Ê∏ÖÁêÜrm -rf *.gz Êñá‰ª∂/ÁõÆÂΩïËØ¶Ëß£ nexus-2.12.0-01 Á®ãÂ∫èÁõÆÂΩï sonatype-work ‰ªìÂ∫ìÁõÆÂΩï(ÂÜÖÂåÖÂê´‰ªìÂ∫ìÈÖçÁΩÆÂèäjarÂåÖ‰ªìÂ∫ì) Âü∫Êú¨Êìç‰Ωú1./nexus-2.12.0-01/bin/nexus &#123; console | start | stop | restart | status | dump &#125; ËÆøÈóÆ http://nexus.hocg.in:8081/nexus ÈªòËÆ§Ë¥¶Âè∑:admin ÈªòËÆ§ÂØÜÁ†Å: admin123 Â¶Ç‰Ωï‰ΩøÁî®Maven ‰∏≠ÈÖçÁΩÆ‰ªìÂ∫ì1234567&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;Nexus&lt;/id&gt; &lt;name&gt;Nexus&lt;/name&gt; &lt;url&gt;http://nexus.hocg.in:8081/nexus/content/groups/public/&lt;/url&gt; &lt;/repository&gt; &lt;/repositories&gt; ÈóÆÈ¢òÂ¶Ç‰Ωï‰øÆÊîπÈªòËÆ§8081Á´ØÂè£12vim /opt/nexus-2.12.0-01/conf/nexus.properties# ‰øÆÊîπapplication-port=8081È°π Â¶Ç‰ΩïÂàõÂª∫Áî®Êà∑ÁôªÈôÜÁ≥ªÁªüÂêéÔºåÂ∑¶‰æßSecurity &gt; Users‰∏≠ÂàõÂª∫ Â¶Ç‰Ωï‰ΩøÁî®ÊûÑÂª∫Ë¥¶Âè∑‰øÆÊîπSettings.xmlÊñá‰ª∂ (Maven)1234567&lt;servers&gt; &lt;server&gt; &lt;id&gt;nexus.hocg.in&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt; Â¶Ç‰Ωï‰øÆÊîπÁî®Êà∑ÂØÜÁ†ÅÁôªÈôÜÁ≥ªÁªüÂêéÔºåÈ°∂ÈÉ®ÁÇπÂáªÁî®Êà∑Âêç &gt; Profile‰∏≠‰øÆÊîπ Â¶Ç‰ΩïÂª∫Á´ã‰∏é‰∏≠Â§Æ‰ªìÂ∫ìÁöÑÁ¥¢Âºï Note: Nexus‰ºöËá™Âä®Âª∫Á´ã‰ªªÂä°ËÆ°Âàí,‰∏ÄËà¨ËøúÁ®ã‰ªìÂ∫ìÈÉΩÊØîËæÉÂ§ßÔºåÊûÑÂª∫‰ºöÊØîËæÉÂ§öÔºåÂõ†Ê≠§Á¥¢ÂºïÊñá‰ª∂‰ºöÂæàÂ§ßÔºåËØ∑Á°Æ‰øùÁ£ÅÁõòÂ§ßÂ∞èÂÖÖË∂≥. ÂèØËÉΩÂá∫Áé∞ÁöÑÊä•Èîô 1 WARNING - NOT RECOMMENDED TO RUN AS ROOT , ÂéüÂõ†ÊòØÊèêÈÜí‰Ω†ÊòØÂê¶Á°ÆËÆ§Áî®rootÁî®Êà∑ËøêË°å12345678\# ./nexus-2.12.0-01/bin/nexus restart****************************************WARNING - NOT RECOMMENDED TO RUN AS ROOT****************************************Stopping Nexus OSS...Nexus OSS was not running.Starting Nexus OSS...Started Nexus OSS. Ëß£ÂÜ≥:1234567891011vim ./nexus-2.12.0-01/bin/nexus# Âä†ÂÖ•Á≥ªÁªüÂèòÈáèvi /etc/profile# Âä†ÂÖ•export RUN_AS_USER=root# ‰øÆÊîπRUN_AS_USER=root# ÂêØÂä®./nexus-2.12.0-01/bin/nexus start# Êü•ÁúãÊòØÂê¶ÂêØÂä®ÊàêÂäü./nexus-2.12.0-01/bin/nexus status# Á®çÁ≠âÂá†ÂàÜÈíüÂÜçËÆøÈóÆ]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Nexus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android L Âèä‰ª•‰∏äÁâàÊú¨RomÂåÖ‰∏≠ÊèêÂèñapk]]></title>
    <url>%2F2016%2F08%2F07%2FAndroid-L-%E5%8F%8A%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%ACRom%E5%8C%85%E4%B8%AD%E6%8F%90%E5%8F%96apk%2F</url>
    <content type="text"><![CDATA[ÊèêÂèñÊÉ≥Ë¶ÅÁöÑapkÔºå ‰æãÂ¶ÇCM ROMÂåÖ‰∏≠ÁöÑÂê´Â§©Ê∞îÁöÑÊó∂Èíü‰∏çÈîôÔºÅ ‰ª•ÂæÄÁâàÊú¨ Android RomÂåÖÂè™ÈúÄËß£ÂéãÂêéÔºåÂèñÂá∫systemÂåÖÂç≥ÂèØÂèñÂá∫ÂÜÖÈÉ®apk Now Ëß£ÂéãÂêéÂèØ‰ª•ÂèëÁé∞ÔºåÊñá‰ª∂ÂèëÁîü‰∫ÜÊîπÂèòÂπ∂‰∏îsystem.new.datÊ≠§Êñá‰ª∂ÊòØ‰∏çÊîØÊåÅÁõ¥Êé•Ëß£ÂéãÁöÑ„ÄÇ ÁéØÂ¢ÉÁ≥ªÁªü: win10Â∑•ÂÖ∑: ‰∏ãËΩΩ ÁéØÂ¢ÉËá™Â§á Êìç‰ΩúÊ≠•È™§ ÊôÆÈÄöÊñπÂºèËß£ÂéãROM ËøêË°å‰∏ãËΩΩÂ∑•ÂÖ∑‰∏≠.batÊñá‰ª∂Extractor.bat Ê†πÊçÆÊèêÁ§∫ÈÄâÊã©1ÔºåÂπ∂Â§çÂà∂system.new.dat, system.transfer.listÔºåfile_contexts‰∏â‰∏™Êñá‰ª∂Âà∞batÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩï Êåâ‰ªªÊÑèÈîÆÁªßÁª≠ ÂÆåÊàêÂêéÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™systemÊñá‰ª∂Â§π ÂòøÂòøÂòø.. ÈóÆÈ¢ò! ÊúâÂèØËÉΩÂú®‰Ω†ÂÆâË£ÖapkÁöÑÊó∂ÂÄôÂá∫Áé∞Â∫îÁî®Êú™ÂÆâË£ÖÁöÑÊÉÖÂÜµ ÂèØ‰ª•Â∞ùËØïÈáçÊñ∞ÂØπapkËøõË°åÁ≠æÂêç Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁªèÂÆâË£ÖËøáËØ•apk End]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>ÊâãÊú∫</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê®°ÂùóËÆæËÆ°‰πãÂØπÊé•ÂêåÊ≠•ËÆ¢ÂçïÊ®°Âùó]]></title>
    <url>%2F2016%2F08%2F02%2F%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1%E4%B9%8B%E5%AF%B9%E6%8E%A5%E5%90%8C%E6%AD%A5%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[ÂÆû‰π†ÊúüÈó¥ËÆæËÆ°ÁöÑÂØπÊé•ÂêåÊ≠•ËÆ¢ÂçïÁöÑÊüêÂùó, ÁºÖÊÄÄ..ËÆæËÆ°Êó•Êúü(2016.6) ÂâçË®Ä #ÂØπÊé•ÂêåÊ≠•ËÆ¢ÂçïÊ®°Âùó# ËØ•ÈÉ®ÂàÜÊòØÊàëÂÖ•ËÅåÂêéËá™‰∏ªËÆæËÆ°ÁöÑ‰∏Ä‰∏™Ê®°ÂùóÔºåÂõ†‰∏∫ÂàùÊúüÈ¢ÑËÆ°ÂØπÊé•5ÂÆ∂Âπ≥Âè∞ÁöÑËÆ¢ÂçïÔºåÂπ∂ËÄÉËôëÂà∞ÂêéÊúüÂèØËÉΩÂØπÊé•Êõ¥Â§öÂπ≥Âè∞ÂíåÂπ≥Âè∞ËÆ¢ÂçïÊï∞ÈáèÁ≠âÔºåÊâÄ‰ª•Êâ©Â±ïÊÄßÂíåÊÄßËÉΩÊñπÈù¢ÊòØÂæàÂÄºÂæóÊ∑±ÊÄùÁöÑÈóÆÈ¢ò„ÄÇ ÂºÄÂèëÂë®Êúü (20day) ÂâçÊúüÈúÄÊ±ÇÁöÑÂ§öÊ¨°ÂèòÊõ¥ÔºåÂ§ßÂ§ßÁöÑÊµ™Ë¥π‰∫ÜÂºÄÂèëÂë®Êúü. Â∫ìË°®ËÆæËÆ° Êé•Âè£Êï¥ÁêÜÂíåÊï¥ÂêàËÆæËÆ°(‰∏ªË¶ÅÊòØÂØπÊé•Âπ≥Âè∞ÁöÑÊé•Âè£Êï¥ÂêàÁ≠â) ‰ª£Á†ÅÁºñÂÜô ‰∏öÂä°ÊµÅÁ®ãÂõæË°® ÂïÜÂìÅË°®,Â≠òÂÇ®ÂïÜÂìÅ‰ø°ÊÅØ, ‰∏ªË¶ÅÈÖçÂêàÊñπÊ°àÂåπÈÖç ÊéàÊùÉË°®,Â≠òÂÇ®Áî®Êà∑ÊéàÊùÉ‰ø°ÊÅØÔºå‰∏ªË¶ÅÁî®‰∫étokenÁÆ°ÁêÜ Âπ≥Âè∞ÈÖçÁΩÆË°®,Â≠òÂÇ®Âπ≥Âè∞key‰ø°ÊÅØ ÊñπÊ°àË°®,Â∑≤Â≠òÂú®ÔºåÂ≠òÂÇ®ÊñπÊ°à‰ø°ÊÅØ v1ÁâàÊÄùË∑ØÂõæ ‰∏öÂä°Âõæ ÂéüÂÖàÔºåËØ•ÈÉ®ÂàÜËÆæËÆ°ÊòØ‰∏çËÄÉËôëÂØπËÆ¢ÂçïÊï∞ÊçÆËøõË°åÁºìÂ≠òÂ§ÑÁêÜÁöÑÔºå‰ΩÜÂêéÊúüÈúÄÊ±ÇÂ§öÊ¨°ÂèòÊõ¥Ë¢´Ëø´ËøõË°åÊï∞ÊçÆÁºìÂ≠òÔºåÂõ†Ê≠§ÂÜçÂéüÂÖàÁöÑÂü∫Á°Ä‰∏äÂª∫Á´ã‰∫ÜÁ∫øÁ®ãÊ±†Âπ∂ÂØπÂêåÊ≠•ËÆ¢ÂçïÈÉ®ÂàÜËøõË°åÂºÇÊ≠•Á∫øÁ®ãÂ§ÑÁêÜÔºåÂõ†Ê≠§Â¢ûÂä†‰∫Ü‰∏ÄÂº†ËÆ¢ÂçïÁºìÂ≠òË°®Âíå‰∫ã‰ª∂ÈòüÂàóË°®„ÄÇ v2ÁâàÊÄùË∑ØÂõæ ‰∏öÂä°Âõæ ÂêéÈù¢ÂèàÂØπÁºìÂ≠òË°®ËøõË°å‰∫ÜÊï∞ÊçÆÂéªÈáçÈò≤Ê≠¢Ë°®Êï∞ÊçÆÁàÜÁÇ∏ÊÄßÂ¢ûÈïø„ÄÇ ÊÄªÁªì ÊääÂÖ¨ÂÖ±ÊäΩÁ¶ªÂá∫Êù•Ôºå‰∏≠Èó¥Êñ∞Â¢ûËΩ¨ÂåñÂ±ÇÂèØ‰ª•ÂæàÂ•ΩÁöÑËß£ÂÜ≥‰ª£Á†ÅÂ§çÁî®ÁöÑÈóÆÈ¢ò.]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ËÆæËÆ°ÊÄùË∑Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê®°ÂùóËÆæËÆ°‰πãÊ∂àÊÅØÊ®°Âùó]]></title>
    <url>%2F2016%2F07%2F30%2F%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1%E4%B9%8B%E6%B6%88%E6%81%AF%E6%A8%A1%E5%9D%97%2F</url>
    <content type="text"><![CDATA[Êñ∞Êâã‰∏äË∑ØÔºåÂ∞èÂøÉÊíûËΩ¶.. ÂâçË®Ä #Ê∂àÊÅØÊ®°Âùó# ËøôÊòØÊàëÂàöÂÖ•ËÅåÊó∂ÊâÄÊé•Ëß¶ÁöÑÁ¨¨‰∏Ä‰∏™Ê®°ÂùóÔºå‰πüÁÆóÊòØÊØîËæÉÂ§ßÁöÑÊ®°Âùó‰∫Ü„ÄÇËøô‰∏™Ê®°ÂùóÁöÑ‰∏öÂä°ÊòØË¥üË¥£Êï¥‰∏™È°πÁõÆÊâÄÊúâÁöÑÊ∂àÊÅØÂá∫ÂÖ•Âè£ÔºåÂåÖÂê´Áü≠‰ø°ÂèëÈÄÅÔºåAPPÊé®ÈÄÅÔºåÈÇÆ‰ª∂ÂèëÈÄÅ‰ª•ÂèäÂâçÂêéÁ´Ø‰∫∫ÂëòÁ´ôÂÜÖÊ∂àÊÅØ„ÄÇÂΩìÊó∂ËÆæËÆ°ÁöÑÊó∂ÂÄôÈúÄÊ±ÇÊû∂ÊûÑÊØîËæÉÁÆÄÂçïËÄå‰∏îÊó∂Èó¥Á¥ßËø´(œÄ__œÄ)ÔºåÊ≤°Êúâ‰ªéÊ†πÊú¨ÁêÜÊ∏Ö‰∏öÂä°ÂíåÂäüËÉΩÂêéÊúüÂ≠òÂú®ÁöÑÊâ©Â±ï„ÄÇÂõ†Ê≠§ÔºåËøôÁØáÊñáÁ´†ÊòØËÆ∞ÂΩïÂΩìÊó∂Êû∂ÊûÑÁöÑÊÄùË∑ØÂíåÈúÄË¶ÅÊîπÂñÑÁöÑÂú∞Êñπ„ÄÇ ÂºÄÂèëÂë®Êúü (10day) Â∫ìË°®ËÆæËÆ° Êé•Âè£Êï¥ÁêÜÂíåÊï¥ÂêàËÆæËÆ°(Áü≠‰ø°&amp;ÂèãÁõü&amp;ÈÇÆ‰ª∂Á≠â) ‰ª£Á†ÅÁºñÂÜô ‰∏öÂä°ÊµÅÁ®ãÂõæË°® Ê∂àÊÅØËÆ∞ÂΩïË°®, ‰∏ªË¶ÅË¥üË¥£Ê∂àÊÅØÂá∫ÂÖ•Âè£ËÆ∞ÂΩï ‰∫ã‰ª∂Ëß¶ÂèëË°®, ‰∏ªË¶ÅÂØπÊ∂àÊÅØËøõË°åÊéßÂà∂Ôºå‰æãÂ¶Ç: Ëß¶ÂèëËÆ¢ÂçïÂèòÊõ¥Êé®ÈÄÅÂà∞Áî®Êà∑/ËøêËê•‰∫∫Âëò and so on Ê∂àÊÅØÁä∂ÊÄÅË°®, ‰∏ªË¶ÅË¥üË¥£Ê∂àÊÅØÂèëÈÄÅÁöÑÁä∂ÊÄÅÔºåÂåÖÂê´ÂÆöÊó∂ÂèëÈÄÅÔºåÊí§ÈîÄÂèëÈÄÅ and so on Âõæ Á±ªÊµÅÁ®ãÂõæ Â¶ÇÂõæÔºåÊ≠§Ê®°Âºè‰∏ªË¶ÅÊòØÂà©Áî®Â∑•ÂéÇÊ®°Âºè, Êèê‰æõÂ§öÁßçÊ∂àÊÅØÈÄöÈÅìÂÆû‰æãÔºåÁî±‰∏çÂêåÁöÑÊ∂àÊÅØÈÄöÈÅìÂØπËá™Ë∫´ÈÄöÈÅìÊ∂àÊÅØËøõË°åÂ§ÑÁêÜÔºåÁ±ª‰ºº‰∫éÊääË•øÁìúÔºåÁâõËÇâÔºåÁôΩËèúÁ≠âÈÄÅÂÖ•‰∏çÂêåÁöÑÂ∑•ÂéÇËøõË°åÂä†Â∑•Ôºå‰ΩÜÊòØÂèàÁî±È£üÂìÅË¥®ÈáèÊéßÂà∂‰∏≠ÂøÉÂØπÂÖ∂ËøõË°åËÆ∞ÂΩïÂíåÊ£ÄÈ™å„ÄÇ ‰ºòÁÇπ: ÂêéÊúü‰æø‰∫éÊâ©Â±ïÊõ¥Â§öÁöÑÈÄöÈÅìÊ®°ÂºèÁº∫ÁÇπ: ÂêÑ‰∏™Ê®°ÂºèÊòØÈù†Á±ªÂûãÂå∫Âà´ÁöÑÔºå‰∏ç‰æø‰∫éËøõË°åÁªÜËäÇÂåñÂ§ÑÁêÜ(‰æãÂ¶ÇÔºåÂØπÊüêÈÉ®ÂàÜAPPÊé®ÈÄÅËøõË°åÂÆöÂà∂ÂåñÔºåËøõÂÖ•Êüê‰∏™ActivityÁ≠âÁªÜËäÇÂåñÂÆöÂà∂) Ëøõ‰∏ÄÊ≠•‰ºòÂåñÁ±ªÊµÅÁ®ãÂõæ ‰ΩøÁî®RouteËøõË°åÊõ¥ÁªÜËäÇÁöÑÂÆöÂà∂ÂåñÂ§ÑÁêÜÊõ¥Â§öÂÆûÊàòÔºåÊé®Ëçê Âõæ ÂõßÔºåÂçïÁúãÂõæÂèØËÉΩÁªÜÂàÜ‰∏çÂá∫‰∏§ËÄÖÁöÑÂ∑ÆÂà´ÔºåÈôÑ‰∏ä‰∏ÄÊÆµ‰ª£Á†ÅÂÆû‰æã 123456789101112131415// Ë∑ØÁî±ËßÑÂàôÂàùÂßãÂåñÔºåÁî®‰∫éÂÆö‰πâÂåπÈÖçËßÑÂàôNoticeRouter router = new NoticeRouter();route.rule() .noticeType(Notice.SMS) // ... Êõ¥Â§öÁªÜËäÇËßÑÂàôÂåπÈÖç .handler(smsHandler) .end() .rule() .noticeType(Notice.EMail) // ... Êõ¥Â§öÁªÜËäÇËßÑÂàôÂåπÈÖç .handler(emailHandler) .end()// Â∞ÜÈÄöÁü•ÂÆû‰ΩìÈÄöÁü•Ë∑ØÁî±Â§ÑÁêÜrouter.route(message) ÊÄªÁªì ÂÖÖÂàÜËÄÉËôëÂêéÊúü‰∏öÂä°ÈúÄÊ±Ç (Â∞±ÁÆóÈùûÂøÖÈ°ªÁöÑ‰∏öÂä°ÈúÄÊ±Ç) ‰∏çË¶ÅÂ¶ÑÊÉ≥ÈúÄÊ±ÇÊòØÊÅí‰πÖ‰∏çÂèòÁöÑÔºåÈúÄÊ±Ç=Â∞è‰∏âÔºåÊâ©Â±ï=ÁúüÁà±]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ËÆæËÆ°ÊÄùË∑Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2016%2F07%2F02%2FMac-%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÁïôÂùëÔºåÂàöÂàöËµ∑Ê≠•ÔºåÊ¢≥ÁêÜ‰∏≠ing„ÄÇ Â∞èÊäÄÂ∑ß Âú®Dock ÈöêËóè iTerm2ÈöêËóè:1/usr/libexec/PlistBuddy -c "Add :LSUIElement bool true" /Applications/iTerm.app/Contents/Info.plist ÊòæÁ§∫:1/usr/libexec/PlistBuddy -c "Delete :LSUIElement" /Applications/iTerm.app/Contents/Info.plist]]></content>
      <categories>
        <category>OS</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∞àJVMÔºåÂêÑÁßçËøáÁ®ã]]></title>
    <url>%2F2016%2F06%2F12%2F%E8%B0%88JVM-%E5%90%84%E7%A7%8D%E8%BF%87%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Ë∞àË∞àJVM ÂêÑÁßçËøáÁ®ãÔºå XMindÁ≠âÊàëÊï¥ÁêÜ‰∏Ä‰∏ãÔºåÁ®çÂêéË¥¥Âá∫ ÂõßÔΩûÊ¨¢ËøéÊåáÊïô..update: 2016-08-03 14:44:12 Êõ¥Êñ∞‰∫ÜÂõæ ÊÄªÊÄùË∑ØÁºñËØëËøáÁ®ã -&gt; ËøêË°åËøáÁ®ã[Á±ªÂä†ËΩΩÂô®ËøáÁ®ã(Á±ªÁöÑË£ÖËΩΩËøáÁ®ã) -&gt; ÊâßË°åËøáÁ®ã] Âõæ ÁºñËØëËøáÁ®ã.javaÊñá‰ª∂ -javacÁºñËØë-&gt; .classÊñá‰ª∂ {-JITÁºñËØë(ËΩ¨Âåñ+‰ºòÂåñ)-&gt; Êú¨Âú∞ÊñπÊ≥ï}[ÊâßË°åËøáÁ®ãÔºåÂΩìÊñπÊ≥ïÊâßË°åÈ¢ëÁéáÈ´ò] Âõæ ËøêË°åËøáÁ®ãÁ±ªÂä†ËΩΩÂô® -&gt; (ÊâßË°åÂºïÊìé -&gt; Êú¨Âú∞Â∫ìÊé•Âè£)[Java ËøêË°åÊó∂Êï∞ÊçÆÂå∫] -&gt; Êú¨Âú∞ÊñπÊ≥ïÂ∫ì Âõæ Á±ªÂä†ËΩΩÂô®ËøáÁ®ã[ÂêØÂä®]Á±ªÂä†ËΩΩÂô®(JNI) -&gt; [Êâ©Â±ï]Á±ªÂä†ËΩΩÂô® -&gt; [Á≥ªÁªü]Á±ªÂä†ËΩΩÂô® -&gt; [Ëá™ÂÆö‰πâ]Á±ªÂä†ËΩΩÂô® Âõæ Á±ªË£ÖËΩΩËøáÁ®ãÂä†ËΩΩÊñá‰ª∂Âà∞JVMÂÜÖÂ≠ò -&gt; (Ê†°È™åËØ≠Ë®ÄËßÑËåÉ -&gt; ÂàÜÈÖçÁªìÊûÑÂ≠òÂÇ®Á±ªÁöÑ‰ø°ÊÅØ -&gt; ËØ•Á±ªÂ∏∏ÈáèÊ±†‰∏≠Á¨¶Âè∑Êõ¥Êîπ‰∏∫Áõ¥Êé•ÂºïÁî®)[Linking] -&gt; Á±ªÂàùÂßãÂåñ Âõæ ÊâßË°åÂºïÊìéÊâßË°åËøáÁ®ã(ÈÄêË°åËØªÂèñÊåá‰ª§)ThreadÂêØÂä® -ÁîüÊàê-&gt; JVMÊ†à -ÊâßË°åÊñπÊ≥ï-&gt; ÂéãÂÖ•Ê†àÂ∏ß(ÂåÖÂê´ Â±ÄÈÉ®ÂèòÈáèÊï∞ÁªÑ&amp;Êìç‰ΩúÊï∞Ê†à&amp;ËøêË°åÊó∂Â∏∏ÈáèÊ±†) -&gt; ÈÄêË°åËØªÂèñÊåá‰ª§&amp;&amp;Ëß£Èáä(JVMÊ†àÂ∏ß Á®ãÂ∫èËÆ°Êï∞Âô®Â≠òÊîæ‰∏ã‰∏ÄÊù°Êåá‰ª§) -&gt; {JIT(ËΩ¨Âåñ+‰ºòÂåñ)-&gt; Êú¨Âú∞ÊñπÊ≥ï}[ÂΩìÊñπÊ≥ïÊâßË°åÈ¢ëÁéáÈ´ò] -ÊâßË°å&amp;ËøêÁÆó-&gt; ÁªìÊûú(Â≠òÊîæ Êìç‰ΩúÊï∞Ê†à‰∏≠) -&gt; Êé®Âá∫Ê†àÂ∏ß Âõæ Java ËøêË°åÊó∂Êï∞ÊçÆÂå∫(Ë¥ØÁ©øÊï¥‰∏™ÊâßË°åËøáÁ®ã)ÂÖ±‰∫´ÂûãÊï∞ÊçÆÂå∫ÔºöÊñπÊ≥ïÂå∫(Âê´ËøêË°åÊó∂Â∏∏ÈáèÊ±†[Â≠òÊîæÊñπÊ≥ï&amp;ÂèòÈáèÁöÑÂÆûÈôÖÂú∞ÂùÄ])„ÄÅÂ†Ü(Â≠òÊîæÂØπË±°ÂÆû‰æã)ÈöîÁ¶ªÂûãÊï∞ÊçÆÂå∫ÔºöJVM Ê†à„ÄÅÊú¨Âú∞ÊñπÊ≥ïÊ†à(JNI)„ÄÅÁ®ãÂ∫èËÆ°Êï∞Âô® Âõæ]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ë∞àJVMÔºåÂ≠óËäÇÁ†Å]]></title>
    <url>%2F2016%2F06%2F12%2F%E8%B0%88JVM-%E5%AD%97%E8%8A%82%E7%A0%81%2F</url>
    <content type="text"><![CDATA[Ë∞àË∞àJVMÔºåÊúÄËøëÂú®Á†îÁ©∂Á†¥Ëß£jarÔºåÊúâËøôÊñπÈù¢ÁªèÈ™åÁöÑÈ∫ªÁÉ¶ÊåáÂØº‰∏Ä‰∏ãÊÄùË∑Ø.. ÂèÇËÄÉÂèÇËÄÉ1Êåá‰ª§Êï¥ÁêÜ Â∏∏Áî®Êåá‰ª§123# ÂèçÁºñËØëÊü•Áúã`Á±ªÊñá‰ª∂`ÊâÄÊúâ‰ø°ÊÅØjavap -verbose [class] Â±ÄÈÉ®ÂèòÈáèÁ±ªÂûã ÁâπÊÆäÂ≠óÁ¨¶Ë°®Á§∫ Á±ªÂûã ÊèèËø∞ c char charÁ±ªÂûã i int intÁ±ªÂûã l long longÁ±ªÂûã s short shortÁ±ªÂûã b byte byteÁ±ªÂûã f float floatÁ±ªÂûã z boolean Â∏ÉÂ∞îÁ±ªÂûã a reference ÂºïÁî® ÊñπÊ≥ï‰ø°ÊÅØ12345L1 LOCALVARIABLE this LMain; L0 L1 0 LOCALVARIABLE a I L0 L1 1 MAXSTACK = 0 MAXLOCALS = 2 Â±ÄÈÉ®ÂèòÈáèÂèÇÊï∞ LOCALVARIABLEÂ±ÄÈÉ®Ë°®Â§ßÂ∞è MAXLOCALSÊìç‰ΩúÊï∞Ê†àÂ§ßÂ∞è MAXSTACK Êåá‰ª§ËøêÁÆóÊåá‰ª§ ÁÆóÊúØÊåá‰ª§Áî®‰∫éÂØπ‰∏§‰∏™Êìç‰ΩúÊï∞Ê†à‰∏äÁöÑÂÄºËøõË°åÊüêÁßçÁâπÂÆöËøêÁÆóÔºåÂπ∂ÊääÁªìÊûúÈáçÊñ∞Â≠òÂÖ•Âà∞Êìç‰ΩúÊ†àÈ°∂„ÄÇ Âä†Ê≥ïÊåá‰ª§:iadd,ladd,fadd,dadd ÂáèÊ≥ïÊåá‰ª§:isub,lsub,fsub,dsub ‰πòÊ≥ïÊåá‰ª§:imul,lmul,fmul,dmul Èô§Ê≥ïÊåá‰ª§:idiv,ldiv,fdiv,ddiv Ê±Ç‰ΩôÊåá‰ª§:irem,lrem,frem,drem ÂèñÂèçÊåá‰ª§:ineg,leng,fneg,dneg ‰ΩçÁßªÊåá‰ª§:ishl,ishr,iushr,lshl,lshr,lushr Êåâ‰ΩçÊàñÊåá‰ª§:ior,lor Êåâ‰Ωç‰∏éÊåá‰ª§:iand,land Êåâ‰ΩçÂºÇÊàñÊåá‰ª§:ixor,lxor Â±ÄÈÉ®ÂèòÈáèËá™Â¢ûÊåá‰ª§:iinc ÊØîËæÉÊåá‰ª§:dcmpg,dcmpl,fcmpg,fcmpl,lcmp Âä†ËΩΩÂíåÂ≠òÂÇ®Êåá‰ª§ Áî®‰∫éÂ±ÄÈÉ®ÂèòÈáèË°®ÂíåÊìç‰ΩúÊï∞Ê†à‰πãÈó¥Êù•Âõû‰º†Ëæì Â∞Ü‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáèÂä†ËΩΩÂà∞Êìç‰ΩúÊï∞Ê†àÁöÑÊåá‰ª§ÂåÖÊã¨Ôºöiload,iload_&lt;n&gt;Ôºålload„ÄÅlload_&lt;n&gt;„ÄÅfloat„ÄÅfload_&lt;n&gt;„ÄÅdload„ÄÅdload_&lt;n&gt;Ôºåaload„ÄÅaload_&lt;n&gt;„ÄÇ Â∞Ü‰∏Ä‰∏™Êï∞ÂÄº‰ªéÊìç‰ΩúÊï∞Ê†àÂ≠òÂÇ®Âà∞Â±ÄÈÉ®ÂèòÈáèÊ†áÁöÑÊåá‰ª§Ôºöistore,istore_&lt;n&gt;,lstore,lstore_&lt;n&gt;,fstore,fstore_&lt;n&gt;,dstore,dstore_&lt;n&gt;,astore,astore_&lt;n&gt; Â∞ÜÂ∏∏ÈáèÂä†ËΩΩÂà∞Êìç‰ΩúÊï∞Ê†àÁöÑÊåá‰ª§Ôºöbipush,sipush,ldc,ldc_w,ldc2_w,aconst_null,iconst_ml,iconst_&lt;i&gt;,lconst_&lt;l&gt;,fconst_&lt;f&gt;,dconst_&lt;d&gt; Â±ÄÈÉ®ÂèòÈáèË°®ÁöÑËÆøÈóÆÁ¥¢ÂºïÊåá‰ª§:wide ‰∏ÄÈÉ®ÂàÜ‰ª•Â∞ñÊã¨Âè∑ÁªìÂ∞æÁöÑÊåá‰ª§‰ª£Ë°®‰∫Ü‰∏ÄÁªÑÊåá‰ª§ÔºåÂ¶Çiload_&lt;i&gt;Ôºå‰ª£Ë°®‰∫Üiload_0,iload_1Á≠âÔºåËøôÂá†ÁªÑÊåá‰ª§ÈÉΩÊòØÂ∏¶Êúâ‰∏Ä‰∏™Êìç‰ΩúÊï∞ÁöÑÈÄöÁî®Êåá‰ª§„ÄÇ ËøêÁÆóÊåá‰ª§ ÂØπ‰∏§‰∏™Êìç‰ΩúÊï∞Ê†à‰∏äÁöÑÂÄºËøõË°åÊüêÁßçÁâπÂÆöËøêÁÆóÔºåÂπ∂ÊääÁªìÊûúÈáçÊñ∞Â≠òÂÖ•Âà∞Êìç‰ΩúÊ†àÈ°∂ Âä†Ê≥ïÊåá‰ª§:iadd,ladd,fadd,dadd ÂáèÊ≥ïÊåá‰ª§:isub,lsub,fsub,dsub ‰πòÊ≥ïÊåá‰ª§:imul,lmul,fmul,dmul Èô§Ê≥ïÊåá‰ª§:idiv,ldiv,fdiv,ddiv Ê±Ç‰ΩôÊåá‰ª§:irem,lrem,frem,drem ÂèñÂèçÊåá‰ª§:ineg,leng,fneg,dneg ‰ΩçÁßªÊåá‰ª§:ishl,ishr,iushr,lshl,lshr,lushr Êåâ‰ΩçÊàñÊåá‰ª§:ior,lor Êåâ‰Ωç‰∏éÊåá‰ª§:iand,land Êåâ‰ΩçÂºÇÊàñÊåá‰ª§:ixor,lxor Â±ÄÈÉ®ÂèòÈáèËá™Â¢ûÊåá‰ª§:iinc ÊØîËæÉÊåá‰ª§:dcmpg,dcmpl,fcmpg,fcmpl,lcmp Á±ªÂûãËΩ¨Êç¢Êåá‰ª§ Â∞Ü‰∏§ÁßçJavaËôöÊãüÊú∫Êï∞ÂÄºÁ±ªÂûãÁõ∏‰∫íËΩ¨Êç¢ JVMÊîØÊåÅÂÆΩÂåñÁ±ªÂûãËΩ¨Êç¢(Â∞èËåÉÂõ¥Á±ªÂûãÂêëÂ§ßËåÉÂõ¥Á±ªÂûãËΩ¨Êç¢)Ôºö intÁ±ªÂûãÂà∞long,float,doubleÁ±ªÂûã longÁ±ªÂûãÂà∞float,doubleÁ±ªÂûã floatÂà∞doubleÁ±ªÂûã ÂØπË±°ÂàõÂª∫‰∏éÊìç‰Ωú ËôΩÁÑ∂Á±ªÂÆû‰æãÂíåÊï∞ÁªÑÈÉΩÊòØÂØπË±°ÔºåJavaËôöÊãüÊú∫ÂØπÁ±ªÂÆû‰æãÂíåÊï∞ÁªÑÁöÑÂàõÂª∫‰∏éÊìç‰Ωú‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§„ÄÇ ÂàõÂª∫ÂÆû‰æãÁöÑÊåá‰ª§:new ÂàõÂª∫Êï∞ÁªÑÁöÑÊåá‰ª§:newarray,anewarray,multianewarray ËÆøÈóÆÂ≠óÊÆµÊåá‰ª§:getfield,putfield,getstatic,putstatic ÊääÊï∞ÁªÑÂÖÉÁ¥†Âä†ËΩΩÂà∞Êìç‰ΩúÊï∞Ê†àÊåá‰ª§:baload,caload,saload,iaload,laload,faload,daload,aaload Â∞ÜÊìç‰ΩúÊï∞Ê†àÁöÑÊï∞ÂÄºÂ≠òÂÇ®Âà∞Êï∞ÁªÑÂÖÉÁ¥†‰∏≠ÊâßË°å:bastore,castore,castore,sastore,iastore,fastore,dastore,aastore ÂèñÊï∞ÁªÑÈïøÂ∫¶Êåá‰ª§:arraylength Ê£ÄÊü•ÂÆû‰æãÁ±ªÂûãÊåá‰ª§:instanceof,checkcast Êìç‰ΩúÊï∞Ê†àÁÆ°ÁêÜÊåá‰ª§Áõ¥Êé•Êìç‰ΩúÊìç‰ΩúÊï∞Ê†àÁöÑÊåá‰ª§Ôºöpop,pop2,dup,dup2,dup_x1,dup2_x1,dup_x2,dup2_x2Âíåswap NOTE: ÂéãÂÖ•Ê†àÈ°∂(DUP)/ÂºπÂá∫Ê†àÈ°∂(POP) ÊéßÂà∂ËΩ¨ÁßªÊåá‰ª§ Êù°‰ª∂ÂàÜÊîØ:ifeq,iflt,ifle,ifne,ifgt,ifge,ifnull,ifnotnull,if_cmpeq,if_icmpne,if_icmlt,if_icmpgtÁ≠â Â§çÂêàÊù°‰ª∂ÂàÜÊîØ:tableswitch,lookupswitch Êó†Êù°‰ª∂ÂàÜÊîØ:goto,goto_w,jsr,jsr_w,ret ÊñπÊ≥ïË∞ÉÁî®ÂíåËøîÂõûÊåá‰ª§ invokevirtualÊåá‰ª§:Ë∞ÉÁî®ÂØπË±°ÁöÑÂÆû‰æãÊñπÊ≥ïÔºåÊ†πÊçÆÂØπË±°ÁöÑÂÆûÈôÖÁ±ªÂûãËøõË°åÂàÜÊ¥æ(ËôöÊãüÊú∫ÂàÜÊ¥æ)„ÄÇ invokeinterfaceÊåá‰ª§:Ë∞ÉÁî®Êé•Âè£ÊñπÊ≥ïÔºåÂú®ËøêË°åÊó∂ÊêúÁ¥¢‰∏Ä‰∏™ÂÆûÁé∞Ëøô‰∏™Êé•Âè£ÊñπÊ≥ïÁöÑÂØπË±°ÔºåÊâæÂá∫ÂêàÈÄÇÁöÑÊñπÊ≥ïËøõË°åË∞ÉÁî®„ÄÇ invokespecial:Ë∞ÉÁî®ÈúÄË¶ÅÁâπÊÆäÂ§ÑÁêÜÁöÑÂÆû‰æãÊñπÊ≥ïÔºåÂåÖÊã¨ÂÆû‰æãÂàùÂßãÂåñÊñπÊ≥ïÔºåÁßÅÊúâÊñπÊ≥ïÂíåÁà∂Á±ªÊñπÊ≥ï invokestatic:Ë∞ÉÁî®Á±ªÊñπÊ≥ï(static) ÊñπÊ≥ïËøîÂõûÊåá‰ª§ÊòØÊ†πÊçÆËøîÂõûÂÄºÁöÑÁ±ªÂûãÂå∫ÂàÜÁöÑÔºåÂåÖÊã¨ireturn(ËøîÂõûÂÄºÊòØboolean,byte,char,shortÂíåint),lreturn,freturn,drturnÂíåareturnÔºåÂè¶Â§ñ‰∏Ä‰∏™return‰æõvoidÊñπÊ≥ïÔºåÂÆû‰æãÂàùÂßãÂåñÊñπÊ≥ïÔºåÁ±ªÂíåÊé•Âè£ÁöÑÁ±ªÂàùÂßãÂåñiÊñπÊ≥ï‰ΩøÁî®„ÄÇ ÂêåÊ≠•Eg:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// class version 52.0 (52)// access flags 0x21public class Main &#123; // compiled from: Main.java // access flags 0x11 public final I simpleField = 100 // access flags 0x0 &lt;init&gt;()V L0 LINENUMBER 12 L0 ALOAD 0 INVOKESPECIAL java/lang/Object.&lt;init&gt; ()V L1 LINENUMBER 10 L1 ALOAD 0 BIPUSH 100 PUTFIELD Main.simpleField : I L2 LINENUMBER 13 L2 GETSTATIC java/lang/System.out : Ljava/io/PrintStream; BIPUSH 100 INVOKEVIRTUAL java/io/PrintStream.print (I)V L3 LINENUMBER 14 L3 RETURN L4 LOCALVARIABLE this LMain; L0 L4 0 MAXSTACK = 2 MAXLOCALS = 1 // access flags 0x9 public static main([Ljava/lang/String;)V L0 LINENUMBER 16 L0 NEW Main DUP INVOKESPECIAL Main.&lt;init&gt; ()V ASTORE 1 L1 LINENUMBER 17 L1 GETSTATIC java/lang/System.out : Ljava/io/PrintStream; LDC &quot;--&gt;&quot; INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V L2 LINENUMBER 19 L2 RETURN L3 LOCALVARIABLE args [Ljava/lang/String; L0 L3 0 LOCALVARIABLE main LMain; L1 L3 1 MAXSTACK = 2 MAXLOCALS = 2 // access flags 0x21 public synchronized a(I)V throws java/lang/Exception L0 LINENUMBER 23 L0 RETURN L1 LOCALVARIABLE this LMain; L0 L1 0 LOCALVARIABLE a I L0 L1 1 MAXSTACK = 0 MAXLOCALS = 2&#125;]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÖ≥‰∫éHTTPS]]></title>
    <url>%2F2016%2F06%2F02%2FHttps-%E7%AD%BE%E8%AF%81%2F</url>
    <content type="text"><![CDATA[ËøôÊòØ‰∏ÄÁØáÂÖ≥‰∫éHTTPSÁöÑÊó•Â∏∏‰ΩøÁî®ËÆ∞ÂΩïÔºå‰æãÂ¶Ç:ÂçöÂÆ¢HTTPSÂåñ~Êù•Âêß!Âπ¥ËΩª‰∫∫!Ë£ÖÈÄºHTTPSÊó∂‰ª£Âà∞‰∫Ü ÂÖ≥‰∫éhttps‰ªÄ‰πàÊòØHTTPS ? ÈÄö‰øóÁöÑËÆ≤ÔºöÈöêÁßÅÂÆâÂÖ® GitHub page ‰ΩøÁî®https‰∏ªË¶ÅÊòØ‰ΩøÁî® Kloudsec Áî≥ËØ∑Ë¥¶Âè∑ÔºåÂ°´ÂÖ•ÂæÖËß£ÊûêÁöÑÂüüÂêç ÊääDNSËß£ÊûêËΩ¨Âà∞ËØ•ÁΩëÁ´ôÊèê‰æõÁöÑÂú∞ÂùÄ È™åËØÅÈÇÆÁÆ±Âπ∂Â°´ÂÖ•GitHub page IP ÂºÄÂêØÁõ∏ÂÖ≥ÊúçÂä° PROTECTION -&gt; SSL Encryption PLUGIN STOREÊàêÂìÅNOTE: 2016Âπ¥09Êúà04Êó• ÂèëÁé∞KloudsecÂ∑≤ÁªèÂÄíÈó≠‰∫ÜÁé∞Âú®‰ΩøÁî®ÁöÑÊòØCloudflareÂÖ∑‰Ωì‰ΩøÁî®Ê≥®ÂÜåÊó∂ÊúâÂºïÂØºÊïôÁ®ã(ÈúÄÊääÂüüÂêçËß£ÊûêÊúçÂä°Âô®Êîπ‰∏∫cloudflareÁöÑ). Ëá™Â∑±Êê≠Âª∫ÁöÑblogÂÖçË¥πÁöÑ‰ΩøÁî® StartsslÊàêÂìÅ TOMCAT ÈÖçÁΩÆhttpsÁéØÂ¢É keytool ÊïôÁ®ãÂ§ñÁΩëÂõûË∞ÉÂèØÂ∞ùËØï‰ΩøÁî®nat123 Ëá™Â∑±VPS‰ΩøÁî®HTTPSLet‚Äôs Encrypt :)]]></content>
      <categories>
        <category>Server</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6 Êñ∞ÁâπÊÄß]]></title>
    <url>%2F2016%2F05%2F10%2FES6-%E6%96%B0%E7%89%B9%E6%80%A7%2F</url>
    <content type="text"><![CDATA[NodeJS ÁöÑÊûÑÂª∫Â∑•ÂÖ∑Â±ÇÂá∫‰∏çÁ©∑ÔºåÂõ†Ê≠§‰∫ÜËß£‰∏Ä‰∏ãÈôàÊóß‰∫ãÁâ©ÁöÑËøõÂ±ï„ÄÇ ÁÆÄ‰ªães6: ecmscript6 Êñ∞ÁâπÊÄß let ÂùóÁ∫ß‰ΩúÁî®Âüü, Ê≥®: es5‰∏≠varÂ£∞ÊòéÁöÑ‰∏äÂÖ®Â±ÄËåÉÂõ¥ÁöÑ const Â∏∏Èáè class Á±ª extends ÁªßÊâø super Êåá‰ª£Áà∂Á±ªÁöÑÂÆû‰æã arrow functions ËØ≠Ê≥ïÁ≥ñ 12345/** * ËØ≠Ê≥ï: (ÂèÇÊï∞) =&gt; &#123;ÊâßË°å‰ª£Á†Å&#125; **/function(i)&#123; return i + 1; &#125; //ES5(i) =&gt; &#123; i + 1 &#125; //ES6 template string Ê®°ÁâàÂ≠óÁ¨¶ 1234567/** * ËØ≠Ê≥ï: `$&#123;ÂèòÈáè&#125;` **/ const name = 'hocgin'; console.log(`this is template strnig &lt;b&gt;$&#123;name&#125;&lt;/b&gt; `); destructuring 12345678let cat = 'ken'let dog = 'lili'let zoo = &#123;cat, dog&#125;console.log(zoo) //Object &#123;cat: "ken", dog: "lili"&#125;let dog = &#123;type: 'animal', many: 2&#125;let &#123; type, many&#125; = dogconsole.log(type, many) //animal 2 default ÈªòËÆ§ÂÄº 12345678910/** * ËØ≠Ê≥ï: * function &lt;method name&gt;(param = &lt;default value&gt;) &#123; * ... * &#125; **/ function animal(type = 'cat')&#123; console.log(type) &#125; animal(); rest ÂèØÂèòÂèÇÊï∞ 12345678910/** * ËØ≠Ê≥ï: * function &lt;method name&gt;(...params) &#123; * ... * &#125; **/ function animals(...types)&#123; console.log(types) &#125; animals('cat', 'dog', 'fish'); import export Ê®°ÂùóËÆæËÆ° es6 Êää‰∏Ä‰∏™Êñá‰ª∂ÂΩì‰Ωú‰∏Ä‰∏™Ê®°Âùó, ‰∏Ä‰∏™Ê®°ÂùóÂèØexportÂ§ö‰∏™ÂèòÈáè, Âõ†Ê≠§‰∏çÂêåÁöÑexportÂèØÂØπÂ∫î‰∏çÂêåÁöÑimport 12345678910111213141516171819// ÂØºÂá∫Ê®°Âùóexport animal// ÂØºÂÖ•Ê®°Âùó - ÂèòÈáè‰∏∫ animalimport animal from './content'//--------------------// ÂØºÂá∫Ê®°Âùóexport &#123;dog, cat&#125;// ÂØºÂÖ•Ê®°Âùó - ÂèòÈáè‰∏∫ [dog, cat]import &#123;dog, cat&#125; from './content'//--------------------export &#123;dog, cat&#125;// ÂÖ®ÈÉ®ÂØºÂÖ•import * as animal from './content'// ormodule animal form './content'//--------------------// ÈªòËÆ§ÂØºÂá∫, ‰∏Ä‰∏™Ê®°ÂùóÂè™ËÉΩ‰ΩøÁî® export default ‰∏ÄÊ¨°export default 'dog dog'import animal from './content']]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Ubuntu</tag>
        <tag>Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®Maven‰∏ãËΩΩjarÂåÖ linuxÁâà]]></title>
    <url>%2F2016%2F04%2F25%2F%E4%BD%BF%E7%94%A8Maven%E4%B8%8B%E8%BD%BDjar%E5%8C%85-linux%E7%89%88%2F</url>
    <content type="text"><![CDATA[ËøôÂè™ÊòØÂ≠¶‰π†ShellÁöÑÂ∞èËÑöÊú¨, ÁªÉÊâãÂ∑•ÂÖ∑ÁΩ¢‰∫Ü.. ÊäòËÖæ!ÊäòËÖæÂïä ÁõÆÂΩïÁªìÊûÑ123Green4nodeJS‚îú‚îÄ‚îÄ down.sh // ‰∏ãËΩΩshellÔºåo(‚ïØ‚ñ°‚ï∞)oÂÖ∂ÂÆûÂ∞±ÊòØ‰∏ÄÊù°shell‚îî‚îÄ‚îÄ pom.xml // Ê≠£Â∏∏mavenÈÖçÁΩÆ Êñá‰ª∂ÂÜÖÂÆπdown.sh ÂÜÖÂÆπÔºö1234567891011#!/bin/sh# Author: hocgin@gmail.com# -------------Use--------------# sh down.sh# ------------------------------# ËøêË°åpom.xml ‰∏ãËΩΩjarNOW_PATH=$(cd "$(dirname "$0")"; pwd)POM_XML=$NOW_PATH"/pom.xml"TARGET_DIR=$NOW_PATH"/target"mvn -f $POM_XML dependency:copy-dependenciessudo chmod -R 777 $TARGET_DIR pom.xml ÂÜÖÂÆπÔºö Ê≠£Â∏∏mavenÁöÑpom.xmlÂÜÖÂÆπ 1234567891011121314151617181920&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;!-- È°πÁõÆÁöÑÂêçÁß∞ start --&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;temp.download&lt;/groupId&gt; &lt;artifactId&gt;temp-download&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!-- È°πÁõÆÁöÑÂêçÁß∞ end --&gt; &lt;dependencies&gt; &lt;!-- Ë¶Å‰∏ãËΩΩÁöÑjar start --&gt; &lt;dependency&gt; &lt;groupId&gt;org.json&lt;/groupId&gt; &lt;artifactId&gt;json&lt;/artifactId&gt; &lt;version&gt;20160212&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Ë¶Å‰∏ãËΩΩÁöÑjar end --&gt; &lt;/dependencies&gt;&lt;/project&gt; ÂÆåÊàê ‰ΩøÁî®ÊñπÊ≥ï123456source init.sh# Or. init.shcd hocgin.github.io# Â∞ΩÊÉÖhexoÂêß End]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>Tips</tag>
        <tag>Maven</tag>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÁªøÂåñNodeJS for linuxÁâà]]></title>
    <url>%2F2016%2F04%2F25%2F%E7%BB%BF%E5%8C%96nodejs-for-linux%E7%89%88%2F</url>
    <content type="text"><![CDATA[Ëµ∑Âõ†Ôºå‰∏∫‰∫ÜÊñπ‰æøhexoÂèëÂ∏ÉÂçöÂÆ¢ÔºåÊâÄ‰ª•ÊÉ≥ÊääNodeJSÁªøÂåñÂú®UÁõò‰∏ä..Ë∞ÅÂè´ÁΩë‰∏äÂè™ÊúâwinÁâàÁöÑÂë¢ÔºÅËá™Â∑±Á†ÅËµ∑Êù•ÔΩûÁªøÂåñ o(‚ïØ‚ñ°‚ï∞)o ÁõÆÂΩïÁªìÊûÑ12345678Green4nodeJS‚îú‚îÄ‚îÄ hocgin.github.io // githubÂçöÂÆ¢ÁõÆÂΩï‚îú‚îÄ‚îÄ node // nodejsÂü∫Êú¨ÁõÆÂΩï‚îÇ ‚îú‚îÄ‚îÄ node-linux // nodejsÊ∫êÊñá‰ª∂‚îÇ ‚îú‚îÄ‚îÄ cache // ÂàõÂª∫‰∏Ä‰∏™Á©∫Êñá‰ª∂Â§πÔºåÂç≥ÂèØ‚îÇ ‚îú‚îÄ‚îÄ init-module // ÂàõÂª∫‰∏Ä‰∏™Á©∫Êñá‰ª∂Â§πÔºåÂç≥ÂèØ‚îÇ ‚îî‚îÄ‚îÄ userconfig // ÂàõÂª∫‰∏Ä‰∏™Á©∫Êñá‰ª∂Â§πÔºåÂç≥ÂèØ‚îî‚îÄ‚îÄ init.sh // ÂàùÂßãÂåñshellÊñá‰ª∂ *ÈáçË¶Å ÂàùÂßãÂåñÊñá‰ª∂ ‰∏ªË¶ÅÊòØÂä†ËΩΩÈÖçÁΩÆÁéØÂ¢ÉÔºåÂàùÂßãÂåñÂèòÈáè init.sh ÂÜÖÂÆπ123456789101112131415161718#!/bin/bash# Author: hocgin@gmail.com# -------------Use--------------# source init.sh or . init.sh# ------------------------------NOW_PATH=$(cd "$(dirname "$0")"; pwd)NODE_NAME="node-linux"NODE_HOME=$NOW_PATH"/node/"$NODE_NAMENODE_PATH=$NODE_HOME"/bin"NPM_PATH=$NODE_HOME"/lib/node_modules/npm/bin"sudo chmod +x -R $NPM_PATH"/."export PATH=$PATH:$NODE_PATH:$NPM_PATH# "/home/hocgin/.npmrc"npm set userconfig $NOW_PATH"/node/userconfig"# "/home/hocgin/.npm-init.js"npm set init-module $NOW_PATH"/node/init-module"# "/home/hocgin/.npm"npm set cache $NOW_PATH"/node/cache" ‰øÆÊîπ /node/node-linux/lib/node_modules/npm/bin/npm Êñá‰ª∂12# NPM_CLI_JS="$basedir/node_modules/npm/bin/npm-cli.js"NPM_CLI_JS="$basedir/npm-cli.js" ÂÆåÊàê ‰ΩøÁî®ÊñπÊ≥ï123456source init.sh# Or. init.shcd hocgin.github.io# Â∞ΩÊÉÖhexoÂêß Ê≥®: ÂÆâË£ÖmoduleÊó∂ËØ∑Âä†‰∏ä -g End]]></content>
      <categories>
        <category>Coder</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
        <tag>Ubuntu</tag>
        <tag>Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo ÂäüËÉΩÊâ©Â±ï]]></title>
    <url>%2F2016%2F03%2F26%2Fhexo-%E5%8A%9F%E8%83%BD%E6%89%A9%E5%B1%95%2F</url>
    <content type="text"><![CDATA[ËøôÊòØËá™Â∑±ÂèÇÁÖßhexoËøõË°åÁßÅ‰∫∫ËÆ¢Âà∂ÁöÑÊïôÁ®ãÔºå‰πüÊòØÂÆûÊàòÁöÑËÆ∞ÂΩïÔºåÊÑüËßâËøò‰∏çÈîôÔºåÊàêÂìÅÂèØÂèÇÁÖßÊú¨ÂçöÂÆ¢.. ÔºàÂ¶ÇÊûúÊàë‰ª•ÂêéÊ≤°Êç¢ÁöÑËØùüò∂Ôºâ È°ªÁü•Á´ôÁÇπÁõÆÂΩï: /‰∏ªÈ¢òÁõÆÂΩï: /themes/[‰∏ªÈ¢òÂêç]‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂: /themes/[‰∏ªÈ¢òÂêç]/_config.ymlÁ´ôÁÇπÈÖçÁΩÆÊñá‰ª∂: /_config.yml Ê∑ªÂä†ÂæÆ‰ø°ÂÖ¨‰ºóÂè∑‰∫åÁª¥Á†ÅÈ¶ñÂÖàÔºåÊâìÂºÄ‰∏ªÈ¢òÁõÆÂΩï‰∏ãÁöÑ layout/_macro/post.swigÁÑ∂ÂêéÔºåÊâæÂà∞ËäÇÁÇπfooterÂä†ÂÖ•‰ª•‰∏ã‰ª£Á†Å1234567891011121314&lt;! -- Ê∑ªÂä†ÂæÆ‰ø°ÂõæÊ†á start --&gt; &#123;% if theme.wechat_subscriber.enable %&#125; &#123;% if !is_home() %&#125; &lt;div class="hocgin-container"&gt; &lt;div class="folder"&gt; &lt;div class="paper"&gt; &lt;img width="100%" src="&#123;&#123; theme.wechat_subscriber.qcode &#125;&#125;"/&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="hocgin-description"&gt;&#123;&#123; theme.wechat_subscriber.description &#125;&#125;&lt;/div&gt; &#123;% endif %&#125; &#123;% endif %&#125;&lt;! -- Ê∑ªÂä†ÂæÆ‰ø°ÂõæÊ†á end --&gt; ÂÖ∂Ê¨°ÔºåÂà∞‰∏ªÈ¢òÁõÆÂΩï‰∏ãÁöÑsource/cssÂàõÂª∫Êñá‰ª∂Â§π_hocginÂπ∂Âú®ÂÆÉ‰πã‰∏ãÂàõÂª∫cssÊñá‰ª∂customize-hocgin.css‰ª•‰∏ãÊòØÊñá‰ª∂ÂÜÖÂÆπÔºö12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849.hocgin-container *, *:before, *:after &#123; box-sizing: border-box;&#125;.hocgin-container &#123; position: relative; width: 100%; height: 100%;&#125;.hocgin-container &gt; .folder &#123; width: 220px; height: 180px; left: calc(50% - 110px); top: calc(70% - 90px); position: relative;&#125;.hocgin-container &gt; .folder &gt; .paper &#123; opacity: 1; position: absolute; overflow: hidden; width: 200px; height: 200px; top: calc(50% - 111px); left: calc(50% - 100px); transition: top 0.5s, opacity 0.4s; font-family: Verdana, Tahoma, sans-serif; font-size: 0.1em; padding: 1em; color: #644812; background-color: #fde1ab; -moz-box-shadow: 10px 10px rgba(0, 0, 0, 0.2); -webkit-box-shadow: 10px 10px rgba(0, 0, 0, 0.2); box-shadow: 10px 10px rgba(0, 0, 0, 0.2); -moz-border-radius: 5px; -webkit-border-radius: 5px; border-radius: 5px;&#125;.hocgin-container &gt; .folder:hover &gt; .paper &#123; top: calc(50% - 150px);&#125;.hocgin-container &gt; .folder.opened &gt; .paper &#123; top: calc(-250px); opacity: .9;&#125;.hocgin-description &#123; text-align: center; margin-top: 4px;&#125; ‰øùÂ≠òÂêéÔºåÊâæÂà∞‰∏ªÈ¢òÁõÆÂΩï‰∏ãsource/css/main.styl(Ê≥®ÔºöÂà´ÁöÑ‰∏ªÈ¢òÂèØËÉΩ‰∏ç‰∏ÄÊ†∑) ËøΩÂä†12// --------------------------------------------------@import "_hocgin/customize-hocgin.css"; ÊúÄÂêéÔºå‰øÆÊîπ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂ ËøΩÂä†12345# Customize args -- Hocginwechat_subscriber: enable: true qcode: [url] description: Ê¨¢ËøéÊÇ®Êâ´‰∏ÄÊâ´‰∏äÈù¢ÁöÑÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÔºåËÆ¢ÈòÖÊàëÁöÑÂçöÂÆ¢ÔºÅ ÊïàÊûúhttp://hocg.in Â∫ïÈÉ®Âä†ÂÖ•ÊâìËµèÂäüËÉΩÈ¶ñÂÖàÔºåÊâìÂºÄ‰∏ªÈ¢òÁõÆÂΩï‰∏ãÁöÑ layout/_macro/post.swigÁÑ∂ÂêéÔºåÊâæÂà∞ËäÇÁÇπfooterÂä†ÂÖ•‰ª•‰∏ã‰ª£Á†Å12345678910111213141516171819 &lt;! -- Ê∑ªÂä†ÊâìËµèÂõæÊ†á start --&gt; &#123;% if theme.pay_money.enable %&#125; &#123;% if !is_home() %&#125; &lt;div class="hocgin-money"&gt;&lt;div class="money-reward"&gt; Ëµè &lt;div class="money-pay"&gt; &lt;img width="100%" src="&#123;&#123; theme.pay_money.weixin_qcode &#125;&#125;"/&gt; &lt;/div&gt; &lt;div class="money-pay"&gt; &lt;img width="100%" src="&#123;&#123; theme.pay_money.alipay_qcode &#125;&#125;"/&gt; &lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;br/&gt; &lt;br/&gt; &#123;% endif %&#125; &#123;% endif %&#125; &lt;! -- Ê∑ªÂä†ÊâìËµèÂõæÊ†á end --&gt; ÂÖ∂Ê¨°ÔºåÂà∞‰∏ªÈ¢òÁõÆÂΩï‰∏ãÁöÑsource/cssÂàõÂª∫Êñá‰ª∂Â§π_hocginÂπ∂Âú®ÂÆÉ‰πã‰∏ãÂàõÂª∫cssÊñá‰ª∂money-customize-hocgin.css‰ª•‰∏ãÊòØÊñá‰ª∂ÂÜÖÂÆπÔºö1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859.hocgin-money *, *:before, *:after &#123; box-sizing: border-box;&#125;.hocgin-money &gt; .money-reward &#123; font-size: 2.4rem; line-height: 4.6rem; display: block; width: 4.6rem; height: 4.6rem; margin: 0 auto; padding: 0; -webkit-user-select: none; text-align: center; vertical-align: middle; color: #fff; border: 1px solid #f1b60e; border-radius: 50%; background: #fccd60; background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #fccd60), color-stop(100%, #fbae12), color-stop(100%, #2989d8), color-stop(100%, #207cca)); background: -webkit-linear-gradient(top, #fccd60 0, #fbae12 100%, #2989d8 100%, #207cca 100%); background: linear-gradient(to bottom, #fccd60 0, #fbae12 100%, #2989d8 100%, #207cca 100%); position: relative;&#125;.hocgin-money &gt; .money-reward &gt; .money-pay &#123; position: absolute; overflow: hidden; width: 200px; height: 200px; visibility: hidden; top: calc(50% - 100px); left: calc(50% - 100px); opacity: 0; transition: top 0.5s, opacity 0.4s; font-family: Verdana, Tahoma, sans-serif; font-size: 0.1em; padding: 1em; color: #644812; background-color: #fff; -moz-box-shadow: 0 1px 1px 1px #efefef; -webkit-box-shadow: 0 1px 1px 1px #efefef; box-shadow: 0 1px 1px 1px #efefef; border: 1px solid #e6e6e6;&#125;.hocgin-money &gt; .money-reward:hover &gt; .money-pay &#123; visibility: visible; opacity: 1; z-index: 10;&#125;.hocgin-money &gt; .money-reward:hover &gt; .money-pay:nth-child(1) &#123; top: calc(50% - 250px);&#125;.hocgin-money &gt; .money-reward:hover &gt; .money-pay:nth-child(2) &#123; top: calc(50% + 50px);&#125; ‰øùÂ≠òÂêéÔºåÊâæÂà∞‰∏ªÈ¢òÁõÆÂΩï‰∏ãsource/css/main.styl(Ê≥®ÔºöÂà´ÁöÑ‰∏ªÈ¢òÂèØËÉΩ‰∏ç‰∏ÄÊ†∑) ËøΩÂä†12// --------------------------------------------------@import "_hocgin/money-customize-hocgin.css"; ÊúÄÂêéÔºå‰øÆÊîπ‰∏ªÈ¢òÈÖçÁΩÆÊñá‰ª∂ ËøΩÂä†12345# Customize args -- Hocginpay_money: enable: true weixin_qcode: http://cdn.hocgin.top/img/un/ali.pay.500.png alipay_qcode: http://cdn.hocgin.top/img/un/ali.pay.500.png Â∑≤Áü•bug Âõ†‰∏∫Ê≤°‰ΩøÁî®js(‰πü‰∏çÊÉ≥‰ΩøÁî®)ÔºåÂÆâÂçìËÆæÂ§áÈúÄË¶ÅÈïøÊåâÊâçËÉΩÂá∫Áé∞ÊïàÊûúÔºåËÄåËãπÊûúËÆæÂ§áÊó†Ê≥ïÊòæÁ§∫ÊïàÊûúÔºåÊ¨¢ËøéÂ§ßÂÆ∂‰øÆÂ§ç„ÄÇ‚îå|*¬¥‚àÄÔΩÄ|‚îò ÊïàÊûúhttp://hocg.in Èò≤Ê≠¢ÁôæÂ∫¶ËΩ¨Á†Å‰∏ªÈ¢òÁõÆÂΩï‰∏ã \layout\_partials\head.swig12&lt;meta http-equiv=‚ÄùCache-Control‚Äù content=‚Äùno-transform‚Äù /&gt;&lt;meta http-equiv=‚ÄùCache-Control‚Äù content=‚Äùno-siteapp‚Äù /&gt; Ê∑ªÂä†ÊêúÁ¥¢ÂäüËÉΩ 2016Âπ¥06Êúà04Êó• ÂÆâË£ÖhexoÊï∞ÊçÆÁîüÊàêÊèí‰ª∂ JsonÊ†ºÂºèÁöÑÔºåÊúâÂà©‰∫éËá™‰∏ªÁºñÂÜô(ÊöÇÊó∂Âè™‰ªãÁªçÂéüÁîüÊîØÊåÅÁöÑÔºåÂ¶ÇÊûúÊÉ≥Ëá™Â∑±ÁºñÂÜô‰∏ãÈù¢ÁöÑÂèØ‰ª•‰∏çÁî®Áúã) hexo-generator-json-content1$ npm i -S hexo-generator-json-content NexT ÂéüÁîüÊîØÊåÅÔºå‰∏çÊÉ≥ÊäòËÖæÁöÑÂèØ‰ª•‰ΩøÁî® hexo-generator-search1$ npm install hexo-generator-search --save Á´ôÁÇπÈÖçÁΩÆÊñá‰ª∂ Êñ∞Â¢û1234# Searchsearch: path: search.xml field: post OKÔºÅ ÂæÖÁª≠ing ÁªìÂêàÊúçÂä°Âô®ÔºåÂÆûÁé∞Ëá™Âä®ÈÉ®ÁΩ≤ Â§öËØ¥cssÁæéÂåñ]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>HTML5</tag>
        <tag>Hexo</tag>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆâË£ÖÂÆåUbuntuÂêé,ÊàëËØ•ÂÅö‰ªÄ‰πà]]></title>
    <url>%2F2016%2F03%2F20%2F%E5%AE%89%E8%A3%85%E5%AE%8CUbuntu%E5%90%8E-%E6%88%91%E8%AF%A5%E5%81%9A%E4%BB%80%E4%B9%88%2F</url>
    <content type="text"><![CDATA[ËøôÊòØ‰∏ÄÁØáÊàëÂØπUbuntuÊó•Â∏∏‰ΩøÁî®Âíå‰ºòÂåñÁöÑÊï¥ÁêÜÔºå‰πüÊòØ‰∏ÄÁØáÂÄüÈâ¥Ââç‰∫∫ÁöÑÊñáÁ´†ÔºåËøòÊúâ‰∏Ä‰∫õÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÁñëÈöæÊùÇÁóÖÁöÑ‚ÄúÂÅèÊñπ‚ÄùÔºåÂ∏åÊúõÂØπ‰Ω†ÊúâÂ∏ÆÂä©:)update: Êñ∞Â¢ûundistract-meÁªàÁ´ØÂëΩ‰ª§ÂÆåÊàêÊèêÈÜíÊèí‰ª∂ yuanËé∑ÂèñÂÆòÊñπÂàóË°®Ôºö http://wiki.ubuntu.org.cn/%E6%BA%90%E5%88%97%E8%A1%A8ÁΩëÊòì163Ôºö http://mirrors.163.com/.help/ubuntu.html ÁßªÈô§ Âà†Èô§libreoffice 1sudo apt-get remove libreoffice-common Âà†Èô§AmazonÁöÑÈìæÊé•s 1sudo apt-get remove unity-webapps-common Âà†ÊéâÂü∫Êú¨‰∏çÁî®ÁöÑËá™Â∏¶ËΩØ‰ª∂ 12sudo apt-get remove thunderbird totem rhythmbox empathy brasero simple-scan gnome-mahjongg aisleriot gnome-mines cheese transmission-common gnome-orca webbrowser-app gnome-sudoku landscape-client-ui-installsudo apt-get remove onboard deja-dup shang xia zuoyou 12sudo apt-get remove vim-commonsudo apt-get install vim Â≠ó‰ΩìmonacoËãπÊûúÂ≠ó‰Ωìhttps://github.com/cstrap/monaco-font1curl -kL https://raw.github.com/cstrap/monaco-font/master/install-font-ubuntu.sh | bash consolasÂæÆËΩØÂ≠ó‰Ωì Gnome3ÂÆâË£Ö1.ÂÆâË£ÖGnome3Ê°åÈù¢12345678910# ÂÆâË£Ösudo add-apt-repository ppa:gnome3-team/gnome3sudo apt-get updatesudo apt-get install ppa-purgesudo ppa-purge ppa:gnome3-team/gnome3sudo apt-get dist-upgradesudo apt-get install gnome-themes-standard ubuntu-desktop gnome-shell# Âà†Èô§sudo apt-get install ppa-purgesudo ppa-purge ppa:gnome3-team/gnome3 2.Gnome3Á≥ªÁªü‰∏ãËΩΩ ‰∏ªÈ¢ò‰∏ªÈ¢òÊñá‰ª∂‰ΩçÁΩÆÔºö~/.themes Êàñ /usr/share/themes 1.Paper1234# ‰∏ãÊãâgitgit clone https://github.com/snwh/paper-gtk-theme.git# ËøêË°åÂÆâË£ÖËÑöÊú¨sh ./install-gtk-theme.sh 2.Numix-Circle ÂæàËµû 1234# ÂÆâË£Ösudo apt-add-repository ppa:numix/ppasudo apt-get updatesudo apt-get install numix-icon-theme-circle Êèí‰ª∂ÊîØÊåÅ gnome-tweak-tool Gnome3ÁöÑË∞ÉËäÇËΩØ‰ª∂ÂèØÁõ¥Êé•ÁÆ°ÁêÜÊèí‰ª∂ 1sudo apt-get install gnome-tweak-tool Êèí‰ª∂‰∏ãËΩΩÁΩëÁ´ô: https://extensions.gnome.org/ ‰ΩøÁî®Chrome Êèí‰ª∂ Á≥ªÁªüÂÆâË£Öchrome-gnome-shell 1234sudo add-apt-repository ppa:ne0sight/chrome-gnome-shell# trustysudo apt-get updatesudo apt-get install chrome-gnome-shell Êèí‰ª∂ÂàóË°® ÂêçÁß∞ ÊèèËø∞ Êé®Ëçê Autohide battery ÂèØ‰ª•Âú®ÁîµÊ±†ÂÖÖÊª°ÁöÑÊÉÖÂÜµ‰∏ãÈöêËóèÁîµÊ±†ÂõæÊ†á Êé®Ëçê Battery status ÂèØ‰ª•ÊòæÁ§∫ÂΩìÂâçÁîµÊ±†ÁîµÈáè‰ª•ÂèäÂèØ‰ª•‰ΩøÁî®ÁöÑÊó∂Èó¥ Êé®Ëçê Dash to dock Âú®Â±èÂπïÂ∑¶ËæπÊòæÁ§∫‰∏Ä‰∏™Âø´ÈÄüÂêØÂä®Êù° Êé®Ëçê Freon ÊòæÁ§∫ÂΩìÂâçÁ£ÅÁõòÔºåÊòæÂç°ÔºåCPUÁ≠âÁ≠âÊ∏©Â∫¶ ‰∏çÊé®ËçêÔºåÊé®ËçêSysPeek Lock Keys ÊòæÁ§∫ÂΩìÂâçÁöÑ Num Lock, Caps Lock ÁöÑÁä∂ÊÄÅ Êé®Ëçê Refesh wifi connections Âú® wifi ÂàóË°®‰∏äÊòæÁ§∫‰∏Ä‰∏™Âà∑Êñ∞ÂõæÊ†á Êé®Ëçê status title bar ËÆ≤Áä∂ÊÄÅÊù°‰∏äÁöÑÊ†áÈ¢òÊîπ‰∏∫ÂΩìÂâçÁ™óÂè£ÁöÑÊ†áÈ¢ò Êé®Ëçê Coverflow Alt-Tab Á±ª‰ººWIN 7ÂàáÊç¢ÁâπÊïà Â§™ÊòæÁúºÔºå‰∏çÊé®Ëçê OpenWeather Â§©Ê∞îÈ¢ÑÊä• Êé®Ëçê NetSpeed ÊòæÁ§∫ÁΩëÈÄü ‰∏çÊé®ËçêÔºåÊé®ËçêSysPeek system-monitor ÊòæÁ§∫ÂΩìÂâçÁ≥ªÁªü‰ø°ÊÅØ Â§™ÊòæÁúºÔºå‰∏çÊé®Ëçê Dynamic Top Bar Âú®ÂΩìÂâçÊ≤°ÊúâÊúÄÂ§ßÂåñÁ™óÂè£Êó∂‰ΩøÈ°∂Ê†èÈÄèÊòé Êé®Ëçê Impatience Gnome Shell Âä®ÁîªÊèêÈÄü Êé®Ëçê Better Volume Indicator ÈÄèËøáÈº†Ê†áÊªöËΩÆÊìç‰ΩúÊõ¥‰æøÊç∑Âú∞Ë∞ÉÊï¥Èü≥Èáè Êé®Ëçê Media player indicator ÊòæÁ§∫Èü≥‰πêÊí≠ÊîæÂô®ÁöÑÁä∂ÊÄÅ Êé®Ëçê Workspaces-to-dock Â∞ÜÂ∑•‰ΩúÂå∫ËΩ¨Âèò‰∏∫‰∏Ä‰∏™ÂèØËá™Âä®ÈöêËóèÁöÑÂÅúÈù†Ê†è Êé®Ëçê Panel OSD ‰øÆÊîπÈÄöÁü•ÊòæÁ§∫‰ΩçÁΩÆ Êé®Ëçê Clipboard Indicator Ââ™Ë¥¥ÊùøÊåáÁ§∫Âô® Êé®Ëçê Caffeine Á¶ÅÊ≠¢Ëá™Âä®ÊåÇËµ∑ÊàñÈîÅÂ±è Êé®Ëçê Transmission Daemon Indicator TransmissionÈù¢ÊùøÊåáÁ§∫Âô® Êé®ËçêÔºåÈúÄË¶ÅTransmission Daemon Icon Hider ÊòæÁ§∫/ÈöêËóèÈ°∂Ê†èÂõæÊ†á Êé®Ëçê Top Panel Workspace Scroll Âú®È°∂Ê†è‰∏äÊªöÂä®Èº†Ê†á‰∏≠ÈîÆÊù•Âø´ÈÄüÂàáÊç¢Â∑•‰ΩúÂå∫„ÄÇÂú®topbarÊåâ‰Ωèshift+ÊªöËΩÆ Êé®Ëçê Drop Down Terminal ÁªàÁ´ØÂø´Êç∑ÊñπÂºè Êé®Ëçê Windows Blur Effects ÁªôÊú™ÊøÄÊ¥ªÁöÑÁ™óÂè£Ê∑ªÂä†Ê®°Á≥äÊïàÊûú ‰∏çÊé®Ëçê Modern Calc ÂäüËÉΩÈΩêÂÖ®ÁöÑËÆ°ÁÆóÂô®Êâ©Â±ï Ê≤°ÊâæÂà∞ EasyScreenCast ÂΩïÂ±èÂ∑•ÂÖ∑ Êé®Ëçê Place status indicator Âø´ÈÄüËÆøÈóÆ‰∏Ä‰∫õÊñá‰ª∂Â§π Êé®ËçêÔºåÊ≤°Ë£Ö‰∏ä Removable drive menu ÊòæÁ§∫ËøûÊé•Âà∞ÁîµËÑëÁöÑusbËÆæÂ§á Êé®Ëçê User themes Áî®Êù•ÂêØÁî®Ëá™ÂÆö‰πâÁöÑshell‰∏ªÈ¢ò Êé®ËçêÔºåÊ≤°Ë£Ö‰∏ä Workspace indicator Âú®È°∂Ê†èÊòæÁ§∫ÂΩìÂâçÁ§∫Â∑•‰ΩúÂå∫ÁöÑÂ∫èÂè∑ Êé®Ëçê touchpad-indicator ÊèíÂÖ•Èº†Ê†áÊó∂Ëá™Âä®‰ΩøËß¶Êë∏ÊùøÂ§±Êïà Êé®Ëçê Â£ÅÁ∫∏1234567# 1.ÂÆâË£Öarchiboldcurl -L -O http://archibold.io/sh/archiboldchmod +x archiboldsudo mv archibold /usr/bin# 2.ÊâßË°åarchibold login-background [Â£ÅÁ∫∏ÁöÑ‰ΩçÁΩÆ] Ê≠§Â§ñËøòÂèØ‰ª•ËÆ©Ê°åÈù¢ÂíåÈîÅÂ±èÁïåÈù¢‰ΩøÁî®Âä®ÊÄÅÂ£ÅÁ∫∏ÔºåÂä®ÊÄÅÂ£ÅÁ∫∏Áî±‰∏Ä‰∏™xmlÊñá‰ª∂ÊûÑÊàêÔºåÂ∞±ÂÉèËøôÊ†∑Ôºö12345678910111213141516171819202122232425262728293031323334&lt;background&gt; &lt;starttime&gt; &lt;year&gt;2011&lt;/year&gt; &lt;month&gt;11&lt;/month&gt; &lt;day&gt;24&lt;/day&gt; &lt;hour&gt;7&lt;/hour&gt; &lt;minute&gt;00&lt;/minute&gt; &lt;second&gt;00&lt;/second&gt; &lt;/starttime&gt; &lt;static&gt; &lt;duration&gt;3600.0&lt;/duration&gt; &lt;file&gt;picture1.jpg&lt;/file&gt; &lt;/static&gt; &lt;transition type="overlay"&gt; &lt;duration&gt;18000.0&lt;/duration&gt; &lt;from&gt;picture1.jpg&lt;/from&gt; &lt;to&gt;/picture2.jpg&lt;/to&gt; &lt;/transition&gt; &lt;static&gt; &lt;duration&gt;18000.0&lt;/duration&gt; &lt;file&gt;picture2.jpg&lt;/file&gt; &lt;/static&gt; &lt;transition type="overlay"&gt; &lt;duration&gt;21600.0&lt;/duration&gt; &lt;from&gt;picture2.jpg&lt;/from&gt; &lt;to&gt;picture1.jpg&lt;/to&gt; &lt;/transition&gt;&lt;/background&gt; ÁÆÄÂçïËß£Èáä‰ª•‰∏ãËøô‰∏™xmlÊñá‰ª∂ÁöÑÂê´‰πâÔºö starttimeÔºöËøô‰∏™ÈÉ®ÂàÜËßÑÂÆö‰∫ÜÂ£ÅÁ∫∏ÂàáÊç¢Ëµ∑ÂßãÊó∂Èó¥ÔºåËÆæÁΩÆÊàêËøáÂéªÁöÑÊüê‰∏™Êó∂Èó¥Âç≥ÂèØ(ËÆæÁΩÆÊàê2020Âπ¥Â∞±Ë¶ÅÁ≠âÂà∞2020Âπ¥Êâç‰ºöÊúâÊïàÊûú)staticÔºöËøô‰∏™ÈÉ®ÂàÜË°®Á§∫Âú®durationËßÑÂÆöÁöÑÊó∂Èó¥(‰ª•Áßí‰∏∫Âçï‰Ωç)‰∏≠Â£ÅÁ∫∏ÈÉΩÊòØfile‰∏≠ÁªôÂÆöÁöÑÈÇ£Âº†ÂõæÁâátransitionÔºöËøô‰∏™ÈÉ®ÂàÜË°®Á§∫Âú®durationËßÑÂÆöÁöÑÊó∂Èó¥ÂÜÖÂ£ÅÁ∫∏‰ªéfrom‰∏≠ÁöÑÂõæÁâáÂàáÊç¢Âà∞to‰∏≠ÁöÑÂõæÁâá‰Ω†ÂèØ‰ª•Ê∑ªÂä†‰ªªÊÑèÂ§ö‰∏™static+transitionÁöÑÁªÑÂêàÔºåÂè™ÈúÄË¶ÅÊúÄÂêé‰∏Ä‰∏™transitionÂàáÊç¢ÂõûÊúÄÂàùÁöÑstaticÈÇ£Âº†ÂõæÁâáÂ∞±ÂèØ‰ª•Âæ™ÁéØÊõ¥Êç¢Â£ÅÁ∫∏‰∫Ü„ÄÇ ÈÇ£‰πàÂ¶Ç‰ΩïÂêØÁî®ËøôÊ†∑ÁöÑxmlÊñá‰ª∂Âë¢ÔºåÂçïÂá≠Á≥ªÁªüËÆæÁΩÆÊó†Ê≥ïÂäûÂà∞ÔºåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®dconfÁ≥ªÁªüÈÖçÁΩÆÁºñËæëÂô®„ÄÇÈ¶ñÂÖàÊâìÂºÄdconfÁºñËæëÂô®ÔºåÂ±ïÂºÄorg‚Äìgnome‚Äìdesktop‚ÄìbackgroundËøô‰∏ÄÈ°πÔºåÂèØ‰ª•ÁúãÂà∞ÂÖ∂‰∏≠ÁöÑpicture-uri‰øÆËøô‰∏ÄÈ°πÁöÑÈªòËÆ§ÂÄºÊòØfile:///usr/share/backgrounds/gnome/adwaita-timed.xmlÔºåËøô‰∏™Â∞±ÊòØ‰Ω†ÂàöË£ÖÂ•ΩÊ°åÈù¢ÊòØÁöÑÈªòËÆ§Â£ÅÁ∫∏Âï¶ÔºåÂ∞ÜÂÖ∂ÊîπÊàê‰Ω†ÁöÑxmlÊñá‰ª∂Â∞±ÂèØ‰ª•‰∫Ü„ÄÇÈîÅÂ±èÁïåÈù¢ÁöÑÂ£ÅÁ∫∏Êõ¥Êç¢ÊñπÊ≥ï‰πü‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÊääorg‚Äìgnome‚Äìdesktop‚ÄìbackgroundÊîπÊàêorg‚Äìgnome‚Äìdesktop‚ÄìscreensaverËÄåÂ∑≤ ËΩØ‰ª∂ÂÆâË£ÖÊåá‰ª§ÂÆâË£Ö ÂëΩ‰ª§Èù¢ÊùøÂ∞èÊèêÁ§∫ 1234# ÂÆâË£Ösudo apt updatesudo apt install python3-dev python3-pipsudo -H pip3 install thefuck ÁßëÂ≠¶‰∏äÁΩë Client-SS 123456789# ÂÆâË£Ösudo add-apt-repository ppa:hzwhuang/ss-qt5sudo apt-get updatesudo apt-get install shadowsocks-qt5# ÂÆâË£Ö pipsudo pip install genpac# ‰∏ãËΩΩËá™Âä®ÁøªÂ¢ôÂàóË°®genpac -p "SOCKS5 127.0.0.1:1080" --gfwlist-proxy="SOCKS5 127.0.0.1:1080" --output="~/Documents/autoproxy.pac" --gfwlist-url="https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt" --user-rule-from="user-rules.txt" Ê∑ªÂä†ÂºÄÊú∫ÂêØÂä®commandÔºö/usr/bin/ss-qt5 Â±èÂπïÊà™Âõæ Shutter 12345# ÂÆâË£Ösudo apt-get install Shutter# ÊâìÂºÄ# ÊêúÁ¥¢ Shutter Èü≥ËßÜÈ¢ëËß£Á†Å ubuntu-restricted extras 12# ÂÆâË£Ösudo apt-get install ubuntu-restricted-extras ÁªàÁ´ØÂëΩ‰ª§ÊâßË°åÂÆåÊàêÊèêÈÜí 1234567891011# ÂÆâË£Ösudo apt-get install undistract-me# ÈÖçÁΩÆvim ~/.bashrc# Êñ∞Â¢ûÂ¶Ç‰∏ã‰∏§Ë°å# . /usr/share/undistract-me/long-running.bash# notify_when_long_running_commands_finish_install# ÁîüÊïàsource ~/.bashrc# ÊµãËØïsleep 11 GNOME MPV ‰ª£ÊõøVLCÊí≠ÊîæÂô® 1234# ÂÆâË£Ösudo add-apt-repository ppa:xuzhen666/gnome-mpvsudo apt-get updatesudo apt-get install gnome-mpv ËßÜÈ¢ëÊí≠Êîæ VLCÊí≠ÊîæÂô® 123456# ÂÆâË£Ösudo add-apt-repository ppa:videolan/master-dailysudo apt-get updatesudo apt-get install vlc# ‰ΩøÁî®# ÊêúÁ¥¢ vlc GrubÂºïÂØº Grub CustomizerÂèØÈÖçÁΩÆÂêØÂä®ÁïåÈù¢ÔºåÂêØÂä®È°πÁ≠â 123456# ÂÆâË£Ösudo add-apt-repository ppa:danielrichter2007/grub-customizersudo apt-get updatesudo apt-get install grub-customizer# ‰ΩøÁî®# ÊêúÁ¥¢ Grub Customizer Office WPS 12# ÂÆâË£Ösudo apt-get install wps-office [Â∞èÊèí‰ª∂]ÊåáÁ§∫Âô®ÊÄßËÉΩ SysPeek 1234# ÂÆâË£Ösudo add-apt-repository ppa:nilarimogard/webupd8 sudo apt-get updatesudo apt-get install syspeeka Synapse Âø´ÈÄüÂêØÂä®Âô® 123sudo add-apt-repository ppa:synapse-core/testingsudo apt-get updatesudo apt-get install synapse Uget‰∏ÄÊ¨æ‰∏ãËΩΩÂ∑•ÂÖ∑ÔºåÈÖçÂêà aria2 Êèí‰ª∂‰ΩøÁî®ÊïàÊûúÂá∫Ëâ≤curl + area2 + axel Âú∞ÂùÄÔºöÂèÇËÄÉ 1234# ÂÆâË£Ösudo add-apt-repository ppa:plushuang-tw/uget-stablesudo apt-get updatesudo apt-get install uget redshiftÁ±ª‰ºº f.lux ÁöÑÂ±èÂπïËâ≤Ê∏©Ë∞ÉÊï¥Â∑•ÂÖ∑ 12# ÂÆâË£Ösudo apt-get install redshift-gtk Ê∑ªÂä†ÂºÄÊú∫ÂêØÂä®commandÔºöredshift-gtk -l 39.92:116.46 -t 5500:4500 Go For It ‰∏ÄÊ¨æÊï¥Âêà‰∫ÜÂæÖÂäû‰∫ãÈ°π‰∏éËÆ°Êó∂Âô®ÁöÑÁîü‰∫ßÂäõÂ∫îÁî®„ÄÇ 1234# ÂÆâË£Ösudo add-apt-repository ppa:mank319/go-for-itsudo apt-get updatesudo apt-get install go-for-it Catfish ‰∏ÄÊ¨æ‰ºòÈõÖËøÖÊç∑ÁöÑÊñá‰ª∂ÊêúÁ¥¢Â∑•ÂÖ∑12# ÂÆâË£Ösudo apt-get install catfish Á•ûÁ∫ßÂëΩ‰ª§Ë°åËΩØ‰ª∂ Tmux ËØ¥Êòé1sudo apt-get install tmux cat‰ª£Á†ÅÈ´ò‰∫Æ12# ÂÆâË£Öpip install pygments ÈÖçÁΩÆÔΩû/.bashrcÂä†ÂÖ•alias cat=&#39;pygmentize -O style=monokai -f console256 -g&#39; ËΩØ‰ª∂ÂåÖÂÆâË£ÖÁ≥ªÁªüÁÆ°ÁêÜ UbuntuTweakÊâìÂºÄÔºöÊêúÁ¥¢ Ubuntu TweakÂêåÊ≠•ËΩØ‰ª∂ ÂùöÊûú‰∫ëÊâìÂºÄÔºöÊêúÁ¥¢ NutstoreÁôæÂ∫¶ÁΩëÁõòÊ°åÈù¢ÂÆ¢Êà∑Á´Ø BCloud‰æøÁ≠æMarkDownÁºñËæëËΩØ‰ª∂ HarooPadÂØÜÁ†ÅÁÆ°ÁêÜÂô® keepass2ÊêúÁãóËæìÂÖ•Ê≥ïÊúâÈÅìËØçÂÖ∏VMware WorkstationChromeÁΩëÊòìÈü≥‰πêÊï∞ÊçÆÂ∫ìËÆæËÆ°ËΩØ‰ª∂ DBdesigner4 - ÈóÆÈ¢ò1 Âê¨Ëµ∑Êù•‰∏çÈîô Deluge Bittorrent ÂÆ¢Êà∑Á´Ø NuttyÁΩëÁªúÁõëÊµãÂ∑•ÂÖ∑„ÄÇ Synaptic Êñ∞Á´ãÂæóËΩØ‰ª∂ÂåÖÁÆ°ÁêÜÂô® UNetbootinÂêØÂä®ÁõòÂà∂‰ΩúÂ∑•ÂÖ∑ GpickÊãæËâ≤Âô®„ÄÇ gpaint ÂæÆËΩØÁîªÂõæ ddm È©±Âä®ÁÆ°ÁêÜÂô® Navicat o(‚ïØ‚ñ°‚ï∞)o Á´üÁÑ∂ÊòØwineÁöÑ XMind Â∞èÊäÄÂ∑ßÂÖ≥Èó≠Á≥ªÁªüÊ£ÄÊµãÊä•Âëä12sudo gedit /etc/default/apport# ‰øÆÊîπenabled=0 ÂºÄÊú∫Ëá™Âä®ÂºÄÂêØÊï∞Â≠óÈîÆ1234567sudo apt-get install numlockxsudo vim /etc/gdm/Init/Default# -----------# Âú®Êñá‰ª∂ÊúÄÂêéexit 0ÁöÑÂâçÈù¢Ê∑ªÂä†Ôºö if [ -x /usr/bin/numlockx ]; then numlockx on fi ÈáçÂêØÂç≥ÂèØ ÊèíÂÖ•Èº†Ê†áÊó∂Ëá™Âä®‰ΩøËß¶Êë∏ÊùøÂ§±ÊïàÂÆâË£ÖTouchpad Indicator (Ëß¶Êë∏ÊùøÂºÄÂÖ≥Ôºâ123sudo add-apt-repository ppa:atareao/atareao sudo apt-get update sudo apt-get install touchpad-indicator ÊêúÁ¥¢ touchpad indicator ÈÅáÂà∞ÊòæÁ§∫‰ø©‰∏™ËæìÂÖ•Ê≥ïÂõæÊ†áÊÉÖÂÜµÊúâ‰∏ÄÂÆöÂéüÂõ†ÊòØËá™ÂêØÈ°πÂêØÂä®‰∫Ü‰∏Ä‰∏™ ÈªëÂ±è95% ÊòØÂíåÊòæÂç°È©±Âä®ÊúâÂÖ≥ Chrome ÊØèÊ¨°ÊâìÂºÄÈÉΩË¶ÅÊ±ÇËæìÂÖ•ÂØÜÁ†Å‰∏Ä„ÄÅÂà†Èô§Áé∞Âú®ÁöÑÂØÜÈí•ÁéØ ËßÜÂõæ-&gt;Ê†πÊçÆÂØÜÁ†ÅÁéØ Âú®ÂØÜÁ†ÅÂå∫‰ºöÊúâ‰∏Ä‰∏™‚ÄúÁôªÂΩï‚Äù‰∏∫ÂêçÂ≠óÁöÑÂØÜÈí•ÁéØÔºåÂè≥ÂáªÂ∞ÜÂÖ∂Âà†Èô§„ÄÇ‰∫å„ÄÅÊ∑ªÂä†Êñ∞ÁöÑÂØÜÈí•ÁéØ ÁªàÁ´ØËæìÂÖ•seahorseÊâìÂºÄÁÆ°ÁêÜÂØÜÈí•ÁéØÁöÑËΩØ‰ª∂ÔºåÊñá‰ª∂-&gt;Êñ∞Âª∫-&gt;ÂØÜÁ†ÅÂíåÂØÜÈí•-&gt;ËæìÂÖ•ÂêçÂ≠ó(ËøôÈáåÊòØ‰ª•‚Äùchrome‚Äù‰∏∫‰æã)„ÄÇÂØÜÁ†ÅËÆæÁΩÆ‰∏∫Á©∫ Ê∑ªÂä†Ê∫êÂÆâË£ÖÂêéÔºånot fount XX‰∏Ä„ÄÅ ËØïÁùÄËÆøÈóÆËØ•ÈìæÊé•‰∫å„ÄÅÂ¶ÇÊûúÂèØ‰ª•ÊâãÂä®ÊâæÂà∞ËØ•Ë∑ØÂæÑÔºåÈÇ£‰æøÂèØ‰ª•‰øÆÊîπ/etc/apt/source.list.d/ÁõÆÂΩï‰∏ã‰Ω†Ê∑ªÂä†ÁöÑÂÆâË£ÖÊ∫êÊñá‰ª∂‰æãÂ¶Ç1234vim /etc/apt/sources.list.d/sogoupinyin.list# ÊòæÁ§∫ÂÜÖÂÆπ# deb http://archive.ubuntukylin.com:10006/ubuntukylin trusty main# ÂèØ‰øÆÊîπÈìæÊé•ÈÉ®ÂàÜ„ÄÇ ÁΩëÂç°È©±Âä® Realtek RTL8723AE Êó†Á∫øÁΩëÂç°È©±Âä®Á¨¨‰∏ÄÁßç(Èó≠Ê∫êÈ©±Âä®)Ôºö 1sudo apt-get install linux-firmware-nonfree Á¨¨‰∫åÁßç(Á¨¨‰∏âÊñπÈ©±Âä®ÔºåPPAÂÆâË£Ö)Ôºö 123sudo add-apt-repository ppa:hanipouspilot/rtlwifisudo apt-get updatesudo apt-get install rtlwifi-new-dkms ÂΩìÈÅáÂà∞‰∫ßÂìÅÊó†Ê≥ïËæìÂÖ•‰∏≠ÊñáÁöÑÊó∂ÂÄôÂÖàÂ∞ùËØïÂç∏ËΩΩibusÔºåÂ¶ÇÊûúËøòÊòØ‰∏çÂèØ‰ª•ËØïËØïÂú®xxx.shÁöÑÂêØÂä®ËÑöÊú¨‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÔºö 12XMODIFIERS="@im=fcitx"export XMODIFIERS Âà∞ 123# ---------------------------------------------------------------------# Run the IDE.# --------------------------------------------------------------------- ‰πãÂâç„ÄÇÈÄöÁî®1sudo mv /usr/bin/ibus-daemon /usr/bin/ibus-daemon.fix Ëß£ÂÜ≥LC_CTYPE: cannot change locale (en_US.UTF-8) ÈîôËØØ12# Â¢ûÂä†en_US.UTF-8locale-gen en_US.UTF-8 ‰øÆÂ§çVMwareÊïÖÈöúÔºåÈó™ÈÄÄ ‰∏ãËΩΩUefi.priv„ÄÅfix.sh„ÄÅUefi.derËá≥‰∫éÂêå‰∏ÄÁõÆÂΩï. ÊâßË°å 1sh fix.sh]]></content>
      <categories>
        <category>OS</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
        <tag>Tips</tag>
        <tag>Gnome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo ‰ΩøÁî®Â∞èËÆ∞]]></title>
    <url>%2F2016%2F03%2F15%2Fhexo-%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ËøôÊòØ‰∏ÄÁØáÂÖ≥‰∫éÂ¶Ç‰Ωï‰ΩøÁî®hexoÁöÑÊî∂ÈõÜBox &gt; ‰∏çÂÆöÊúüÊõ¥Êñ∞ÂêßÔºÅ update 2017Âπ¥01Êúà12Êó•10:33:55 ÂèÇÁÖß hexo ÂÆòÊñπÊñáÊ°£ÂèÇÁÖß next ‰∏ªÈ¢òÂèÇÁÖß next ‰∏ªÈ¢ò for githubÂèÇÁÖß Êõ¥Â§öÊâ©Â±ï‰ΩøÁî® mdÊñáÊ°£Â§¥ÈÉ® ÂèÇÊï∞ ÊèèËø∞ ÈªòËÆ§ÂÄº layout Â∏ÉÂ±Ä ÊúâÂì™‰∫õlayoutÂë¢ÔºåËØ∑Âà∞ scaffolds ÁõÆÂΩï‰∏ãÊü•ÁúãÔºåËøô‰∫õÊñá‰ª∂ÂêçÁß∞Â∞±ÊòØlayoutÂêçÁß∞ title Ê†áÈ¢ò date Âª∫Á´ãÊó•Êúü Êñá‰ª∂Âª∫Á´ãÊó•Êúü updated Êõ¥Êñ∞Êó•Êúü Êñá‰ª∂Êõ¥Êñ∞Êó•Êúü comments ÂºÄÂêØÊñáÁ´†ÁöÑËØÑËÆ∫ÂäüËÉΩ true tags Ê†áÁ≠æÔºà‰∏çÈÄÇÁî®‰∫éÂàÜÈ°µÔºâ categories ÂàÜÁ±ªÔºà‰∏çÈÄÇÁî®‰∫éÂàÜÈ°µÔºâ permalink Ë¶ÜÁõñÊñáÁ´†ÁΩëÂùÄ description Ê∑ªÂä†Êú¨È°µÊèèËø∞ ÈªòËÆ§ÊâÄÊúâ photos Ê∑ªÂä†ÂõæÁâá hexo Âü∫Á°ÄÂëΩ‰ª§1234567891011121314# Ê∏ÖÈô§$ hexo clean# ‰∏ä‰º† GitHub$ hexo deploy# Êñ∞Âª∫ÊñáÁ´†$ hexo new "postName"# Êñ∞Âª∫È°µÈù¢hexo new page "pageName"# ÁîüÊàêÈùôÊÄÅÈ°µÈù¢Ëá≥publicÁõÆÂΩïhexo generate# ÂºÄÂêØÈ¢ÑËßàËÆøÈóÆÁ´ØÂè£ÔºàÈªòËÆ§Á´ØÂè£4000Ôºå'ctrl + c'ÂÖ≥Èó≠serverÔºâhexo server# Â∞Ü.deployÁõÆÂΩïÈÉ®ÁΩ≤Âà∞GitHubhexo deploy .md Êâ©Â±ï Êâ©Â§ßÂõæÁâáÂÆΩÂ∫¶ 1&#123;% fi image-url, alt, title %&#125; ÊòæÁ§∫ Êõ¥Â§öÊåâÈíÆ 123‰ª•‰∏äÊòØÊëòË¶Å&lt;!--more--&gt;‰ª•‰∏ãÊòØ‰Ωô‰∏ãÂÖ®Êñá ‰ΩøÁî®Ê†áÁ≠æÂà´Âêç 1&#123;% cq %&#125; Ê†áÁ≠æÂà´Âêç &#123;% endcq %&#125; ÂèØËÉΩÈÅáÂà∞ÁöÑÈóÆÈ¢ò ÂΩì‰Ω†ÂèëÂ∏ÉÁöÑ.mdÊñá‰ª∂‰∏≠Êê∫Â∏¶ÈÄóÂè∑,(Â∑≤Áü•)ÔºåÂú®Â§öËØ¥ËØÑËÆ∫Êèí‰ª∂‰∏≠Â∞ÜÊó†Ê≥ïËØÜÂà´ËØÑËÆ∫Êù°Êï∞(Â∞±ÊòØÊñáÁ´†È°∂ÈÉ®ÈÇ£‰∏™) ÂÄüÈâ¥ÂäûÊ≥ïÔºöÊõøÊç¢Êñá‰ª∂ÂëΩÂêçÔºåÂ∞ÜÈÄóÂè∑Â∑≤_Êàñ ÂàÜÈöî Êç¢ÁîµËÑëÂêé, Â¶Ç‰ΩïËøÅÁßªÔºü123456// ‰∏∫‰∫Ü‰ΩøÁî®hexo dÊù•ÈÉ®ÁΩ≤Âà∞git‰∏äÔºåÈúÄË¶ÅÂÆâË£Önpm install hexo-deployer-git --save// ‰∏∫‰∫ÜÂª∫Á´ãRSSËÆ¢ÈòÖÔºåÈúÄË¶ÅÂÆâË£Önpm install hexo-generator-feed --save// ‰∏∫‰∫ÜÂª∫Á´ãÁ´ôÁÇπÂú∞ÂõæÔºåÈúÄË¶ÅÂÆâË£Önpm install hexo-generator-sitemap --save ÂèØËÉΩ‰ºöÈÅáÂà∞ ‚Äò./build/Release/DTraceProviderBindings‚Äô] code: ‚ÄòMODULE_NOT_FOUND‚Äô 1npm install hexo --no-optional End]]></content>
      <categories>
        <category>Other</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
